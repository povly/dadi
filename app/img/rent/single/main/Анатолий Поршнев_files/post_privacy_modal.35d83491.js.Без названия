(()=>{"use strict";var e,t,s,n,i,r,o={658508:(e,t,s)=>{s.d(t,{Icon28ChevronRightOutline:()=>n});var n=(0,s(28178).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 7.5 6.5 6.5-6.5 6.5" /><path fill="currentColor" fill-rule="nonzero" d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414z" /></g></symbol>',28,28,!1,void 0)},449991:(e,t,s)=>{s.d(t,{AUTOMATIC_BEST_FRIENDS_FROM_HINTS_COUNT:()=>i,BEST_FRIENDS_MAX_COUNT:()=>n,BEST_FRIENDS_SELECT_MODE:()=>r});const n=100,i=10;var r;!function(e){e.ADD="add",e.DELETE="delete"}(r||(r={}))},222285:(e,t,s)=>{s.d(t,{BADGES_BOX_WIDTH:()=>n,BADGES_RESTRICTED_CLASS_SELECTOR_FOR_POST:()=>v,BADGE_COMMENT_SELECTOR:()=>l,BADGE_IMAGE_SIZE_100:()=>u,BADGE_IMAGE_SIZE_128:()=>h,BADGE_IMAGE_SIZE_20:()=>f,BADGE_IMAGE_SIZE_28:()=>S,BADGE_IMAGE_SIZE_64:()=>b,BADGE_IMAGE_SIZE_96:()=>p,BadgesEventName:()=>a,BadgesEventRef:()=>o,BadgesObjectType:()=>d,DONUT_BADGE_ID:()=>g,DONUT_FORM_STATUSES:()=>c,ERRORS:()=>r,LINK_TO_HELP_FOR_AUTHORS:()=>i,LoadingStatus:()=>_});const n=640,i="/@authors-badges";var r;!function(e){e[e.ERROR_PARAM=100]="ERROR_PARAM",e[e.NEED_CONFIRMATION=24]="NEED_CONFIRMATION",e[e.BALANCE=504]="BALANCE"}(r||(r={}));const o={TAB:"tab",SENDER_LIST:"sender_list",POST_BTN:"post_btn",COLLECTION_BLOCK:"collection_block",COLLECTON_ALL:"collecton_all",NOTIFICATION:"notification",PUSH:"push",PIN:"pin",COMMENT_IMG:"comment_img",COMMENT_LINK:"comment_link",PROFILE_DETAILS:"profile_details"},a={OPEN_BADGE:"open_badge",OPEN_BADGES_ALL:"open_badges_all"};var d;!function(e){e[e.WALL=11]="WALL"}(d||(d={}));const l="BadgeComment";var _;!function(e){e[e.pending=0]="pending",e[e.loaded=1]="loaded",e[e.failed=2]="failed"}(_||(_={}));const c={waiting:"waiting",initial:"initial",error:"error",waiting_timeout:"waiting_timeout",payment_cancel:"payment_cancel"},g=38,h=128,u=100,p=96,b=64,S=28,f=20,v="post--badgesRestricted"},849776:(e,t,s)=>{s.d(t,{buildBadgesStackHtml:()=>g,buildHtmlAttributesString:()=>_,getBadgeImage:()=>l,getBadgesPlacementInPostActionStatusBarToUpdate:()=>c,isBadgesDisabledForOwner:()=>u,openHelpPage:()=>p,updateNewPostHTMLForBadges:()=>h});var n=s(82161),i=s(316688),r=s(68003),o=s(29271),a=s(222285),d=s(216833);function l(e,t,s=!1){const{base_url:i,version:r}=e,o=r?`?${r}`:"";return!s&&(0,n.isRetina)()&&(t*=2),`${i}/${t}.png${o}`}const _=e=>Object.entries(e).reduce(((e,[t,s])=>{if(s){e+=` ${t}="${(0,n.escapeAttr)(String(s))}"`}return e}),""),c=(e,t,s)=>{var n;const r={place:void 0},o=e.querySelector(`._like_wall${t}_${s}`);if(!o)return(0,i.badgesLogger)("Нет кнопки лайка"),r;const a=null==(n=o.parentNode)?void 0:n.querySelector(".PostActionStatusBar");if(!a)return(0,i.badgesLogger)("Нет .PostActionStatusBar"),r;const d=a.querySelector(".BadgesStatusBar__badgesSendButton"),l=a.querySelector(".BadgesStack");return d||l?d?(r.element=d,r.place="button",r):(r.element=l,r.place="stack",r):((0,i.badgesLogger)('Нет ни стака значков, ни кнопки "Подарить"'),r)},g=({counters:e,badges:t,tqAttributes:s,withContainer:i,withLabel:a})=>{let d=0,l=0,c="";const g=r.colorScheme.isDarkScheme();if((e||[]).forEach((({type:e,badge_id:s,value:i})=>{if("total"===e)d=i;else if("badge"===e&&s&&l<3){var r;l++;const e=null==(r=t)?void 0:r.find((e=>e.id===s));if(e){const{image:t}=e,s=(0,n.isRetina)()?"stack28_light_2x.png":"stack28_light.png",i=(0,n.isRetina)()?"stack28_dark_2x.png":"stack28_dark.png",r=t.version?`?${t.version}`:"",o=`${t.base_url}/${s}${r}`,a=`${t.base_url}/${i}${r}`,d=_({src:g?a:o,class:"BadgesStackItem BadgesStack__item",alt:e.alt_text||"","data-src-light":o,"data-src-dark":a});c+=`<img ${d}>`}}})),d>0&&c){let e=`\n      <div class="BadgesStack__inner" ${s}>\n        <div class="BadgesStack__items">${c}</div>\n        <span class="BadgesStack__counter">${a?o.getLang("awards_have_gifted_badges_total",d):o.getLang("awards_wkview_badges_total",d)}</span>\n      </div>\n    `;if(i){e=`\n        <div data-tooltip-container="true" id="badges_stack" class="BadgesStack" ${"data-exec='{\"BadgesStack/init\":[]}'"}>\n          ${e}\n        </div>\n      `}return e}return""},h=(e,t,s)=>{var n,i;const r=s[2],[o,l]=r.split("_"),_=null==(i=t)||null==(n=i.wallTpl)?void 0:n.send_badge,c={};return(0,d.isBadgesEnabled)()&&_&&(e.push(_),Object.assign(c,{badges_object_id:l,badges_object_owner_id:o,badges_object_type:a.BadgesObjectType.WALL,badges_event_ref:a.BadgesEventRef.POST_BTN})),c},u=e=>{const t=e[16];try{var s;if(""===t||(null==(s=JSON.parse(t))?void 0:s.is_disabled))return!0}catch(e){return(0,i.badgesLogger)("Event from queue about IS_DISABLED_FOR_OWNER is not json"),!1}return!1},p=()=>{window.open(a.LINK_TO_HELP_FOR_AUTHORS,"_blank")}},316688:(e,t,s)=>{s.d(t,{badgesLogger:()=>i});var n=s(970978);const i=(e,t)=>{window.vk.dev&&console.log(t),(0,n.logError)(new Error(e),{environment:"badges"})}},341663:(e,t,s)=>{s.d(t,{BestFriendsConversationsBlock:()=>c});var n=s(785893),i=s(667294),r=s(681088),o=s(512334),a=s(589897),d=s(205423),l=s(883951),_=s(29271);class c extends i.Component{render(){const{conversations:e,conversationsShownCount:t,showMoreConversations:s,onConversationClick:i,fromSearch:a}=this.props,c=a?e:e.slice(0,t),g=Math.min(e.length-t,5),h=_.getLang("wall_best_friends_settings_box_conversation_more",g);return(0,n.jsxs)("div",{className:"BestFriendsSettingsBox__chats",children:[(0,n.jsx)("div",{className:"BestFriendsSettingsBox__header",children:(0,n.jsx)("span",{className:"BestFriendsSettingsBox__sectionTitle",children:_.getLang("wall_best_friends_settings_box_title_chats")})}),c.map(((e,t)=>(0,n.jsx)(o.default,{aside:a?"":this.getButton(e),onClick:()=>i(e.peerId,!this.isAllFriendsAdded(e)||a,a,a),children:(0,n.jsx)(d.default,{size:"34",title:e.name,description:this.getDescription(e),photo:(0,n.jsx)(r.default,{photos:this.getAvatarImages(e)})})},t))),!a&&g>0&&(0,n.jsx)(l.ListMore,{className:"BestFriendsSettingsBox__listMore",onClick:s,children:h})]})}isAllFriendsAdded(e){return e.userIds.every((e=>this.props.bestFriends.includes(e)))}getAvatarImages(e){const t=[];return e.photoUrl?t.push(e.photoUrl):e.userIds.slice(0,4).forEach((e=>{const s=this.props.friends.find((t=>t.id===e));s&&t.push(s.photoUrl)})),t}getButton(e){let t=_.getLang("wall_best_friends_settings_box_conversation_add"),s="secondary";return this.isAllFriendsAdded(e)&&(t=_.getLang("wall_best_friends_settings_box_conversation_cancel"),s="tertiary"),(0,n.jsx)(a.default,{mode:s,size:"s",children:t})}getDescription(e){return _.getLang("wall_best_friends_settings_box_conversation_friends_count",e.userIds.length)}}},246615:(e,t,s)=>{s.d(t,{BestFriendsFriendsBlock:()=>h});var n=s(785893),i=s(667294),r=s(758021),o=s(375135),a=s(512334),d=s(205423),l=s(840842),_=s(29271),c=s(659397),g=s(449991);class h extends i.Component{render(){const{friendsList:e,fromSearch:t,clearFriends:s}=this.props;return(0,n.jsxs)("div",{className:"BestFriendsSettingsBox__friends",children:[(0,n.jsxs)("div",{className:"BestFriendsSettingsBox__header",children:[(0,n.jsx)("span",{className:"BestFriendsSettingsBox__sectionTitle",children:_.getLang("wall_best_friends_settings_box_title_friends")}),!t&&(0,n.jsx)(l.default,{className:"BestFriendsSettingsBox__link",onClick:s,children:_.getLang("wall_best_friends_settings_box_friends_clear")})]}),(0,n.jsx)(r.default,{className:"BestFriendsSettingsBox__list",loadMore:()=>{},hasMore:!1,children:e.map((e=>this.renderItem(e,t)))})]})}renderItem(e,t=!1){const s=this.props.isSelected(e.id),i=this.props.bestFriends.length>=g.BEST_FRIENDS_MAX_COUNT&&!s,r=t||i,l=(0,c.classNames)("BestFriendsSettingsBox__item",{"BestFriendsSettingsBox__item--disabled":i});return(0,n.jsx)(a.default,{onClick:()=>this.props.select(e.id,t,t?g.BEST_FRIENDS_SELECT_MODE.ADD:"",t),aside:r?"":(0,n.jsx)(o.ListMultiSelectControl,{isSelected:s}),className:l,canBeHovered:!i,selectable:!i,children:(0,n.jsx)(d.default,{size:"34",title:e.name,photo:e.photoUrl})},e.id)}}},555256:(e,t,s)=>{s.d(t,{BestFriendsSettingsBox:()=>F});var n=s(785893),i=s(667294),r=s(341663),o=s(246615),a=s(635928),d=s(832550),l=s(816511),_=s(103045),c=s(331533),g=s(545637),h=s(33045),u=s(126116),p=s(29271),b=s(514986),S=s(672132),f=s(725296),v=s(449991),E=s(234275);class F extends i.Component{componentDidMount(){const{friendsSorted:e,bestFriends:t}=this.state;t.length||this.select(e.slice(0,v.AUTOMATIC_BEST_FRIENDS_FROM_HINTS_COUNT).map((e=>e.id)),!1,v.BEST_FRIENDS_SELECT_MODE.ADD)}renderNotFound(e){const t=e?p.getLang("wall_best_friends_settings_no_friends"):p.getLang("wall_search_nothing_found");return(0,n.jsx)(a.Placeholder,{children:t})}renderContent(e,t,s=!1){return(0,n.jsxs)("div",{className:"BestFriendsSettingsBox__inner",children:[Boolean(t.length)&&(0,n.jsx)(r.BestFriendsConversationsBlock,{conversations:t,conversationsShownCount:this.state.conversationsShownCount,showMoreConversations:this.showMoreConversations,onConversationClick:this.onConversationClick,fromSearch:s,bestFriends:this.state.bestFriends,friends:this.state.friendsSorted}),Boolean(e.length)&&(0,n.jsx)(o.BestFriendsFriendsBlock,{bestFriends:this.state.bestFriends,fromSearch:s,friendsList:e,select:this.select,isSelected:this.isSelected,clearFriends:this.clearFriends})]})}initIndexer(){const{friends:e,conversations:t}=this.props;this.indexedFriends=new S.vkIndexer(e,(e=>[e.name,e.domain].filter(Boolean).join(" "))),this.indexedConversations=new S.vkIndexer(t,(e=>e.name))}getFilteredFriendsList(){const{friends:e,bestFriends:t}=this.props;return[...t.map((t=>e.find((e=>e.id===t)))),...e.filter((e=>!t.includes(e.id)))].filter((e=>e))}getFilteredData(){let{searchQuery:e,friendsSorted:t,conversationsSorted:s}=this.state;return e&&(t=this.indexedFriends.search(e),s=this.indexedConversations.search(e)),{friendsSorted:t,conversationsSorted:s}}getActionModalButtons(){const{onClose:e}=this.props,{isSaving:t}=this.state;return[(0,n.jsx)(d.Button,{mode:"tertiary",size:"m",onClick:()=>e(),children:p.getLang("global_cancel")},"close"),(0,n.jsx)(d.Button,{mode:"primary",size:"m",onClick:this.onClickSave,loading:t,disabled:this.compareBestFriendsList(),children:p.getLang("global_save")},"publish")]}getHint(){const{bestFriends:e}=this.state;return e.length?p.getLang("wall_best_friends_settings_box_friends_count",e.length):""}compareBestFriendsList(){const{bestFriends:e}=this.props,{bestFriends:t}=this.state;return e.length===t.length&&e.every((e=>t.includes(e)))}getConversationByPeerId(e){return this.state.conversationsSorted.find((t=>t.peerId===e))}getBestFriendsFromBatch(e){let t=this.props.bestFriends.slice();return e.forEach((e=>{e.op===v.BEST_FRIENDS_SELECT_MODE.DELETE?t.splice(t.indexOf(e.user_id),1):t.push(e.user_id)})),t}render(){const{searchQuery:e}=this.state,{friendsSorted:t,conversationsSorted:s}=this.getFilteredData(),{friends:i}=this.props,r=0===i.length,o=e&&!t.length&&!s.length;return(0,n.jsxs)(l.ModalBox,{className:"BestFriendsSettingsBox",children:[(0,n.jsx)(_.ModalHeaderHero,{onClose:this.props.onClose,closeAriaLabel:p.getLang("global_close"),description:(0,n.jsx)(c.InnerHTML,{children:p.getLang("wall_best_friends_settings_box_subtitle")}),children:p.getLang("wall_best_friends_settings_box_title")}),(0,n.jsxs)("div",{className:"BestFriendsSettingsBox__body",children:[(0,n.jsx)(g.Div,{mode:"horizontal",spacing:8,children:(0,n.jsx)(h.Search,{onChange:e=>this.setState({searchQuery:e.target.value}),placeholder:p.getLang("wall_best_friends_settings_box_search_placeholder"),autoFocus:!0,value:e},"search")}),r||o?this.renderNotFound(r):this.renderContent(t,s,Boolean(e))]}),(0,n.jsx)(u.ModalFooter,{before:this.getHint(),actionButtons:this.getActionModalButtons()})]})}constructor(e){super(e),this.onClickSave=()=>{(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.saveBestFriendsList);const e=(e,t)=>{(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.updatePopupSave);const{onSave:s}=this.props;this.setState({isSaving:!0}),window.ajax.post("al_wall.php",{act:"edit_best_friends",batch:JSON.stringify(this.state.batchItems),hash:this.props.hash},{onDone:()=>{var t;this.setState({isSaving:!1}),null==(t=e)||t.hide(),s&&s(this.state.bestFriends.length)},onFail:t=>{var s;return(0,b.showFastBox)(p.getLang("global_error"),t||p.getLang("global_unknown_error")),this.setState({isSaving:!1}),null==(s=e)||s.hide(),!0},showProgress:()=>(0,f.lockButton)(t),hideProgress:()=>(0,f.unlockButton)(t)})};if(0===this.state.bestFriends.length)e(null,null);else{const t=`\n        <div class="BestFriendsSettingsBoxConfirm">\n          <span class="BestFriendsSettingsBoxConfirm__title">${p.getLang("wall_best_friends_settings_box_confirm_save")}</span>\n          <span class="BestFriendsSettingsBoxConfirm__text">${p.getLang("wall_best_friends_settings_box_confirm_save_text")}</span>\n        </div>\n      `,s=(0,b.showFastBox)(p.getLang("wall_best_friends_settings_box_confirm_title"),t,p.getLang("global_save"),(t=>e(s,t)),p.getLang("global_cancel"),(()=>(e=>{e.hide(),(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.updatePopupCancel)})(s)))}},this.showMoreConversations=()=>{(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.moreChats),this.setState({conversationsShownCount:this.state.conversationsShownCount+5})},this.isSelected=e=>this.state.bestFriends.includes(e),this.select=(e,t,s,n)=>{n&&(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.selectFriendFromSearch);const{batchItems:i,friendsSorted:r}=this.state,o=s===v.BEST_FRIENDS_SELECT_MODE.ADD;Array.isArray(e)||(e=[e]);let a=r.slice(),d=i.slice();e.forEach((e=>{const s=this.isSelected(e),n=this.getBestFriendsFromBatch(d).length;if(s||!(n>=v.BEST_FRIENDS_MAX_COUNT)){if(!o||!s){const t=d.findIndex((t=>t.user_id===e));-1!==t?d.splice(t,1):d.push({op:s?v.BEST_FRIENDS_SELECT_MODE.DELETE:v.BEST_FRIENDS_SELECT_MODE.ADD,user_id:e})}if(t){const t=a.findIndex((t=>t.id===e));a.unshift(...a.splice(t,1))}}})),this.setState({searchQuery:"",bestFriends:this.getBestFriendsFromBatch(d),batchItems:d,friendsSorted:a})},this.clearFriends=()=>{this.select(this.state.bestFriends),(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.clear)},this.onConversationClick=(e,t,s,n)=>{const{conversationsSorted:i}=this.state,r=this.getConversationByPeerId(e);if(!r)return;let o=i.slice(),a=this.state.conversationsShownCount;if(s){const t=o.map((e=>e.peerId)).indexOf(e);o.unshift(...o.splice(t,1)),t+1>a&&(a+=1)}t&&(n?(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.selectChatFromSearch):(0,E.sendBestFriendsAnalytic)(E.BestFriendsEventType.addFriendsFromChat)),this.setState({conversationsSorted:o,conversationsShownCount:a},(()=>{const e=t?v.BEST_FRIENDS_SELECT_MODE.ADD:v.BEST_FRIENDS_SELECT_MODE.DELETE;this.select(r.userIds,t,e)}))};const{conversations:t,bestFriends:s}=e;this.state={isSaving:!1,searchQuery:"",friendsSorted:this.getFilteredFriendsList(),conversationsSorted:t,conversationsShownCount:2,bestFriends:s,batchItems:[]},this.initIndexer()}}},586536:(e,t,s)=>{s.d(t,{bestFriendsBoxSettings:()=>c});var n=s(434788),i=s(785893),r=s(555256),o=s(29271),a=s(514986),d=s(970978),l=s(584356),_=s(359639);const c=e=>{window.ajax.post("al_wall.php",{act:"get_best_friends_box_data"},{loader:!0,onDone:(t,s,a,d)=>{(0,_.showMessageBoxModal)((_=>{const{onClose:c}=_;return(0,i.jsx)(r.BestFriendsSettingsBox,(0,n._)({},_,{friends:t,bestFriends:s,conversations:a,hash:d,onSave:t=>{((t,s)=>{e&&e(t);let n=o.getLang("wall_best_friends_settings_box_saved"),i=o.getLang("wall_best_friends_settings_box_saved_text");0===t&&(n=o.getLang("wall_best_friends_settings_box_saved_empty"),i=o.getLang("wall_best_friends_settings_box_saved_empty_text")),(0,l.showDoneBox)(`<div class="top_result_header">${n}</div>${i}`),s()})(t,c)}}))}),{width:450})},onFail:e=>((0,a.showFastBox)(o.getLang("global_error"),e||o.getLang("global_unknown_error")),(0,d.logError)(new Error("get_best_friends_box_data error"+(e?`: ${e}`:""))),!0)})}},861690:(e,t,s)=>{var n,i,r,o=s(622121);(null==(i=window.vk)||null==(n=i.pe)?void 0:n.static_manager_dynamic_imports)&&(null==(r=window.vk)?void 0:r.stDomain)&&(s.p=window.vk.stDomain+"/dist/"),window.openPostPrivacyModal=o.openPostPrivacyModal;try{window.stManager.done(window.jsc("web/post_privacy_modal.js"))}catch(e){}},166472:(e,t,s)=>{s.d(t,{PRIVACY_MODAL_MODES:()=>S,PrivacyModal:()=>F});var n=s(785893),i=s(234275),r=s(586536),o=s(816511),a=s(685371),d=s(439536),l=s(331533),_=s(398310),c=s(832550),g=s(560004),h=s(555510),u=s(82161),p=s(29271),b=s(359639);const S={BEST_FRIENDS_ENTRYPOINT:"bestFriendsEntrypoint",CHOOSE_BEST_FRIENDS:"chooseBestFriends",CREATE_POST_FOR_BEST_FRIENDS:"createPostForBestFriends",CREATE_POST_FOR_FRIENDS:"createPostForFriends",OWN_POST_FOR_BEST_FRIENDS:"ownPostForBestFriends",OWN_POST_FOR_BEST_FRIENDS_EMPTY:"ownPostForBestFriendsEmpty",OWN_POST_FOR_FRIENDS:"ownPostForFriends"},f="best_friends_only",v="friends_only",E=e=>{const t=new URLSearchParams({post_privacy:e,own:1,new_post:1}).toString();return`/wall${window.vk.id}?${t}`},F=({mode:e,name:t,sex:s,onClose:F})=>{const{title:B,text:m,buttonText:w,action:y}=((e,t,s,n)=>{let o="",a="",d="",l=()=>{};const _=e=>{(0,i.sendBestFriendsAnalytic)(i.BestFriendsEventType.editBestFriendsFromPopup),n(),(0,r.bestFriendsBoxSettings)((t=>{var s;if(0===t)return;if(e)return void window.open(E(f));const n=document.getElementById("best_friends_only");if(!n)return;const i=p.getLang("wall_best_friends_settings_box_conversation_friends_count",t);n.innerHTML=(0,u.getTemplate)("visibility_access_best_friends_only_option",{html:(0,u.getTemplate)("visibility_access_best_friends_only_item",{count_text:i}),count:t}),g.default.showEditPost(),g.default.togglePostVisibilityAccess(n,h.VISIBILITY_ACCESS_OPTIONS.ONLY_BEST_FRIENDS,"",!0),null==(s=document.querySelector(".BestFriendsSettingsEntrypoint"))||s.remove()}))};switch(e){case S.BEST_FRIENDS_ENTRYPOINT:o=p.getLang("wall_privacy_modal_best_friends_own_title"),a=p.getLang("wall_privacy_modal_best_friends_own_text"),d=p.getLang("wall_privacy_modal_choose_best_friends_button"),l=_;break;case S.CHOOSE_BEST_FRIENDS:o=(0,p.langSex)(s,p.getLang("wall_privacy_modal_best_friends_title","raw")).replace("{name}",t),a=p.getLang("wall_privacy_modal_choose_best_friends_text"),d=p.getLang("wall_privacy_modal_choose_best_friends_button"),l=()=>_(!0);break;case S.CREATE_POST_FOR_BEST_FRIENDS:o=(0,p.langSex)(s,p.getLang("wall_privacy_modal_best_friends_title","raw")).replace("{name}",t),a=p.getLang("wall_privacy_modal_best_friends_text"),d=p.getLang("wall_privacy_modal_create_post_button"),l=()=>{(0,i.sendBestFriendsAnalytic)(i.BestFriendsEventType.createPostFromPopupBest),window.open(E(f)),n()};break;case S.CREATE_POST_FOR_FRIENDS:o=(0,p.langSex)(s,p.getLang("wall_privacy_modal_friends_title","raw")).replace("{name}",t),a=p.getLang("wall_privacy_modal_friends_text"),d=p.getLang("wall_privacy_modal_create_post_button"),l=()=>{(0,i.sendBestFriendsAnalytic)(i.BestFriendsEventType.createPostFromPopupFriends),window.open(E(v)),n()};break;case S.OWN_POST_FOR_BEST_FRIENDS:o=p.getLang("wall_privacy_modal_own_post_for_best_friends_title"),a=p.getLang("wall_privacy_modal_own_post_for_best_friends_text"),d=p.getLang("wall_privacy_modal_create_post_more_button"),l=()=>{(0,i.sendBestFriendsAnalytic)(i.BestFriendsEventType.createPostFromPopupBest),window.open(E(f)),n()};break;case S.OWN_POST_FOR_BEST_FRIENDS_EMPTY:o=p.getLang("wall_privacy_modal_own_post_for_best_friends_empty_title"),a=p.getLang("wall_privacy_modal_own_post_for_best_friends_empty_text"),d=p.getLang("wall_privacy_modal_choose_best_friends_button"),l=()=>_(!0);break;case S.OWN_POST_FOR_FRIENDS:o=p.getLang("wall_privacy_modal_own_post_for_friends_title"),a=p.getLang("wall_privacy_modal_own_post_for_friends_text"),d=p.getLang("wall_privacy_modal_create_post_more_button"),l=()=>{(0,i.sendBestFriendsAnalytic)(i.BestFriendsEventType.createPostFromPopupFriends),window.open(E(v)),n()}}return{title:o,text:a,buttonText:d,action:l}})(e,t,s,F);return(0,n.jsxs)(o.ModalBox,{children:[(0,n.jsx)(b.MessageBoxDismissButton,{onClick:F}),(0,n.jsxs)(a.ModalBody,{insetLevel:1,children:[(0,n.jsx)(d.ModalTextLayout,{subheader:(0,n.jsx)(l.InnerHTML,{Component:"div",className:"PrivacyModal__text",children:m}),subheaderMode:"primary",children:B}),(0,n.jsx)(_.ButtonLayout,{children:(0,n.jsx)(c.Button,{size:"m",mode:"primary",onClick:()=>y(),children:w})})]})]})}},622121:(e,t,s)=>{s.d(t,{openPostPrivacyModal:()=>d});var n=s(434788),i=s(785893),r=s(234275),o=s(166472),a=s(359639);const d=(e,t="",s=0)=>{const d=[o.PRIVACY_MODAL_MODES.CHOOSE_BEST_FRIENDS,o.PRIVACY_MODAL_MODES.CREATE_POST_FOR_BEST_FRIENDS,o.PRIVACY_MODAL_MODES.OWN_POST_FOR_BEST_FRIENDS,o.PRIVACY_MODAL_MODES.OWN_POST_FOR_BEST_FRIENDS_EMPTY].includes(e),l=[o.PRIVACY_MODAL_MODES.CREATE_POST_FOR_FRIENDS,o.PRIVACY_MODAL_MODES.OWN_POST_FOR_FRIENDS].includes(e);d?(0,r.sendBestFriendsAnalytic)(r.BestFriendsEventType.clickToLockBestFriends):l?(0,r.sendBestFriendsAnalytic)(r.BestFriendsEventType.clickToLockFriends):e===o.PRIVACY_MODAL_MODES.BEST_FRIENDS_ENTRYPOINT&&(0,r.sendBestFriendsAnalytic)(r.BestFriendsEventType.clickToBestFriendsEntrypoint),(0,a.showMessageBoxModal)((r=>(0,i.jsx)(o.PrivacyModal,(0,n._)({},r,{mode:e,name:t,sex:s}))),{width:450})}}},a={};function d(e){var t=a[e];if(void 0!==t)return t.exports;var s=a[e]={exports:{}};return o[e].call(s.exports,s,s.exports,d),s.exports}d.m=o,e=[],d.O=(t,s,n,i)=>{if(!s){var r=1/0;for(_=0;_<e.length;_++){for(var[s,n,i]=e[_],o=!0,a=0;a<s.length;a++)(!1&i||r>=i)&&Object.keys(d.O).every((e=>d.O[e](s[a])))?s.splice(a--,1):(o=!1,i<r&&(r=i));if(o){e.splice(_--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var _=e.length;_>0&&e[_-1][2]>i;_--)e[_]=e[_-1];e[_]=[s,n,i]},d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,d.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);d.r(i);var r={};t=t||[null,s({}),s([]),s(s)];for(var o=2&n&&e;"object"==typeof o&&!~t.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,d.d(i,r),i},d.d=(e,t)=>{for(var s in t)d.o(t,s)&&!d.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce(((t,s)=>(d.f[s](e,t),t)),[])),d.u=e=>25394===e?"web/chunks/AudioLongtapModal.5c994570.js":24817===e?"web/chunks/hls.b496ce21.js":75980===e?"web/chunks/menu_settings.ad849031.js":9375===e?"web/chunks/voice_message_player.1c43f503.js":28762===e?"web/chunks/speech.d9867703.js":57468===e?"web/chunks/SilentModeForms.6c78e68c.js":28872===e?"web/chunks/feed-client-nav-skeleton.23b1194f.js":35953===e?"web/chunks/feed-client-nav-async-right-block.6f6f61b6.js":29019===e?"web/chunks/ReportForm.deef89f4.js":26464===e?"web/chunks/6fb20e5b.async.cddef5dc.js":14930===e?"web/chunks/d250583b.async.8610a34b.js":90993===e?"web/chunks/ba3a5fe4.async.82a10a3d.js":48801===e?"web/chunks/181f948b.async.41a9e473.js":58932===e?"web/chunks/60e6414a.async.c385477c.js":59727===e?"web/chunks/VideoUpload.3acac7fc.js":77806===e?"web/chunks/apps_attach_modal.db09ccfd.js":95413===e?"web/chunks/43dc6165.async.8840829e.js":72229===e?"web/chunks/VideoEditor.acfe1beb.js":30271===e?"web/chunks/VideoUploadModal.b5fe139e.js":31286===e?"web/chunks/VideoExternalUploadModal.479f67a1.js":74212===e?"web/chunks/"+e+".f60e3da7.js":9202===e?"chunks/9202.72ad8960.js":79118===e?"chunks/"+e+".1f93e9b5.js":22197===e?"chunks/"+e+".fd9e68c0.js":77950===e?"chunks/"+e+".f03dc111.js":void 0,d.miniCssF=e=>25394===e?"web/chunks/5e3e105f.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/a2979e7d.css":29019===e?"web/chunks/1c452c59.css":59727===e?"web/chunks/43d06ff5.css":77806===e?"web/chunks/a16fc671.css":72229===e?"web/chunks/8a1e1be6.css":{30271:1,31286:1}[e]?"web/chunks/a6aadac7.css":void 0,d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},d.l=(e,t,s,i)=>{if(n[e])n[e].push(t);else{var r,o;if(void 0!==s)for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){var _=a[l];if(_.getAttribute("src")==e||_.getAttribute("data-webpack")=="vk:"+s){r=_;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,d.nc&&r.setAttribute("nonce",d.nc),r.setAttribute("data-webpack","vk:"+s),r.src=e),n[e]=[t];var c=(t,s)=>{r.onerror=r.onload=null,clearTimeout(g);var i=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(s))),t)return t(s)},g=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),o&&document.head.appendChild(r)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="/dist/",i=e=>new Promise(((t,s)=>{var n=d.miniCssF(e),i=d.p+n;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var i=(o=s[n]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){var o;if((i=(o=r[n]).getAttribute("data-href"))===e||i===t)return o}})(n,i))return t();((e,t,s,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=r=>{if(i.onerror=i.onload=null,"load"===r.type)s();else{var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=o,d.request=a,i.parentNode.removeChild(i),n(d)}},i.href=t,document.head.appendChild(i)})(e,i,t,s)})),r={2884:0},d.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{25394:1,29019:1,30271:1,31286:1,57468:1,59727:1,72229:1,75980:1,77806:1}[e]&&t.push(r[e]=i(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{d.b=document.baseURI||self.location.href;var e={2884:0};d.f.j=(t,s)=>{var n=d.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var i=new Promise(((s,i)=>n=e[t]=[s,i]));s.push(n[2]=i);var r=d.p+d.u(t),o=new Error;d.l(r,(s=>{if(d.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",o.name="ChunkLoadError",o.type=i,o.request=r,n[1](o)}}),"chunk-"+t,t)}},d.O.j=t=>0===e[t];var t=(t,s)=>{var n,i,[r,o,a]=s,l=0;if(r.some((t=>0!==e[t]))){for(n in o)d.o(o,n)&&(d.m[n]=o[n]);if(a)var _=a(d)}for(t&&t(s);l<r.length;l++)i=r[l],d.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return d.O(_)},s=self.webpackChunkvkweb=self.webpackChunkvkweb||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var l=d.O(void 0,[213,2067,83737,57451,71610,5038,95167,67475,14197,15201,3944,38234,5929,74606,7139],(()=>d(861690)));l=d.O(l)})();