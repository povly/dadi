(()=>{"use strict";var e,t,n,r,i,o,s={622451:(e,t,n)=>{n.d(t,{Icon16HelpOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon16HelpOutline","help_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="help_outline_16"><path fill="currentColor" d="M7.972 9.598c.376 0 .583-.21.662-.572.07-.454.228-.686.932-1.102.747-.449 1.134-1.005 1.134-1.82 0-1.26-1.012-2.102-2.516-2.102-1.139 0-1.986.46-2.325 1.172-.106.206-.159.41-.159.643 0 .41.26.675.678.675.323 0 .561-.15.694-.497.17-.48.519-.74 1.038-.74.583 0 .985.368.985.897 0 .497-.206.767-.89 1.183-.625.373-.948.794-.948 1.432v.075c0 .443.265.756.715.756M8 2.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8m7.9 3.1a.9.9 0 0 1-.9.9.9.9 0 0 1-.9-.9.9.9 0 0 1 .9-.9.9.9 0 0 1 .9.9" /></symbol>',16,16,!1,void 0)},297973:(e,t,n)=>{n.d(t,{Icon16InfoOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon16InfoOutline","info_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="info_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m-7 4a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 8 12m-.9-7.1a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0" /></symbol>',16,16,!1,void 0)},587109:(e,t,n)=>{n.d(t,{Icon20Favorite:()=>r});var r=(0,n(28178).makeIcon)("Icon20Favorite","favorite_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="favorite_20"><path fill="currentColor" d="m7.281 4.986-.525 1.212c-.036.085-.055.127-.083.16a.281.281 0 0 1-.09.07.617.617 0 0 1-.176.037l-.75.106c-2.15.305-3.224.457-3.676.96a1.865 1.865 0 0 0-.44 1.611c.133.664.981 1.344 2.676 2.704l.274.22a.627.627 0 0 1 .14.13.282.282 0 0 1 .042.114c.007.046-.003.095-.02.192l-.085.445c-.474 2.503-.71 3.755-.339 4.366a1.855 1.855 0 0 0 1.505.89c.714.031 1.692-.782 3.647-2.408l.337-.28c.102-.086.153-.128.21-.144a.28.28 0 0 1 .154 0c.057.016.108.058.21.143l.337.28c1.955 1.627 2.932 2.44 3.646 2.41a1.855 1.855 0 0 0 1.505-.89c.373-.612.136-1.864-.338-4.366l-.084-.446c-.019-.097-.028-.146-.022-.192a.282.282 0 0 1 .042-.113.625.625 0 0 1 .14-.132l.274-.22c1.696-1.359 2.543-2.038 2.676-2.703a1.865 1.865 0 0 0-.44-1.61c-.45-.504-1.526-.656-3.675-.96l-.75-.107c-.09-.013-.136-.019-.176-.038a.28.28 0 0 1-.09-.07c-.029-.032-.047-.074-.084-.159l-.524-1.212c-.86-1.988-1.29-2.981-1.893-3.284a1.851 1.851 0 0 0-1.663 0c-.602.303-1.032 1.296-1.892 3.284" /></symbol>',20,20,!1,void 0)},495906:(e,t,n)=>{n.d(t,{Icon20HelpOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.144 2.298l-.009.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25M10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17M3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},949780:(e,t,n)=>{n.d(t,{Icon2418CircleOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon2418CircleOutline","18_circle_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="18_circle_outline_24"><path fill-rule="evenodd" d="M12 2.1c5.467 0 9.9 4.433 9.9 9.9 0 5.467-4.433 9.9-9.9 9.9-5.467 0-9.9-4.433-9.9-9.9 0-5.467 4.433-9.9 9.9-9.9m0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9" clip-rule="evenodd" /><path d="M9.137 15.998c.585 0 .977-.382.977-.973V9.101C10.114 8.424 9.701 8 8.992 8c-.387 0-.72.043-1.134.322l-1.466 1c-.28.193-.392.413-.392.698 0 .397.285.682.666.682.188 0 .306-.043.483-.167l.967-.671h.038v5.161c0 .591.397.973.983.973m5.11.002c1.921 0 3.253-.908 3.253-2.25 0-1.03-.774-1.753-1.842-1.938v-.036c.92-.206 1.563-.866 1.563-1.695 0-1.21-1.21-2.081-2.974-2.081-1.758 0-2.973.871-2.973 2.075 0 .845.647 1.495 1.573 1.7v.037c-1.068.185-1.847.904-1.847 1.933C11 15.092 12.321 16 14.247 16m0-4.774c-.62 0-1.063-.39-1.063-.95 0-.565.448-.95 1.063-.95.621 0 1.074.385 1.074.95 0 .56-.447.95-1.074.95m0 3.443c-.72 0-1.22-.449-1.22-1.066 0-.608.5-1.046 1.22-1.046.727 0 1.227.438 1.227 1.046 0 .617-.5 1.066-1.227 1.066" /></symbol>',24,24,!1,void 0)},88493:(e,t,n)=>{n.d(t,{Icon24BlockOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon24BlockOutline","block_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="block_outline_24"><path fill-rule="evenodd" d="M2.1 12c0-5.468 4.432-9.9 9.9-9.9s9.9 4.432 9.9 9.9-4.432 9.9-9.9 9.9-9.9-4.432-9.9-9.9M12 3.9a8.1 8.1 0 0 1 6.329 13.156L6.944 5.67A8.066 8.066 0 0 1 12 3.9M3.9 12a8.1 8.1 0 0 0 13.156 6.329L5.67 6.944A8.066 8.066 0 0 0 3.9 12" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},910301:(e,t,n)=>{n.d(t,{Icon24ClockOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon24ClockOutline","clock_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="clock_outline_24"><path d="M12.4 8a.9.9 0 1 0-1.8 0v4.5a.9.9 0 0 0 .584.843l4 1.5a.9.9 0 0 0 .632-1.686l-3.416-1.28z" /><path fill-rule="evenodd" d="M12 2.1c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9M3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},903421:(e,t,n)=>{n.d(t,{Icon24DeleteOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon24DeleteOutline","delete_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="delete_outline_24"><path fill-rule="evenodd" d="M14.556 8.102a.9.9 0 0 1 .842.954l-.5 8a.9.9 0 0 1-1.796-.112l.5-8a.9.9 0 0 1 .954-.842m-5.112 0a.9.9 0 0 0-.842.954l.5 8a.9.9 0 1 0 1.796-.112l-.5-8a.9.9 0 0 0-.954-.842" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 4.1a.9.9 0 1 0 0 1.8h1.18l1.155 12.316c.045.484.084.898.143 1.237.062.359.157.704.351 1.03a2.9 2.9 0 0 0 1.249 1.137c.342.162.695.225 1.057.253.344.027.76.027 1.246.027h5.238c.486 0 .902 0 1.246-.027.362-.028.715-.09 1.057-.253a2.9 2.9 0 0 0 1.249-1.137c.194-.326.289-.671.35-1.03.06-.34.099-.753.144-1.237L19.82 5.9H21a.9.9 0 1 0 0-1.8h-5.204a3.901 3.901 0 0 0-7.592 0zm4.124 13.915c.05.526.082.869.128 1.13.043.252.087.356.124.417a1.1 1.1 0 0 0 .474.432c.064.03.172.065.426.085.265.02.61.021 1.138.021h5.172c.528 0 .873 0 1.138-.021.254-.02.362-.055.426-.085a1.1 1.1 0 0 0 .474-.432c.037-.06.08-.166.124-.416.046-.262.079-.605.128-1.131L18.012 5.9H5.988zM12 2.9a2.1 2.1 0 0 0-1.898 1.2h3.796A2.1 2.1 0 0 0 12 2.9" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},894758:(e,t,n)=>{n.d(t,{Icon24HelpOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon24HelpOutline","help_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="help_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M4.929 4.929A9.97 9.97 0 0 1 12 2a9.972 9.972 0 0 1 7.071 2.929A9.97 9.97 0 0 1 22 12a9.971 9.971 0 0 1-2.929 7.071A9.972 9.972 0 0 1 12 22a9.972 9.972 0 0 1-7.071-2.929A9.972 9.972 0 0 1 2 12a9.971 9.971 0 0 1 2.929-7.071M12 3.8a8.171 8.171 0 0 0-5.798 2.402C4.717 7.687 3.8 9.735 3.8 12s.917 4.313 2.402 5.798A8.171 8.171 0 0 0 12 20.2a8.172 8.172 0 0 0 5.798-2.402C19.283 16.313 20.2 14.265 20.2 12s-.917-4.313-2.402-5.798A8.172 8.172 0 0 0 12 3.8m-.768 4.29c-.254.195-.409.434-.46.634a.9.9 0 0 1-1.744-.448c.17-.663.6-1.224 1.108-1.613C10.646 6.27 11.303 6 12 6c1.602 0 3 1.398 3 3 0 1.37-.75 2.22-1.285 2.807-.599.655-.815.91-.815 1.293a.9.9 0 0 1-1.8 0c0-1.123.71-1.886 1.174-2.386l.111-.12c.515-.565.815-.965.815-1.594 0-.607-.592-1.2-1.2-1.2-.235 0-.516.097-.768.29M13.2 16.6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0" /></symbol>',24,24,!1,void 0)},550470:(e,t,n)=>{n.d(t,{Icon24Info:()=>r});var r=(0,n(28178).makeIcon)("Icon24Info","info_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 14v-4a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0m-.25-7.75v-.5a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1" /></g></symbol>',24,24,!1,void 0)},771687:(e,t,n)=>{n.d(t,{Icon24InfoCircleOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon24InfoCircleOutline","info_circle_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="info_circle_outline_24"><path d="M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10m0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632m-.947 2.822c0-.541.424-.98.947-.98.523 0 .947.439.947.98v3.83c0 .54-.424.98-.947.98-.523 0-.947-.44-.947-.98z" /></symbol>',24,24,!1,void 0)},212380:(e,t,n)=>{n.d(t,{Icon56HelpOutline:()=>r});var r=(0,n(28178).makeIcon)("Icon56HelpOutline","help_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="help_outline_56"><path fill="currentColor" d="M25.46 18.099c-.63.377-1.176.98-1.567 1.958a1.5 1.5 0 1 1-2.786-1.114c.61-1.523 1.562-2.669 2.809-3.417C25.145 14.79 26.556 14.5 28 14.5c4.473 0 7 3.85 7 7 0 2.81-1.716 4.354-2.983 5.494l-.257.232c-1.307 1.19-2.26 2.19-2.26 4.274a1.5 1.5 0 0 1-3 0c0-3.416 1.797-5.177 3.24-6.492l.071-.065C31.24 23.643 32 22.949 32 21.5c0-1.85-1.518-4-4-4-1.056 0-1.895.211-2.54.599M28 41a2 2 0 1 0 0-4 2 2 0 0 0 0 4" /><path fill="currentColor" fill-rule="evenodd" d="M28 52c13.255 0 24-10.745 24-24S41.255 4 28 4 4 14.745 4 28s10.745 24 24 24m0-3c11.598 0 21-9.402 21-21S39.598 7 28 7 7 16.402 7 28s9.402 21 21 21" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},874162:(e,t,n)=>{n.d(t,{DEFAULT_CACHE:()=>c,ORDER_ERRORS:()=>d,ORDER_ITEM_ERRORS:()=>h,SAMPLE_RECIPIENT_ID:()=>l,STICKER_ANIMATION:()=>a,STICKER_IMAGE:()=>s,STICKER_PACK_ICON:()=>i,STICKER_PACK_THUMB:()=>o});var r=n(899033);const i={square_png:{id:"square.png",width:104,height:104},square_15x_png:{id:"square_1.5x.png",width:156,height:156},square_2x_png:{id:"square_2x.png",width:208,height:208},square_3x_png:{id:"square_3x.png",width:312,height:312},square_4x_png:{id:"square_4x.png",width:416,height:416}},o={"102_png":{id:"102.png",width:102,height:102,theme:r.Theme.LIGHT},"51_png":{id:"51.png",width:51,height:51,theme:r.Theme.LIGHT},"68_png":{id:"68.png",width:68,height:68,theme:r.Theme.LIGHT},"34_png":{id:"34.png",width:34,height:34,theme:r.Theme.LIGHT},"60_png":{id:"60.png",width:60,height:60,theme:r.Theme.LIGHT},"30_png":{id:"30.png",width:30,height:30,theme:r.Theme.LIGHT},"102b_png":{id:"102b.png",width:102,height:102,theme:r.Theme.DARK},"51b_png":{id:"51b.png",width:51,height:51,theme:r.Theme.DARK},"68b_png":{id:"68b.png",width:68,height:68,theme:r.Theme.DARK},"34b_png":{id:"34b.png",width:34,height:34,theme:r.Theme.DARK},"60b_png":{id:"60b.png",width:60,height:60,theme:r.Theme.DARK},"30b_png":{id:"30b.png",width:30,height:30,theme:r.Theme.DARK},"44_png":{id:"44.png",width:44,height:44},"22_png":{id:"22.png",width:22,height:22}},s={"64_png":{id:"64.png",width:64,height:64,theme:r.Theme.LIGHT},"128_png":{id:"128.png",width:128,height:128,theme:r.Theme.LIGHT},"256_png":{id:"256.png",width:256,height:256,theme:r.Theme.LIGHT},"352_png":{id:"352.png",width:352,height:352,theme:r.Theme.LIGHT},"512_png":{id:"512.png",width:512,height:512,theme:r.Theme.LIGHT},"64b_png":{id:"64b.png",width:64,height:64,theme:r.Theme.DARK},"128b_png":{id:"128b.png",width:128,height:128,theme:r.Theme.DARK},"256b_png":{id:"256b.png",width:256,height:256,theme:r.Theme.DARK},"352b_png":{id:"352b.png",width:352,height:352,theme:r.Theme.DARK},"512b_png":{id:"512b.png",width:512,height:512,theme:r.Theme.DARK}},a={[r.Theme.LIGHT]:"animation.json",[r.Theme.DARK]:"animation.b.json"},c={products:(0,r.createProductsMap)([]),productIdsQueue:new Set,productsPromise:void 0,productPromises:new Map,stickers:new Map},l=-1;var d,h;!function(e){e.NOT_SIGNED_IN="not_signed_in",e.NO_VALID_ITEMS="no_valid_items"}(d||(d={})),function(e){e.DUPLICATE_PRODUCT="duplicate_product"}(h||(h={}))},899033:(e,t,n)=>{var r;n.d(t,{ProductsByType:()=>u,Theme:()=>r,UserProductStateKey:()=>a,createProductsMap:()=>s,imageSizeCache:()=>o,imageSizesIndex:()=>i,isBasePack:()=>c,isPackProduct:()=>d,isStyleProduct:()=>l}),function(e){e.LIGHT="light",e.DARK="dark",e.DEFAULT="light"}(r||(r={}));const i=Symbol(),o=Symbol(),s=e=>new Map(e);var a;!function(e){e.IsNew="is_new"}(a||(a={}));const c=e=>void 0!==e.sticker_ids,l=e=>void 0!==e.base_id,d=e=>c(e)&&!l(e);var h;!function(e){e.Pack="pack",e.Style="style"}(h||(h={}));class u{add(e){e&&(d(e)?this.pack.add(e):l(e)&&this.style.add(e))}getPack(){return this.pack.values().next().value}getStyles(){return Array.from(this.style.values())}getCount(){return this.pack.size+this.style.size}constructor(e=[]){this.pack=new Set,this.style=new Set,e.forEach((e=>this.add(e)))}}},396316:(e,t,n)=>{n.d(t,{STICKERS_CONFDATA_KEY:()=>r,isNewStickerPicker:()=>o,isPromoVmojiCounterEnabled:()=>a,isUGCStickersEnabled:()=>s});var r,i=n(839470);function o(){return(0,i.partConfigEnabled)("new_sticker_picker")}function s(){return(0,i.partConfigEnabled)("stickers.ugc")}function a(){return(0,i.partConfigEnabled)("vmoji.promo.avatar_suggestion.promo_counter")}!function(e){e.UGC="stickers.ugc",e.PROMO_VMOJI_COUNTER="vmoji.promo.avatar_suggestion.promo_counter",e.NEW_STICKER_PICKER="new_sticker_picker"}(r||(r={}))},457299:(e,t,n)=>{n.d(t,{getStickerAnimationUrl:()=>d,getStickerImageUrl:()=>l,getStickerPackIconUrl:()=>h,isSampleOrderItem:()=>u,logStickersError:()=>g});var r=n(899033),i=n(874162),o=n(970978);const s=(e,t,n,i=r.Theme.DEFAULT)=>{const o=window.devicePixelRatio,s=[t*=o,n*=o,i].toString();let a=e[r.imageSizeCache];if(a&&a.has(s)){const e=a.get(s);if(e)return e}a||(a=new Map,e[r.imageSizeCache]=a);const c=(e=>{let t=e[r.imageSizesIndex];return t||(t=Object.values(e).sort(((e,t)=>e.width-t.width||e.height-t.height)),e[r.imageSizesIndex]=t),t})(e).filter((e=>!e.theme||e.theme===i)),l=c.find((e=>e.width>=t&&e.height>=n))||c[c.length-1];return a.set(s,l),l},a=(e,t,n=r.Theme.DEFAULT)=>s(i.STICKER_IMAGE,e,t,n),c=(e,t)=>e.image.base_url+"/"+t.id+(e.image.version?`?${e.image.version}`:"");function l(e,t,n,i=r.Theme.DEFAULT){var o;if(null==(o=e.render)?void 0:o.images){const{images:r}=e.render;let o;r.sort(((e,t)=>e.width-t.width||e.height-t.height));for(const e of r)if(e.width>=t&&e.height>=n){if(e.theme===i)return e.url;o=e}if(o)return o.url}return c(e,a(t,n,i))}const d=(e,t=r.Theme.DEFAULT)=>e.animation?e.animation.base_url+"/"+i.STICKER_ANIMATION[t]+(e.animation.version?`?${e.animation.version}`:""):"",h=(e,t,n,o=r.Theme.DEFAULT)=>((e,t)=>e.icon.base_url+"/"+t.id+(e.thumb.version?`?${e.thumb.version}`:""))(e,((e,t,n=r.Theme.DEFAULT)=>s(i.STICKER_PACK_ICON,e,t,n))(t,n,o)),u=e=>e.recipient_id===i.SAMPLE_RECIPIENT_ID,g=e=>{(0,o.logError)(new Error(`Stickers: ${e}`),{environment:"stickers"})}},424499:(e,t,n)=>{var r,i,o,s=n(790287);(null==(i=window.vk)||null==(r=i.pe)?void 0:r.static_manager_dynamic_imports)&&(null==(o=window.vk)?void 0:o.stDomain)&&(n.p=window.vk.stDomain+"/dist/"),window.Emoji||(window.Emoji=s.Emoji);try{window.stManager.done(window.jsc("web/emoji.js"))}catch(e){}},630686:(e,t,n)=>{n.d(t,{checkStopActionOnEventOnSticker:()=>u,checkStopActionOnEventOnStickerPopupIcon:()=>h,previewSticker:()=>a,showPackByClickOnSticker:()=>c,wrapSticker:()=>d});var r,i=n(396316),o=n(727931),s=n(142174);!function(e){e.MESSAGE="message"}(r||(r={}));const a=e=>window.Emoji.previewSticker(e,!1,{sticker_referrer:"message"}),c=(e,t)=>{var n;(0,i.isNewStickerPicker)()?null==(n=window.StickerPickerViewer)||n.api.getPack({productId:e}).then((n=>{var r,i;var o;Boolean(null==(i=n)||null==(r=i.product)?void 0:r.active)?null==(o=window.StickerPickerViewer)||o.showPack(e,t):a(e)})).catch((()=>{a(e)})):window.Emoji.getStickerPack(e).then((n=>{Boolean(n&&n[window.Emoji.PACK_FIELD_IS_ACTIVE])?window.Emoji.showPackInKeyboard(e,t):a(e)}))},l=e=>`Sticker--size${e}`,d=({stickerHtml:e,stickerWrapperClass:t="",icon:n,iconClass:r,size:i,iconTqAttrs:s})=>{const a=n?`<div class="Sticker__icon ${r}" ${s}>${n}</div>`:"";return`\n  <div class="${[o.STICKER_ROW_CLASS,t,l(i)].join(" ")}">\n    ${e}\n    ${a}\n  </div>  \n`},h=e=>{var t,n;return!!(null==(n=null==(t=e)?void 0:t.target)?void 0:n.closest("."+s.POPUP_STICKER_ICON_CLASS))},u=e=>{var t,n,r;const i=null==(t=e)?void 0:t.target;return!!(null==(n=i)?void 0:n.closest("."+o.STICKER_ROW_CLASS))||(!!(null==(r=i)?void 0:r.closest("."+s.POPUP_STICKER_WRAPPER_CLASS))||!!h(e))}},727931:(e,t,n)=>{var r;n.d(t,{REGULAR_SIZES:()=>o,SIZE_512:()=>i,STICKER_ROW_CLASS:()=>s,StickerSize:()=>r}),function(e){e[e.SMALL=128]="SMALL",e[e.MIDDLE=168]="MIDDLE",e[e.BIG=208]="BIG"}(r||(r={}));const i=512,o=[64,128,256,352,i],s="sticker_row"},991243:(e,t,n)=>{n.d(t,{findClosestStickerSize:()=>w,getBoxLayerWrap:()=>u,getLangCode:()=>_,getPurchaseResult:()=>p,hideLoader:()=>m,showLoader:()=>g,updateStickersFromQueue:()=>v});var r=n(221780),i=n(29271),o=n(68003),s=n(795558),a=n(584356),c=n(899033),l=n(727931),d=n(457299);function h(){return document.querySelector("#box_loader")}function u(){return document.querySelector("#box_layer_wrap")}function g(){const e=h();(0,a.refreshBoxLoaderCoords)(),(0,s.show)(e),(0,s.show)(u())}function m(){(0,s.hide)(h())}function p(e){const t=new c.ProductsByType(e.items.filter((e=>!e.error)).map((e=>e.product))),n=t.getPack(),o=t.getStyles();if(n)return o.length?(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_pack_and_styles",o.length),"pack_title",n.title,"n",o.length):(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_pack"),"title",n.title);if(o.length)switch(o.length){case 1:return(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_1_style"),"title",o[0].title);case 2:return(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_2_styles"),"title1",o[0].title,"title2",o[1].title);case 3:return(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_3_styles"),"title1",o[0].title,"title2",o[1].title,"title3",o[2].title);case 4:return(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_3_styles_and_1_more"),"title1",o[0].title,"title2",o[1].title,"title3",o[2].title);default:const e=o.length-3;return(0,r.langStr)(i.getLang("purchases_stickers_purchase_result_3_styles_and_n_more",e),"title1",o[0].title,"title2",o[1].title,"title3",o[2].title,"n",e)}return null}function v(e){!function(e){const t=o.colorScheme.isDarkScheme()?"data-src-dark":"data-src-light";e.querySelectorAll(`.sticker_img[${t}]`).forEach((e=>{const n=e.getAttribute(t);n&&(e.src=n)}))}(e)}const _=()=>window.vk.lang||"ru",w=e=>e>l.SIZE_512?((0,d.logStickersError)("Нет размера стикера больше 512px"),l.SIZE_512):l.REGULAR_SIZES.find((t=>t>=e))},873004:(e,t,n)=>{n.d(t,{Atom:()=>r});class r{set(e,{notify:t=!0}={}){t&&this.base.notify(this.key)}getKey(){return`${this.base.options.storeName}-${this.key}`}constructor({key:e,base:t}){this.key=e,this.base=t}}},131966:(e,t,n)=>{n.d(t,{Store:()=>r});class r{subscribe(e,t){const n=this.getListeners(t);return n.add(e),()=>{n.delete(e)}}notify(e,t){this.getListeners(t).forEach((t=>{t(e)}))}refresh(){try{localStorage.setItem(this.key,""),localStorage.removeItem(this.key)}catch(e){}}destroy(){this.listeners.clear(),this.syncListeners.clear(),r.instances.delete(this.key)}get key(){const{dbName:e,storeName:t,version:n}=this.options;return`${e}-v${n}-${t}`}getListeners(e){return e?this.syncListeners:this.listeners}constructor(e){this.listeners=new Set,this.syncListeners=new Set,this.options=e,r.instances.set(this.key,this)}}r.instances=new Map,window.addEventListener("storage",(({key:e,newValue:t})=>{var n;e&&null!==t&&(null==(n=r.instances.get(e))||n.notify())}))},426775:(e,t,n)=>{n.d(t,{SyncAtom:()=>o,SyncAtomType:()=>r});var r,i=n(873004);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(r||(r={}));class o extends i.Atom{get(){const e=this.getKey();try{let t=localStorage.getItem(e);if(!t)return null;switch(this.type){case r.OBJECT:try{t=JSON.parse(t)}catch(e){return null}break;case r.NUMBER:t=Number(t)||0;break;case r.STRING_NUMBER:t=Number(t)||t;break;case r.BOOLEAN:t=Boolean(Number(t))}return t}catch(t){return console.log(`${e}: Ошибка чтения данных из хранилища`),console.log(t),this.cache||null}}set(e,t){const n=this.getKey();let i;switch(this.type){case r.OBJECT:i=JSON.stringify(e);break;case r.BOOLEAN:i=String(Number(e));break;default:i=String(e)}try{localStorage.setItem(n,i)}catch(t){console.log(`${n}: Не удалось записать данные в хранилище`),console.log(t),this.cache=e}super.set(e,t)}delete(){const e=this.getKey();try{delete this.cache,localStorage.removeItem(e)}catch(t){console.log(`${e}: Ошибка удаления ключа из хранилища`),console.log(t)}}getKey(){return`${this.base.key}-${this.key}`}constructor(e){super(e);const{base:t,type:n}=e;this.base=t,this.type=n}}},380312:(e,t,n)=>{n.d(t,{createSyncStore:()=>s});var r=n(131966),i=n(426775);class o extends r.Store{createAtom(e,t){return new i.SyncAtom({key:e,type:t,base:this})}constructor(e){super(e)}}function s(e){return new o(e)}},351529:(e,t,n)=>{n.d(t,{LangPackIdProvider:()=>o,useLangPackId:()=>s});var r=n(667294);const i=(0,r.createContext)(void 0),o=i.Provider;function s(){return(0,r.useContext)(i)}},989059:(e,t,n)=>{n.d(t,{lang:()=>r});const r=(0,n(798116).createDomain)()},511143:(e,t,n)=>{n.d(t,{$packs:()=>c,loadPack:()=>s,loadPackFx:()=>a});var r=n(11010),i=n(434788),o=n(989059);const s=({name:e,lang:t,domain:n,cacheAge:r=600})=>{const i=new URL("/js/lang-pack.js",(o=n)?o.startsWith("http")?o:`https://${o}`:`https://${location.hostname}`);var o;return i.searchParams.set("name",e),i.searchParams.set("format","json"),i.searchParams.set("cache_age",String(r)),void 0!==t&&i.searchParams.set("lang",String(t)),fetch(String(i)).then((e=>e.json()))},a=o.lang.createEffect((0,r._)((function*({id:e,name:t,lang:n,domain:r,cacheAge:i=600}){return s({name:t,lang:n,domain:r,cacheAge:i}).then((t=>({id:e,pack:t})))}))),c=o.lang.createStore({}).on(a.doneData,((e,{id:t,pack:n})=>(0,i._)({},e,{[t]:n})))},548499:(e,t,n)=>{n.d(t,{useLangPack:()=>s});var r=n(504190),i=n(511143),o=n(351529);function s(){const e=(0,o.useLangPackId)();if(!e)throw new Error("Отсутствует обертка LangPackProvider");const t=(0,r.useUnit)(i.$packs)[e];return{translate:(e,n)=>{if(!e||!t)return" ";const{keys:r}=t;if(!(e in r))return e;let i=String(r[e]);return n&&(i=i.replace(/{([^]+?)}/g,((e,t)=>{const r=n[t];return void 0===r?"":String(r)}))),i},pack:t}}},607338:(e,t,n)=>{n.d(t,{useLottie:()=>c});var r=n(11010),i=n(434788),o=n(667294),s=n(674694),a=n(936392);function c(e,{play:t,show:n}={}){const{animationUrl:c,animationData:l}=e,d=(0,o.useRef)(!1),h=(0,o.useRef)(null),u=(0,o.useRef)(null),[g,m]=(0,o.useState)(!1),[p,v]=(0,o.useState)(!1),[_,w]=(0,o.useState)(!1),f=(0,s.useIsMounted)(),b=(0,r._)((function*(){const t=u.current;t?d.current=!1:(v(!0),w(!1));const n=h.current;if((c||l)&&n&&!d.current){d.current=!0,m(!1);try{const t=yield a.LottieManager.loadAnimation((0,i._)({containers:[n]},e));t.addEventListener("firstFrame",(()=>{w(!0)}),{once:!0}),v(!1),u.current=t}catch(e){m(!0)}var r;if(f())null==(r=t)||r.destroy()}}));(0,o.useEffect)((()=>{const e=u.current;e&&!p&&(void 0!==t&&(t?e.play():e.pause()),void 0!==n&&(n?e.show():e.hide()))}),[p,t,n]),(0,o.useEffect)((()=>(b(),()=>{var e;null==(e=u.current)||e.destroy()})),[c,l]);return{lottieError:g,lottieLoading:p,lottieLoaded:!p&&!g,lottieRendered:_,lottiePlayerRef:u,lottieContainerRef:h}}},717326:(e,t,n)=>{n.d(t,{$tabbarActiveTab:()=>c,$tabbarActiveTabState:()=>l,setTabbarActiveTab:()=>a});var r=n(798116),i=n(348354),o=n(879706),s=n(579865);const a=i.stickersEmojiKeyboard.createEvent(),c=i.stickersEmojiKeyboard.createStore(s.Tab.EMOJI).on(a,((e,t)=>t)),l=(0,r.combine)(c,(e=>({isEmojiActiveTab:e===s.Tab.EMOJI,isStickersActiveTab:e===s.Tab.STICKERS})));(0,r.sample)({clock:o.changeAPIOptions,source:o.$api,fn:e=>e.cache.tabbarActiveTab.get()||s.Tab.EMOJI,target:a})},579865:(e,t,n)=>{var r;n.d(t,{Tab:()=>r}),function(e){e.EMOJI="emoji",e.STICKERS="stickers"}(r||(r={}));Object.values(r)}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e].call(n.exports,n,n.exports,c),n.exports}c.m=s,e=[],c.O=(t,n,r,i)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],s=!0,a=0;a<n.length;a++)(!1&i||o>=i)&&Object.keys(c.O).every((e=>c.O[e](n[a])))?n.splice(a--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);c.r(i);var o={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,c.d(i,o),i},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>25394===e?"web/chunks/AudioLongtapModal.5c994570.js":24817===e?"web/chunks/hls.b496ce21.js":75980===e?"web/chunks/menu_settings.ad849031.js":9375===e?"web/chunks/voice_message_player.1c43f503.js":28762===e?"web/chunks/speech.d9867703.js":57468===e?"web/chunks/SilentModeForms.6c78e68c.js":28872===e?"web/chunks/feed-client-nav-skeleton.23b1194f.js":35953===e?"web/chunks/feed-client-nav-async-right-block.6f6f61b6.js":868===e?"web/chunks/6e30181a.async.ecb3de34.js":97066===e?"web/chunks/rlottie.4fbffb3e.js":58086===e?"web/chunks/06f378a9.async.cb41afd3.js":7103===e?"web/chunks/stickers-layer-view.30ce66f0.js":37211===e?"web/chunks/stickers-layer-purchase-details-view.014c3868.js":39457===e?"web/chunks/stickers-random-selector-view.1ef406bc.js":78177===e?"web/chunks/stickers-random-selector-packs-view.d9c7bc14.js":34757===e?"web/chunks/stickers-random-selector-result-view.0be1c4d1.js":5892===e?"web/chunks/ead653e2.async.25d08a73.js":68346===e?"web/chunks/NewStickerPicker.1e07fd67.js":66173===e?"web/chunks/StickersKit-handlePlayPopUpNative.ea14a8d4.js":29019===e?"web/chunks/ReportForm.deef89f4.js":13503===e?"web/chunks/StickersKit-AgeRestrictionModal.074758d1.js":9202===e?"chunks/9202.72ad8960.js":79118===e?"chunks/"+e+".1f93e9b5.js":22197===e?"chunks/"+e+".fd9e68c0.js":77950===e?"chunks/"+e+".f03dc111.js":"web/chunks/polyfills.b00e2426.js",c.miniCssF=e=>25394===e?"web/chunks/5e3e105f.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/a2979e7d.css":97066===e?"web/chunks/472c0fcf.css":7103===e?"web/chunks/8f3cfaa3.css":37211===e?"web/chunks/3318c635.css":39457===e?"web/chunks/d9a18422.css":78177===e?"web/chunks/205d0569.css":34757===e?"web/chunks/f10155d6.css":68346===e?"web/chunks/2b524b67.css":29019===e?"web/chunks/1c452c59.css":13503===e?"web/chunks/f44317a6.css":void 0,c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},c.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var o,s;if(void 0!==n)for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){var d=a[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+n){o=d;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack","vk:"+n),o.src=e),r[e]=[t];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(u);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},u=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",i=e=>new Promise(((t,n)=>{var r=c.miniCssF(e),i=c.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((i=(s=o[r]).getAttribute("data-href"))===e||i===t)return s}})(r,i))return t();((e,t,n,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=o=>{if(i.onerror=i.onload=null,"load"===o.type)n();else{var s=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i)})(e,i,t,n)})),o={50098:0},c.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{7103:1,13503:1,25394:1,29019:1,34757:1,37211:1,39457:1,57468:1,68346:1,75980:1,78177:1,97066:1}[e]&&t.push(o[e]=i(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={50098:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=c.p+c.u(t),s=new Error;c.l(o,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,s,a]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in s)c.o(s,r)&&(c.m[r]=s[r]);if(a)var d=a(c)}for(t&&t(n);l<o.length;l++)i=o[l],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return c.O(d)},n=self.webpackChunkvkweb=self.webpackChunkvkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=c.O(void 0,[213,2067,83737,57451,71610,5038,36834,95167,67475,14197,15201,13338,36822],(()=>c(424499)));l=c.O(l)})();