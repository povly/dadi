"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[21323],{132933:(e,t,o)=>{o.d(t,{Icon28CheckCircleOutline:()=>i});var i=(0,o(28178).makeIcon)("Icon28CheckCircleOutline","check_circle_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="check_circle_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2m0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4m4.29 6.29c.39-.39 1.03-.39 1.42 0 .39.39.39 1.03 0 1.42l-7.003 6.997a1 1 0 0 1-1.414 0l-3.5-3.5a1 1 0 0 1 1.414-1.414L12 16.586Z" /></g></symbol>',28,28,!1,void 0)},978631:(e,t,o)=>{o.d(t,{Icon28ClockOutline:()=>i});var i=(0,o(28178).makeIcon)("Icon28ClockOutline","clock_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="clock_outline_28"><path fill="currentColor" d="M14 2c6.626 0 12 5.372 12 12s-5.374 12-12 12C7.372 26 2 20.628 2 14S7.372 2 14 2m0 2C8.477 4 4 8.477 4 14s4.477 10 10 10c5.522 0 10-4.478 10-10S19.522 4 14 4m-.5 4a1 1 0 0 1 1 1v5.104l4.875 1.969a1 1 0 0 1-.75 1.854l-5.5-2.222a1 1 0 0 1-.625-.927V9a1 1 0 0 1 1-1" /></symbol>',28,28,!1,void 0)},19153:(e,t,o)=>{o.d(t,{statlogStartTiming:()=>l});var i=o(839470),n=o(385376),a=o(404145);const r="video_showcase_web",l=()=>{let e=window.cur.section_id;if(!window.__debugMode&&(0,i.partConfigEnabled)("measure_module_navigation_stats")){var t;const o=(null==(t=(performance.getEntriesByName("__navmark")||[])[0])?void 0:t.startTime)||0;let i=o?"nav":"origin";(0,n.saveStatlogEvents)({name:r,value:Math.round(performance.now()-o),keys:[e,"js_init",i]});const l=window.vkLastNav;if(l&&(0,n.saveStatlogEvents)({name:r,value:Math.round(Date.now()-l),keys:[e,"js_eval",i]}),!o){const t=performance.getEntriesByType("navigation").find((e=>e.name.includes(`${(0,a.getHostName)()}/video`)));t&&(0,n.saveStatlogEvents)({name:r,value:Math.round(t.responseEnd-t.requestStart),keys:[e,"request_roundtrip",i]})}}}},860249:(e,t,o)=>{o.d(t,{initSectionPlaylistSeenLogger:()=>s,initSectionVideoSeenLogger:()=>l,logCardsAction:()=>n});var i=o(613916);const n=(e,t,o,i)=>{window.vk.id&&window.ajax.post("al_video.php?act=log_seen",{ids:Array.from(e).join(","),place:"CATALOG",action:t,hash:window.cur.videoLogSeenHash,type:o,thumbnails:Array.from(i).join(",")})},a=(e,t,o,a,r)=>{var l,s;if(!window.cur.logSeen||window.cur.section_id!==e)return!1;if(!(0,i.isIntersectionObserverSupported)())return!1;const d=document.getElementById(`video_type_${e}_list`);if(!d)return;const c=new Map;let _=0;const u=e=>{if(!e)return;const o=[],i=[];for(let t of e.values())t.isSent||(o.push(t.id),r&&i.push(t.mlThumbnail),t.isSent=!0);n(o,"SHOW",t,i)},v=new IntersectionObserver((e=>{let t=!1;e.forEach((e=>{if(e.isIntersecting){const o=a(e.target),i=r?r(e.target):-1;o&&(t=!0,c.has(o)||c.set(o,{id:o,mlThumbnail:i,isSent:!1}))}})),t&&(window.clearTimeout(_),_=window.setTimeout((()=>u(c)),5e3))}),{rootMargin:"0px",threshold:1});document.querySelectorAll(o).forEach((e=>{v.observe(e)}));const w=new MutationObserver((e=>{for(let t of e)t.addedNodes.forEach((e=>{v.observe(e)}))}));w.observe(d,{childList:!0});const h=()=>{u(c)};window.addEventListener("beforeunload",h),null==(s=window.cur)||null==(l=s.destroy)||l.push((()=>{document.querySelectorAll("._video_item").forEach((e=>{v.unobserve(e)})),v.disconnect(),w.disconnect(),u(c),clearTimeout(_),window.removeEventListener("beforeunload",h)}))},r=e=>{var t;return Number.parseInt((null==(t=e.querySelector(".VideoCard__thumbLink"))?void 0:t.getAttribute("data-ml-thumb-id"))||"-1")},l=e=>{a(e,"VIDEO","._video_item",(e=>e.getAttribute("data-id")),r)},s=e=>{a(e,"PLAYLIST",".js-video_playlist_item",(e=>e.getAttribute("data-name")))}},802416:(e,t,o)=>{o.d(t,{VideoRawIdsQueue:()=>i});class i{insert(e,t){if(this.map.has(e)){const t=this.list.indexOf(e);delete this.list[t]}this.map.set(e,t),this.list.unshift(e)}append(e,t){if(this.map.has(e)){const t=this.list.indexOf(e);delete this.list[t]}this.map.set(e,t),this.list.push(e)}remove(e){if(!this.map.has(e))return!1;return!!this.map.get(e)&&(delete this.list[this.list.indexOf(e)],this.map.delete(e),!0)}clear(){this.map.clear(),this.list=new Array}dropUnnecessary(e){const t=this.list.length-e,o=new Map;return t>0&&this.list.splice(0,t).forEach((e=>{let t=this.map.get(e);t&&o.set(e,t),this.map.delete(e)})),o}constructor(){this.map=new Map,this.list=Array()}}},335262:(e,t,o)=>{o.d(t,{initVideoTrailerLazyLoader:()=>r});var i=o(802416),n=o(795558);const{ajax:a}=window,r=e=>{var t,o;const r="data-trailer-requested",l="data-trailer";let s,d,c=10;const _=Array.from(document.getElementsByClassName("video_items_list")).filter((e=>{const t=e.getAttribute("id");return!!t&&(!!["trends","sport","subscribes"].some((e=>t.includes(e)))||!["lives","my_lives","movie","tvshow","for_kids"].some((e=>t.includes(e))))}));if(!_)return;const u=new i.VideoRawIdsQueue,v=new i.VideoRawIdsQueue;let w=!0;const h=()=>{s&&clearTimeout(s)},p=new IntersectionObserver((t=>{let o=!1;t.forEach((e=>{const t=e.target.getAttribute("data-id");if(!t)return;const i=e.target;!i||i.hasAttribute(r)||i.getAttribute(l)||i.classList.contains("VideoRestriction--blur")||(e.isIntersecting?(u.append(t,e.target),v.remove(t),o=!0):(u.remove(t),u.map.has(t)?v.insert(t,e.target):v.append(t,e.target)))})),o&&(()=>{if(!u.map.size&&!v.map.size)return;const t=Date.now();null===d&&(d=t),h(),s=window.setTimeout((()=>{var t,o;w?(v.clear(),w=!1):v.dropUnnecessary(12);const i=new Map([...u.map.entries(),...v.map.entries()]);u.clear(),v.clear(),i.forEach((e=>e.setAttribute(r,"true"))),i.size&&(a.post("al_video.php?act=get_trailers_links",{video_raw_ids:Array.from(i.keys()),section:null==(o=window)||null==(t=o.cur)?void 0:t.section_id},{onDone:t=>{const o=new Map(Object.entries(t));i.forEach(((t,i)=>{const a=o.get(i);a&&(t.setAttribute(l,a),t.removeAttribute(r),(0,n.hide)(t.querySelector(".video_thumb_play")),t.matches(":hover")&&e.playTrailer(t,a))}))},onFail:()=>(i.forEach((e=>{e.removeAttribute(r)})),!0),timeout:1e4}),c<200&&(c=200))}),c)})()}),{threshold:0}),m=new MutationObserver((e=>{for(let t of e)t.addedNodes.forEach((e=>{p.observe(e)}))}));_.forEach((e=>{e.querySelectorAll("._video_item").forEach((e=>{p.observe(e)})),m.observe(e,{childList:!0})})),null==(o=window.cur)||null==(t=o.destroy)||t.push((()=>{m.disconnect(),p.disconnect(),h()}))}},604363:(e,t,o)=>{o.d(t,{VIDEO_SHOWCASE_SCROLL_TO_TOP_BUTTON_CHANGE_ACTIVITY_EVENT:()=>i,VIDEO_SHOWCASE_WATCH_LATER_TOOLTIP_VIEWED_EVENT:()=>n});const i="video showcase scroll to top button change activity",n="video showcase watch later tooltip viewed event"},899181:(e,t,o)=>{o.d(t,{FeedbackActionType:()=>z,VideoShowcase:()=>Z});var i=o(11010),n=o(434788),a=o(785893),r=o(562112),l=o(815671),s=o(850343),d=o(301230),c=o(241857),_=o(29271),u=o(514986),v=o(584356),w=o(390433),h=o(320422),p=o(438221),m=o(936134),g=o(795558),E=o(82161),T=o(892726),I=o(725296),f=o(953908),C=o(385376),y=o(20815),S=o(335262),L=o(397501),V=o(128767),b=o(839470),A=o(630793),N=o(328096),O=o(725175),k=o(362246),M=o(538310),P=o(19153),D=o(860249),H=o(604363),R=o(132933),x=o(744736),B=o(321850),U=o(504867),q=o(821311),W=o(104677),G=o(292063),j=o(124777),F=o(84543);var z;function X(){return Promise.resolve().then(o.bind(o,490093))}function $(){return Promise.resolve().then(o.bind(o,459474))}function Y(){return Promise.all([o.e(2067),o.e(35988),o.e(23622),o.e(23559),o.e(54650)]).then(o.bind(o,859346))}!function(e){e.UNSET_NOT_INTERESTING="UNSET_NOT_INTERESTING"}(z||(z={}));const Z={playlistSliders:[],navigationInited:!1,successfullOnboarding:!1,needResetToDefaultFavicon:!1,savePlaylistViewPreferencesTimeout:void 0,playlistListViewPreferences:!1,isCustomMenuScrollTrigger:!1,isVideoAddToPlaylistActionSheetInited:!1,isWatchLaterTooltipViewed:!1,menuScroll:void 0,onWatchLaterTooltipHide:void 0,refreshSliders(){},resizeSearchInput(){},init:()=>{var e;(0,P.statlogStartTiming)(),Z.initSideMenu(),(null==(e=window.cur)?void 0:e.asyncLoad)&&Z.loadSection(),Z.initNavigation(),Z.initTimespentLogger(),Z.initPlaylistSlider(),Z.initSearch(),Z.initSidebarTooltips(),Z.initScrollTop(),Z.initPlaylistsActionsDropdowns(),Z.initSeenLogger(),Z.initMenuClickLogger(),Z.initFavicon(),Z.initVideoTrailerLoader(),Z.initHorizontalVideoCard(),Z.initWatchLaterListener(),d.browser.safari&&Z.initVideoWillChangeEvents(),(0,L.lazyLoadPlayer)()},initSideMenu:(0,i._)((function*(){return o.e(60593).then(o.bind(o,258810)).then((e=>e.default)).then((e=>{const t=document.querySelector(".VideoLayout__asideContentScroll");if(t){const o=(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");let i=!1;const n=()=>{o&&!i&&Z.onWatchLaterTooltipHide&&!Z.isCustomMenuScrollTrigger&&(i=!0,setTimeout((()=>{Z.onWatchLaterTooltipHide&&Z.onWatchLaterTooltipHide(),Z.onWatchLaterTooltipHide=void 0}),500)),Z.isCustomMenuScrollTrigger=!1};Z.menuScroll=new e(t,{hidden:!0,onscroll:n})}Z.initSideMenuEvents();const o=(0,M.subscribeNavLocationChange)((()=>{var e;null==(e=Z.menuScroll)||e.destroy(),Z.menuScroll=void 0,window.setTimeout((()=>{Z.menuScroll||Z.initSideMenu()})),o()}))}))})),initWatchLaterMenuTooltip:()=>{var e,t,o,i;const a=document.querySelector(".VideoLayout__aside"),r=null==(e=a)?void 0:e.querySelector(".MenuList__item--expanded + .MenuList--subList"),d=null==(o=null==(t=r)?void 0:t.querySelector(`a[href="${G.WATCH_LATER_PATH}"]`))?void 0:o.querySelector(".MenuList__itemIcon"),c=null==(i=a)?void 0:i.classList.contains("VideoLayout__aside--collapsed");a&&d&&(0,l.ensureAccountHelpHintsService)().$helpHints.watch((e=>{const t=e[s.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU];if(!t)return;const{title:o="",description:i=""}=t;if(!o&&!i)return;let _;const u=()=>{var e,t;((0,l.ensureAccountHelpHintsService)().hideHelpHint({hintId:s.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU}),null==(e=_)||e.destroy(),c)?a.style.zIndex="auto":null==(t=r)||t.classList.remove("MenuList--subList-withoutOverflow")},v={content:`\n        <div style="display: flex; flex-direction: column;">\n            <span>${o}</span>\n            <span>${i}</span>\n        </div>`,autoShow:!1,delay:0,cls:W.TOOLTIP_CLASSES_DEFAULT,onClick:u,onHide:u,onShow:()=>{Z.isWatchLaterTooltipViewed=!0,window.dispatchEvent(new CustomEvent(H.VIDEO_SHOWCASE_WATCH_LATER_TOOLTIP_VIEWED_EVENT))}};c?(_=new F.ElementTooltip(d,(0,n._)({},v,{width:260,forceSide:"right",align:"center",appendTo:a,offset:[30,0]})),a.style.zIndex="100",Z.onWatchLaterTooltipHide=u):_=new F.ElementTooltip(d,(0,n._)({},v,{width:255,offset:[0,-8],appendToParent:!0,forceSide:"top",align:"left"})),setTimeout((()=>{var e,t;c||(null==(t=r)||t.classList.add("MenuList--subList-withoutOverflow"));null==(e=_)||e.show()}),100)}))},initSideMenuEvents:()=>{var e,t;const o=(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");Boolean(document.querySelector(".MenuList__item--expanded + .MenuList--subList"))&&o&&!Z.isWatchLaterTooltipViewed&&Z.initWatchLaterMenuTooltip();const i=(e,t=!0)=>{t?Z.menuScroll.scrollIntoView(e):window.setTimeout((()=>{Z.menuScroll.scrollIntoView(e,100)}),100)},n=e=>{const t=e.target.closest(".MenuList__item");if(t.classList.contains("MenuList__item--expandable")){const o=t.classList.contains("MenuList__item--expanded");if(t.classList.toggle("MenuList__item--expanded",!o),!o&&t.nextSibling){i(t.nextSibling,!1);(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later")&&!Z.isWatchLaterTooltipViewed&&Z.initWatchLaterMenuTooltip()}(0,f.cancelEvent)(e)}};let a=[...document.querySelectorAll(".MenuList__itemToggle")];a.forEach((e=>{e.addEventListener("click",n)}));let r=document.querySelector(".MenuList__item--active");r&&(r.classList.contains("MenuList__item--expanded")?r=r.nextSibling:r.classList.contains("MenuList__item--subsection")&&(r=r.closest(".MenuList--subList")),r&&(i(r),Z.isCustomMenuScrollTrigger=!0)),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{a.forEach((e=>{e.removeEventListener("click",n)}))}))},initSidebarTooltips:()=>{const e=[...document.querySelectorAll(".MenuList__item")],t=[...document.querySelectorAll(".PlaylistPanel__item")],o=document.querySelector(".VideoQuickLogin__loginButton");let i=[...e,...t];o&&i.push(o),i.forEach((e=>{e.addEventListener("mouseover",Z.showTooltip(e))}))},initNavigation:()=>{Z.navigationInited||(0,V.initPortalNavigation)({onInitStateChange:e=>{Z.navigationInited=e}})},initTimespentLogger:()=>{const e=(0,q.getScreenTimespentCollector)();e.start(q.TIMESPENT_SCREEN_COUNTER_IDS.VIDEO_VIEW),(0,B.pushNavDestroy)((()=>{e.finish(q.TIMESPENT_SCREEN_COUNTER_IDS.VIDEO_VIEW)}))},initPlaylistsActionsDropdowns:()=>{Promise.resolve().then(o.bind(o,84543)).then((e=>e.default)).then((e=>{var t,o;const i=[],n=[...document.querySelectorAll(".js-dropdown-toggle:not(.js-dropdown-toggle-inited)")];n.forEach((t=>{var o;t.classList.add("js-dropdown-toggle-inited");const n=t.parentNode,a=null==(o=n)?void 0:o.querySelector(".VideoDropdown__container");if(a){const o=new e(t,{forceSide:"bottom",cls:"VideoDropdown",noOverflow:!1,noBorder:!0,autoShow:!1,appendTo:n,content:a,align:e.ALIGN_RIGHT,onShow:()=>{window.cur.currentDropdown=o}});i.push(o)}})),null==(o=window.cur)||null==(t=o.destroy)||t.push((()=>{n.length&&i.forEach((e=>{e.destroy()}))}))}))},initPlaylistSlider:()=>{const e=document.querySelectorAll(".js-video-slider:not(.js-video-slider-inited)");e.length&&$().then((({UIGallery:t})=>{var o,i;e.forEach((e=>{Z.playlistSliders.push(new t(e,{scrollY:!1})),e.classList.add("js-video-slider-inited")})),Z.refreshSliders=(0,m.debounce)((()=>{Z.playlistSliders.forEach((e=>{e.refresh()}))}),200),window.addEventListener("resize",Z.refreshSliders),null==(i=window.cur)||null==(o=i.destroy)||o.push((()=>{Z.playlistSliders=Z.playlistSliders.filter((e=>e.getItems().length>0||(e.destroy(),!1))),window.removeEventListener("resize",Z.refreshSliders)}))}))},updatePlaylistSlider:()=>{const e=document.querySelectorAll(".js-video-slider:not(.js-video-slider-inited)");e.length&&$().then((({UIGallery:t})=>{e.forEach((e=>{Z.playlistSliders.push(new t(e,{scrollY:!1})),e.classList.add("js-video-slider-inited")}))}))},updateLayout:()=>{var e;null==(e=Z.menuScroll)||e.update(),Z.resizeSearchInput()},initScrollTop:()=>{const e=document.querySelector(".VideoLayout__scrollTop");if(e){var t,o;const i=(0,m.debounce)((()=>{const e=document.querySelector(".VideoLayout__scrollTop");if(!e)return;const t=(0,p.scrollGetY)()>700;e.classList.toggle("VideoLayout__scrollTop--active",t);const o={isActive:t};document.dispatchEvent(new CustomEvent(H.VIDEO_SHOWCASE_SCROLL_TO_TOP_BUTTON_CHANGE_ACTIVITY_EVENT,{detail:o}))}),100);window.addEventListener("scroll",i),i();const n=()=>{(0,p.scrollToTop)(),e.classList.remove("VideoLayout__scrollTop--active");document.dispatchEvent(new CustomEvent(H.VIDEO_SHOWCASE_SCROLL_TO_TOP_BUTTON_CHANGE_ACTIVITY_EVENT,{detail:{isActive:!1}}))};e.addEventListener("click",n),null==(o=window.cur)||null==(t=o.destroy)||t.push((()=>{window.removeEventListener("scroll",i),e.removeEventListener("click",n)}))}},initSearch:()=>{var e,t;const o=document.getElementById("video_search_input_wrapper");if(!o)return;const i=o.querySelector(".video_search_input");if(!i)return;window.uiSearch&&(window.uiSearch.init(i),window.uiSearch.focus(i));const n=()=>{var e;null==(e=window.uiSearch)||e.hideParameters("VideoSearchInput")};window.addEventListener("popstate",n);const a=(0,g.getXY)(o)[1]+50;Z.resizeSearchInput=()=>{i.style.width=o.clientWidth+"px",n()};const r=document.querySelector(".video_showcase");if(r){const e=getComputedStyle(r),t=parseInt(e.getPropertyValue("--layout-transition-duration"),10);setTimeout(Z.resizeSearchInput,t||300)}const l=()=>{const e=(0,p.scrollGetY)()>a;i.classList.toggle("VideoSearchInput--sticky",e)};l(),window.addEventListener("scroll",l),window.addEventListener("resize",Z.resizeSearchInput),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",Z.resizeSearchInput),window.removeEventListener("popstate",n)}))},initSeenLogger:()=>{const e=window.cur.section_id;["trends","sport"].includes(e)&&(0,D.initSectionVideoSeenLogger)(e),["movies","tvshow","for_kids"].includes(e)&&(0,D.initSectionPlaylistSeenLogger)(e)},initMenuClickLogger:()=>{const e=e=>{const t=e.target,o=t.href;if(!o)return;const i=o.split("/");t.classList.contains("MenuList__item--expandable")?(0,U.statlogsValueEvent)("video_left_menu","","my_videos"):"video"===i.at(-1)?(0,U.statlogsValueEvent)("video_left_menu","","for_you"):(0,U.statlogsValueEvent)("video_left_menu","",i.pop())},t=[...document.querySelectorAll(".MenuList__item")];t.forEach((t=>{t.addEventListener("click",e)})),(0,B.pushNavDestroy)((()=>{t.forEach((t=>{t.removeEventListener("click",e)}))}))},initFavicon:()=>{var e,t;let o=window.devicePixelRatio>=2?"_2x":"";(0,c.setFavIcon)("/images/icons/favicons/fav_vk_video"+o+".ico"),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{Z.needResetToDefaultFavicon&&(0,c.setFavIcon)("/images/icons/favicons/fav_logo"+o+".ico")})),window.cur.nav.push((function(e){if(e&&!e[0])return void(Z.needResetToDefaultFavicon=!1);const t=e&&e[0]&&-1!==e[0].indexOf("video");Z.needResetToDefaultFavicon=!t}))},initVideoTrailerLoader:()=>{(0,S.initVideoTrailerLazyLoader)(Z)},initWatchLaterListener:()=>{if(!(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"))return;window.addEventListener(j.VideoShowcaseFaveEvents.TOGGLE,(e=>{const{id:t,isFave:o,rollbackCallback:i}=e.detail,n=document.querySelector(`#video_item_${t}`);if(!n)return;(0,x.showWatchLaterSnackbar)({isBookmarked:o,rollbackCallback:i}),n.classList.toggle("VideoCard--bookmarked");const a=n.querySelector(".VideoCardMenu__item--watchLater .VideoCardMenu__itemLabel");a&&(a.innerHTML=o?_.getLang("video_catalog_showcase_section_my_watch_later_title"):_.getLang("video_remove_from_watch_later"))}))},initVideoWillChangeEvents:()=>{var e,t;const o=e=>{const t=e.target;(e=>{"0"===window.getComputedStyle(e).opacity&&(e.style.willChange="auto")})(t),t.removeEventListener("transitionend",o)},i=e=>{const t=e.target.closest(".VideoCard");if(t){t.querySelectorAll(".VideoCard__actions, .VideoCard__menuToggle").forEach((e=>{(e=>{e.style.willChange="opacity"})(e),e.addEventListener("transitionend",o)}))}};window.addEventListener("mouseover",i),null==(t=window.cur)||null==(e=t.destroy)||e.push((()=>{window.removeEventListener("mouseover",i)}))},initHorizontalVideoCard:()=>{const e=document.querySelector(".VideoCard--horizontal");if(!e)return;const t=e.querySelector(".page_verified ");if(!t)return;const o=t.getAttribute("onmouseover");if(!o)return;const i=o.split("}")[0]+", forceToDown: true})";t.setAttribute("onmouseover",i)},initVideoAddToPlaylistActionSheet:()=>{if(Z.isVideoAddToPlaylistActionSheetInited)return;let e=document.getElementById("VideoAddToPlaylistActionSheet");e||(e=document.createElement("div"),e.id="VideoAddToPlaylistActionSheet",document.body.appendChild(e)),Promise.all([o.e(2067),o.e(57451),o.e(84400),o.e(96589),o.e(89658)]).then(o.bind(o,897103)).then((({renderVideoAddToPlaylistActionSheet:e})=>{e()}));let t=null;window.addEventListener("mouseover",(e=>{var o,i,n;let a=null;try{a=e.target}catch(e){if(e instanceof DOMException&&(18===e.code||"SecurityError"===e.name))return}const r=null==(o=a)?void 0:o.closest(".VideoCard__action--add"),l=null==(i=a)?void 0:i.closest(".VideoCard__actionSheet"),s=null==(n=a)?void 0:n.closest(".VideoCard");s&&(e=>{const t=e.querySelector(".VideoAddToPlaylistActionSheet"),o=e.querySelector(".VideoCard__action--add"),i=e.classList.contains("VideoCard--bookmarked"),n=e.dataset.videoId,a=e.dataset.ownerId;o&&!t&&window.dispatchEvent(new CustomEvent(k.VideoAddToPlaylistActionSheetEvents.INIT,{detail:{ownerId:a,videoId:n,videoCardElement:e,isBookmarked:i}}))})(s),r&&window.dispatchEvent(new CustomEvent(k.VideoAddToPlaylistActionSheetEvents.SHOW)),r||l?t&&window.clearTimeout(t):(t&&window.clearTimeout(t),t=window.setTimeout((()=>{window.dispatchEvent(new CustomEvent(k.VideoAddToPlaylistActionSheetEvents.HIDE))}),150))})),window.addEventListener(k.VideoCardAddButtonEvents.SHOW,(e=>{var t,o,i,n;const a=null==(t=e.detail.videoCardElement)?void 0:t.querySelector(".VideoCard__actions"),r=null==(o=a)?void 0:o.querySelector(".VideoCard__action--add");null==(i=a)||i.classList.add("VideoCard__actions--active"),null==(n=r)||n.classList.add("VideoCard__action--active")})),window.addEventListener(k.VideoCardAddButtonEvents.HIDE,(e=>{var t,o,i,n;const a=null==(t=e.detail.videoCardElement)?void 0:t.querySelector(".VideoCard__actions"),r=null==(o=a)?void 0:o.querySelector(".VideoCard__action--add");null==(i=a)||i.classList.remove("VideoCard__actions--active"),null==(n=r)||n.classList.remove("VideoCard__action--active")})),window.addEventListener(k.VideoCardAddButtonEvents.SET_ADDED,(e=>{var t;null==(t=e.detail.videoCardElement)||t.classList.add("VideoCard--videoAdded")})),window.addEventListener(k.VideoCardAddButtonEvents.SET_ADD,(e=>{var t;null==(t=e.detail.videoCardElement)||t.classList.remove("VideoCard--videoAdded")})),Z.isVideoAddToPlaylistActionSheetInited=!0},toggleAsideMenu:()=>{var e,t;const o=document.querySelector(".VideoLayout__aside");if(!o)return;const i=document.querySelector(".VideoLayout__toggle"),n=o.querySelector(".VideoActions"),a=[...document.querySelectorAll(".MenuList")],l=[...document.querySelectorAll(".PlaylistPanel")],s=o.classList.contains("VideoLayout__aside--collapsed"),d=!s;o.classList.toggle("VideoLayout__aside--collapsed",d),null==(e=n)||e.classList.toggle("VideoActions--collapsed",d),a.forEach((e=>e.classList.toggle("MenuList--collapsed",d))),l.forEach((e=>e.classList.toggle("PlaylistPanel--collapsed",d))),null==(t=i)||t.setAttribute("data-title",s?_.getLang("video_collapse_aside"):_.getLang("video_expand_aside"));[...document.querySelectorAll(".VideoActions__item")].forEach((e=>{var t;e.tt&&(null==(t=window.tooltips)||t.destroy(e))})),Z.refreshSliders(),Z.resizeSearchInput(),(0,r.setCookie)("remixvideo_menu_collapsed",Number(d),365)},showTooltip:e=>{let t=[-68,-72,0];return e.classList.contains("VideoQuickLogin__loginButton")&&(t=[-68,-67,0]),()=>{const o=document.querySelector(".VideoLayout__aside");if(o&&o.classList.contains("VideoLayout__aside--collapsed"))return(0,h.showTitle)(e,"","",{className:"tt_black tt_left MenuList__itemTooltip",shift:t,slideX:5,dir:"left",appendEl:document.querySelector(".VideoLayout")})}},showMainActionTooltip:(e,t)=>{var o;let i;i=(null==(o=e.closest(".VideoActions"))?void 0:o.classList.contains("VideoActions--collapsed"))?{text:t,dir:"left",slideX:5,shift:[-68,-66,0],typeClass:"tt_black",className:"tt_default tt_left MenuList__itemTooltip",appendEl:document.querySelector(".VideoLayout")||void 0}:{text:t,dir:"top",forcetodown:!0,center:!0,typeClass:"tt_black"},(0,h.showTooltip)(e,i)},showWatchLaterCardIconTooltip:(e,t)=>{(0,h.showTooltip)(e,{text:t,dir:"top",forcetodown:!0,center:!0,typeClass:"tt_black",appendEl:e.closest(".VideoCard")||void 0})},login:()=>{X().then((({showQuickLoginBox:e})=>{e()}))},subscribePlaylist:(e,t)=>{if(!window.vk.id)return X().then((({showQuickLoginBox:e})=>{e()})),!1;const o="VideoInfoPanel__subscribeButton--subscribed";return window.ajax.post("al_video.php?act=playlist_subscribe",{playlist_raw_id:e,subscribe:t.classList.contains(o)?0:1,hash:window.cur.videoSubscriptionHash,ref:window.cur.ref},{onDone:(e,i,n,a,r)=>{var l;e||r?(t.classList.toggle(o,e),t.classList.toggle("VideoInfoPanel__action--primary",!e)):(t.classList.remove(o),t.classList.add("VideoInfoPanel__action--disabled"));const s=document.getElementById("subscribes_panel");s.innerHTML="",s.insertAdjacentHTML("beforeend",i);const d=null==(l=t.closest(".VideoInfoPanel"))?void 0:l.querySelector(".js-playlist_subscribers_count");if(d&&(d.innerHTML="",d.insertAdjacentHTML("beforeend",n)),["video_playlist_subscriptions","video_subscriptions"].includes(window.cur.ref)){const e=document.querySelector(".VideoHeader .ui_crumb_count");e&&(e.innerHTML=a)}}}),!1},onSearchFiltersChanged:e=>{var t;const o=!(0,E.isEmpty)(e);null==(t=document.querySelector(".VideoSearchInputWrapper"))||t.classList.toggle("VideoSearchInputWrapper--withFilters",o)},showWatchLaterCardTooltip:e=>{var t,o,i;const n=(0,l.ensureAccountHelpHintsService)().$helpHints.getState()[s.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION],a=e.querySelector(".VideoCard__menuTooltip"),r=null==(o=null==(t=a)?void 0:t.querySelector(".VideoCardMenu__item--watchLater"))?void 0:o.querySelector(".VideoCardMenu__itemIcon");if(!n||!r||!a)return;const{title:d="",description:c=""}=n;let _;const u=()=>{var e;(0,l.ensureAccountHelpHintsService)().hideHelpHint({hintId:s.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION}),null==(e=_)||e.destroy(),a.classList.remove("VideoCard__menuTooltip--forceShown")},v=`\n      <div style="display: flex; flex-direction: column;">\n          <span>${d}</span>\n          <span>${c}</span>\n      </div>`;_=new F.ElementTooltip(r,{content:v,autoShow:!1,forceSide:"top",align:"left",delay:0,width:285,offset:[0,8],cls:`${W.TOOLTIP_CLASSES_DEFAULT} VideoCard__menuTooltipWatchLater`,onClick:u,onHide:u,onShow:()=>{Z.isWatchLaterTooltipViewed=!0,a.classList.add("VideoCard__menuTooltip--forceShown"),window.dispatchEvent(new CustomEvent(H.VIDEO_SHOWCASE_WATCH_LATER_TOOLTIP_VIEWED_EVENT))}}),null==(i=_)||i.show()},showVideoMenu:(e,t)=>{var o,i;const[n,a]=t.split("_"),r=(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");let l;l=window.cur.searchInputEl&&window.cur.searchInputEl.value?"search":window.cur.section_id;const s=(0,b.partConfigEnabled)("video_share_button_in_video_showcase_for_admins")?window.cur.oid:void 0,d=r&&e.parentNode?e.parentNode:document.body;(0,h.showTooltip)(e,{url:"/al_video.php?act=get_video_menu",params:{owner_id:n,video_id:a,oid:s,module:l},shift:[12,0,0],width:"auto",needLeft:!0,appendEl:d,forcetodown:r,dir:"bottom",className:"VideoCard__menuTooltip",hasover:!0,hideOnTooltipContainerClick:!0,onShowStart:()=>{const t=e.closest(".VideoCard");t&&r&&!Z.isWatchLaterTooltipViewed&&Z.showWatchLaterCardTooltip(t)}}),null==(i=window.cur)||null==(o=i.destroy)||o.push((()=>{var e;null==(e=window.tooltips)||e.destroyAll()}))},_toggleActionIcon:(e,t)=>{const o=e.querySelector(".VideoCard__actionIcon");e.dataset.text=t?_.getLang("video_catalog_showcase_section_my_watch_later_title"):_.getLang("video_remove_from_watch_later"),o&&(o.innerHTML=t?(0,A.getIcon16ClockOutline)().icon:(0,N.getIcon16Clock)().icon)},_toggleBookmarkMenu:(e,t,o)=>{const i=(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");if(e&&t){let n,a=(o=!o)?_.getLang("global_remove_from_bookmarks"):_.getLang("global_add_to_bookmarks");i&&(a=o?_.getLang("video_remove_from_watch_later"):_.getLang("video_catalog_showcase_section_my_watch_later_title"),n=(0,O.getIcon20ClockOutline)().icon),setTimeout((()=>{e&&(e.innerHTML=a),n&&t&&(t.innerHTML=n)}),200)}},bookmarkVideoFromAction:(e,t,o,i,n)=>{const a=(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");if(!e.classList.contains("VideoCard__action--watch-later")||!a)return;const r=e.closest(".VideoCard");if(r){var l;const e=r.querySelector(".VideoCardMenu__item--watchLater");null==(l=Z)||l.bookmarkVideo(null!=e?e:r,t,o,i)}return(0,f.cancelEvent)(n)},bookmarkVideo:(e,t,o,i,n="showcase")=>{let a=e.classList.contains("VideoCardMenu__item--bookmarked");const r=(0,b.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");let l,s,d;if(r){const n=e.closest(".VideoCard");if(n){d=Boolean(n.querySelector(".VideoCard__menuToggle[data-id]")),l=n.querySelector(".VideoCardMenu__item--watchLater .VideoCardMenu__itemLabel"),s=n.querySelector(".VideoCardMenu__item--watchLater .VideoCardMenu__itemIcon"),a=n.classList.contains("VideoCard--bookmarked"),n.classList.toggle("VideoCard--bookmarked");const e=n.querySelector(".VideoCard__action--watch-later");if(!d)return void window.dispatchEvent(new CustomEvent(j.VideoShowcaseFaveEvents.EVENT_TRIGGER,{detail:{videoId:+o}}));var c;if(Z._toggleBookmarkMenu(l,s,a),e)null==(c=Z)||c._toggleActionIcon(e,a)}(0,x.showWatchLaterSnackbar)({isBookmarked:a,rollbackCallback:()=>{var n;null==(n=window.VideoShowcase)||n.bookmarkVideo(e,t,o,i)}})}else l=e.querySelector(".VideoCardMenu__itemLabel"),s=e.querySelector(".VideoCardMenu__itemIcon"),e.classList.toggle("VideoCardMenu__item--bookmarked",!a),Z._toggleBookmarkMenu(l,s,a);r?window.bookmark(t,o,"video",i,a,"",n,"",0):window.bookmark(t,o,"video",i,a,"",n)},setNotInteresting:(e,t,o,i)=>{window.ajax.post("al_video.php?act=not_interested",{owner_id:e,video_id:t,hash:o,track_code:i,ref:window.cur.ref},{onDone:i=>{i&&Z.showCardFeedback(e,t,_.getLang("video_set_not_interesting"),_.getLang("video_cancel_feedback_action"),"UNSET_NOT_INTERESTING",o)}})},unsetNotInteresting:(e,t,o,i)=>{window.ajax.post("al_video.php?act=not_interested",{owner_id:e,video_id:t,hash:o,is_unset:!0,track_code:i,ref:window.cur.ref},{onDone:o=>{if(o){const o=document.querySelectorAll(`.ge_video_item_${e}_${t}`);o&&o.forEach((e=>{var t,o;e.classList.remove("VideoCard--withFeedback");const i=e.querySelector(".VideoCard__feedbackContainer");null==(o=i)||null==(t=o.parentNode)||t.removeChild(i)}))}}})},showCardFeedback:(e,t,o,i,n,a)=>{const r=document.querySelectorAll(`.ge_video_item_${e}_${t}`);r&&r.forEach((r=>{r.classList.add("VideoCard--withFeedback");const l=r.querySelector(".VideoCard__thumb");if(l){let r=`<div class="VideoCard__feedbackContainer"><div class="VideoCard__feedbackText">${o}</div>`;i&&(r+=`<div class="VideoCard__feedbackAction"\n                            data-task-click="VideoShowcase/feedback_action"\n                            data-owner-id="${e}"\n                            data-video-id="${t}"\n                            data-hash="${a}"\n                            data-action-type="${n}"\n                            >${i}</div>`),r+="</div>",l.insertAdjacentHTML("beforeend",r)}}))},playTrailer:(e,t)=>{if(!t)return void(e.classList.contains("VideoCard--showPlay")||e.classList.add("VideoCard--showPlay"));if(e.classList.contains("VideoRestriction--blur"))return;let o=e.querySelector(".VideoCard__trailer");if(!o){o=document.createElement("video"),o.className="VideoCard__trailer VideoCard__trailer--loading",o.onloadeddata=()=>o.classList.remove("VideoCard__trailer--loading"),o.crossOrigin="anonymous",o.src=t,o.muted=!0,o.loop=!0;const i=e.querySelector(".VideoCard__thumbWrapper");o=i.insertBefore(o,i.querySelector(".VideoCard__controls"))}o.play().catch((e=>{if(e instanceof Error&&(!(e instanceof DOMException)||20!==e.code&&"AbortError"!==e.name&&"NotAllowedError"!==e.name&&"NotSupportedError"!==e.name&&9!==e.code))throw e}))},stopTrailer:e=>{const t=e.querySelector(".VideoCard__trailer");t&&(t.pause(),t.currentTime=0)},copyLink:e=>{(0,T.copyToClipboard)(window.location.host+e),(0,v.showDoneBox)(_.getLang("video_playlist_url_copied")),window.cur.currentDropdown.hide()},clearHistory:(e,t,o)=>((0,u.showBox)("al_video.php?act=clear_history_confirm_box",{hash:o},{onDone:(e,o)=>{const{hash:i}=o;e.removeButtons(),e.addButton(_.getLang("global_delete"),(o=>Z.confirmDeletingFromHistory(e,o,t,i)),void 0,!0),e.addButton(_.getLang("global_cancel"),e.hide,"no")}}),(0,f.cancelEvent)(e)),confirmDeletingFromHistory:(e,t,o,i)=>{window.ajax.post("al_video.php?act=clear_viewing_history_records",{hash:i},{onDone:t=>{var i;(e.hide(),t)&&(o.classList.contains("VideoHeader__button")?o.classList.add("VideoHeader__button--disabled"):window.dispatchEvent(new CustomEvent("VideoShowcase/ClearHistory")),(0,g.hide)(document.getElementById("video_subtab_pane_type_my_history")),null==(i=document.getElementById("video_empty_placeholder_main"))||i.classList.remove("VideoEmptyStub--hidden"))},showProgress:()=>(0,I.lockButton)(t),hideProgress:()=>(0,I.unlockButton)(t)})},deleteFromHistory:(e,t,o,i)=>(window.ajax.post("al_video.php?act=remove_viewing_history_records",{video_ids:[[t,o].join("_")],hash:i},{onDone:e=>{e&&Z.showCardFeedback(t,o,_.getLang("video_success_removing_from_history"))}}),(0,f.cancelEvent)(e)),togglePlaylistView:(e,t)=>{const o=e.classList.contains("VideoHeader__action--playlistGridView");e.classList.toggle("VideoHeader__action--playlistGridView",!o),e.setAttribute("data-text",o?_.getLang("video_playlist_grid_view_tooltip"):_.getLang("video_playlist_list_view_tooltip"));const i=document.getElementById("video_all_playlists_list")||document.getElementById("video_all_playlist_subscriptions_list");i&&(i.classList.toggle("VideoGrid--listView",o),i.classList.toggle("VideoGrid--gridView",!o)),o&&Z.refreshSliders(),Z.playlistListViewPreferences=o,Z.savePlaylistViewPreferences(t)},loadSection:e=>{var t;let i=window.cur.section_id;(null==(t=e)?void 0:t.url)&&(window.nav.objLoc[0]=e.url,window.nav.setLoc(e.url.startsWith("/")?e.url.substr(1):e.url));const n=window.nav.objLoc[0],r=Number(window.nav.objLoc.show_for_user_id),l=(0,g.ge)(`video_type_${i}_list`);if(!l)return void window.nav.go(n);const s={silent_loading:1};r&&(s.show_for_user_id=r);const d=(0,g.ge)("video_content_section"),c=(0,g.geByClass1)("ui_load_more_btn",d),u=(0,g.geByClass1)("VideoGrid--shopping",d);u&&u.classList.remove("VideoGrid--shopping");const v=(0,g.geByClass1)("VideoEmptyStub",d),h=()=>{l.classList.remove("VideoGrid--stub"),l.innerHTML=""},p=performance.now();window.ajax.post(n,s,{onDone:e=>{var t,r,s;const{videos:d,playlists:u,nextFrom:m,context:T,catPlaylists:f,shopping:S,tabList:L,videoShowcaseOnboarding:V,showcaseSessionId:A,videoShowcaseNps:N,videoShowcaseContinueWatch:O,videoShowcaseExclusive:k}=JSON.parse(e);A&&(window.cur.showcaseSessionId=A);const M=()=>{"/video"===window.location.pathname?window.nav.reload():window.nav.go("/video")},P=()=>{Z.successfullOnboarding=!0},D=(0,b.partConfigEnabled)("video_onboarding_ask_to_refresh")?()=>{Z.successfullOnboarding&&(0,w.showSnackbar)({before:{content:(0,a.jsx)(R.Icon28CheckCircleOutline,{})},text:_.getLang("video_onboarding_snackbar_refresh_text"),action:{onClick:M,label:_.getLang("video_onboarding_snackbar_refresh_action")},timeout:4e3})}:void 0;if(V&&Promise.all([o.e(2067),o.e(26464),o.e(16957)]).then(o.bind(o,808538)).then((({renderVideoOnboarding:e})=>{Z.successfullOnboarding=!1,e({data:V,onDestroy:D,onSuccess:P})})),(null==(t=L)?void 0:t.length)&&Promise.all([o.e(2067),o.e(62795)]).then(o.bind(o,889241)).then((({initVideoTabs:e})=>{e({tabList:L})})),n===window.nav.objLoc[0]){if((0,C.saveStatlogEvents)({name:"video_showcase_web",value:Math.round(performance.now()-p),keys:[i,"change_tab_data","nav"]}),h(),S&&!(0,E.isEmpty)(S)){const e=document.createRange().createContextualFragment(S);l.classList.add("VideoGrid--shopping"),l.appendChild(e),Z.updatePlaylistSlider(),m&&(window.cur.listNextFrom=m,(0,g.show)(c),(0,I.unlockButton)(c),window.Video&&window.Video._loadNextChunkIfNeed()),(0,y.updateThumbsInView)()}else if(d&&!(0,E.isEmpty)(d)||u&&!(0,E.isEmpty)(u)){const e=document.createDocumentFragment();for(let t of u){const o=(0,y.buildPlaylistEl)(t,!0);e.appendChild(o)}for(let t of d){const o=(0,y.buildVideoEl)(t,!0);e.appendChild(o)}if(l.appendChild(e),l.classList.remove("VideoGrid--shopping"),m&&(window.cur.listNextFrom=m,(0,g.show)(c),(0,I.unlockButton)(c),window.Video&&window.Video._loadNextChunkIfNeed()),(0,y.updateThumbsInView)(),N&&Promise.all([o.e(2067),o.e(63161)]).then(o.bind(o,117440)).then((({initNPSContainer:e})=>{e(N)})),O&&k&&O.containerRow===k.containerRow&&(k.containerRow+=1),O&&Y().then((({initContainer:e})=>{e(O)})),k&&Y().then((({initContainer:e})=>{e(k)})),f&&window.cur.catPlaylistId&&f[window.cur.catPlaylistId]){var H,x,B;f[window.cur.catPlaylistId].list=d,(0,E.extend)(window.cur.catVideosList,{},f);const e=window.VideoPlaylist?window.VideoPlaylist.getCurListId():"";if(window.Videoview&&window.mvcur&&"cat_lives"!==window.cur.catPlaylistId&&(!e||window.cur.catPlaylistId===e)&&(!(null==(H=window.Video)?void 0:H.isGlobalSearchMode())||window.cur.isCatalog&&(null==(x=window.Video)?void 0:x.shouldShowSearchInPlaylistWithSearch())||!window.cur.isCatalog&&!(null==(B=window.Video)?void 0:B.shouldShowOtherInPlaylistWithSearch()))){var U,q;const e=(null==(U=window.Video)?void 0:U.isGlobalSearchMode())&&(null==(q=window.Video)?void 0:q.shouldShowSearchInPlaylistWithSearch());(0,b.partConfigEnabled)("video_modal_refactoring_of_player_context")?window.Videoview.buildVideoModalPlayerContext({playlistId:window.cur.catPlaylistId}):window.Videoview.initPlaylistBlock(window.mvcur.videoRaw,e?window.Video.VIDEO_GLOBAL_SEARCH_TYPE:window.cur.catPlaylistId)}}}else(0,g.show)(v);window.cur.ref=(null==(r=T)?void 0:r.ref)||window.cur.ref,window.cur.ref_context=(null==(s=T)?void 0:s.ref_context)||window.cur.ref_context,(0,C.saveStatlogEvents)({name:"video_showcase_web",value:Math.round(performance.now()-p),keys:[i,"change_tab","nav"]})}},onFail:()=>(h(),(0,g.show)(v),!0),timeout:3e4}),(0,g.hide)(c),(0,g.hide)(v),(()=>{const e=window.cur.showcaseChunkSize||18;let t=window.cur.cardStub;if(l.classList.add("VideoGrid--stub"),t){l.innerHTML="";const o=document.createDocumentFragment();for(let i=0;i<e;i++)o.appendChild((0,g.se)(t));l.appendChild(o)}})()},savePlaylistViewPreferences:e=>{window.vk.id&&(window.clearTimeout(Z.savePlaylistViewPreferencesTimeout),Z.savePlaylistViewPreferencesTimeout=window.setTimeout((()=>{window.ajax.post("/al_video.php?act=save_playlist_view_preferences",{hash:window.cur.playlistViewPreferencesHash,page_type:e,prefer_list_view:Z.playlistListViewPreferences?1:0})}),500))},logClickEvent(e,t){(0,D.logCardsAction)([e],"CLICK","VIDEO",[t])}}},744736:(e,t,o)=>{o.d(t,{showWatchLaterSnackbar:()=>s});var i=o(785893),n=o(29271),a=o(390433),r=o(978631),l=o(292063);const s=({isBookmarked:e,rollbackCallback:t})=>{var o;const s=e?{text:`${n.getLang("video_deleted_from_section")} «${n.getLang("video_catalog_showcase_section_my_watch_later_title")}»`,before:{content:(0,i.jsx)(r.Icon28ClockOutline,{})},action:{label:n.getLang("global_cancel"),onClick:(e,o)=>{t&&t(),(0,a.hideSnackbar)(o)}}}:{text:`${n.getLang("video_added_to_section")} «${n.getLang("video_catalog_showcase_section_my_watch_later_title")}»`,before:{content:(0,i.jsx)(r.Icon28ClockOutline,{})},action:"my_bookmarks"!==(null==(o=window.cur)?void 0:o.section_id)?{label:n.getLang("global_open_section"),onClick:()=>window.location.href=l.BOOKMARKS_URL}:void 0};(0,a.showSnackbar)(s)}},390433:(e,t,o)=>{o.d(t,{hideSnackbar:()=>E,showSnackbar:()=>m});var i=o(11010),n=o(785893),a=o(667294),r=o(973935),l=o(800325),s=o(228042),d=o(417873),c=o(773693),_=o(667465),u=o(584356),v=o(786858);const w={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},h={ok:(0,l.getIcon24CheckCircleOutline)().icon,warning:(0,s.getIcon24WarningTriangleOutline)().icon,error:(0,d.getIcon24ErrorCircleOutline)().icon,ok28:(0,c.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,_.getIcon28LoudspeakerSlashOutline)().icon},p={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker"};function m(e){return g.apply(this,arguments)}function g(){return(g=(0,i._)((function*({id:e,type:t,text:o,subtitle:i,action:a,before:r,after:l,link:s,timeout:d,align:c,onClick:_,onClose:m}){var g,E,C;let y;yield Promise.resolve();const S={id:e,link:I(s),timeout:d,onClick:_?()=>((0,v.assertNotNull)(y),_(y)):void 0,onHide:m},L={author_link:I(null==(E=r)||null==(g=E.avatar)?void 0:g.link),add_photo:I(null==(C=l)?void 0:C.url),tooltipHandler:e=>{var o,i,n,s,d,_,u,m,g,E;e.classList.add("notifier_snackbar"),t&&h[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(p[t])):(null==(i=r)||null==(o=i.avatar)?void 0:o.url)||(null==(s=r)||null==(n=s.avatar)?void 0:n.content)?r.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!(null==(_=r)||null==(d=_.avatar)?void 0:d.content)&&(null==(u=r)?void 0:u.content)&&e.classList.add("notifier_snackbar_with_custom_before"),(null==(E=null==(m=l)?void 0:m.rounded)||E)&&e.classList.add("notifier_snackbar_with_rounded_after");const T=c?w[c]:void 0;if(T&&e.classList.add(T),null==(g=a)?void 0:g.onClick){var I;null==(I=e.querySelector(".notifier_snackbar_action"))||I.addEventListener("click",(e=>{var t,o;(0,v.assertNotNull)(y),null==(t=(o=a).onClick)||t.call(o,e,y)}))}}};if(t&&h[t])L.avatar_custom_content=h[t];else if(r){var V,b,A,N;(null==(V=r.avatar)?void 0:V.url)?L.author_photo=I(r.avatar.url):(null==(b=r.avatar)?void 0:b.content)?L.avatar_custom_content=T(r.avatar.content):r.content&&(L.avatar_custom_content=T(r.content)),(null==(A=r.icon)?void 0:A.type)?L.icon_type=r.icon.type:(null==(N=r.icon)?void 0:N.url)&&(L.icon_custom={image_url:f(r.icon.url)})}const O=T((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"notifier_snackbar_text",children:o}),i&&(0,n.jsx)("div",{className:"notifier_snackbar_subtitle",children:i}),a&&(0,n.jsx)("div",{children:(0,n.jsx)("a",{className:"notifier_snackbar_action",href:a.href,children:a.label})})]}));return y=yield(0,u.showDoneBoxAsync)(O,S,L),y}))).apply(this,arguments)}function E(e){var t;null==(t=window.Notifier)||t.hideEvent(e)}function T(e){const t=document.createElement("div");return(0,r.flushSync)((()=>{(0,r.render)((0,a.createElement)(a.Fragment,null,e),t)})),t.innerHTML}function I(e){return e&&f(e)}function f(e){return encodeURI(e).replace(/'/g,"%27")}},128767:(e,t,o)=>{o.d(t,{initPortalNavigation:()=>d});var i=o(196026),n=o(321850),a=o(75272),r=o(786858),l=o(766698),s=o(970978);function d({onInitStateChange:e}){var t;const d=document.querySelector(".PortalNavigation");if(!d)return;const c=document.querySelector(".side_bar_nav_wrap > *");if(!c)return;const _=(0,a.createElementFromHTML)('\n    <div class="PortalNavigationDropdown__scroll">\n      <div class="PortalNavigationDropdown__content"></div>\n    </div>\n  ');(0,r.assertNotNull)(_),null==(t=_.querySelector(".PortalNavigationDropdown__content"))||t.appendChild(c.cloneNode(!0));const u="PortalNavigation--expanded",v=".PortalNavigationDropdown__scroll";Promise.all([Promise.resolve().then(o.bind(o,84543)).then((e=>e.ElementTooltip)),o.e(60593).then(o.bind(o,258810)).then((e=>e.UiScroll))]).then((([t,o])=>{let a,r,s;r=new t(d,{forceSide:"bottom",autoShow:!1,cls:"PortalNavigationDropdown",elClassWhenShown:u,noOverflow:!1,noBorder:!0,width:252,appendTo:document.querySelector("#page_header_cont"),content:_,align:t.ALIGN_LEFT,onFirstTimeShow:()=>{const e=r.getContent();e&&(s=(0,l.createLeftMenuInitiator)(e),s.render()),a=new o(document.querySelector(v))},onShow:()=>{(0,i.cancelStackPush)("portal_navigation",(()=>{r.hide()}),!0),a||(a=new o(document.querySelector(v)))},onBeforeHide:()=>{a.scrollTop(!1,0),(0,i.cancelStackPop)()},onDestroy:()=>{var e,t;null==(e=s)||e.unmount(),d.classList.remove(u),null==(t=a)||t.destroy()}}),e(!0),(0,n.pushNavDestroy)((()=>{var t;null==(t=r)||t.destroy(),e(!1)}))})).catch((e=>{(0,s.logError)(e,{environment:"portal_navigation"})}))}},613202:(e,t,o)=>{o.d(t,{getGridSorterModule:()=>s,getIndexerModule:()=>l,getVideoModule:()=>n,getVideoShowcaseModule:()=>r,getVideoUploadModule:()=>a});var i=o(839470);function n(){return window.stManager.add([window.jsc("web/video.js")])}function a(){return(0,i.partConfigEnabled)("video_uploader_fix_langs")?window.VideoUpload?Promise.resolve():Promise.all([o.e(213),o.e(2067),o.e(83737),o.e(57451),o.e(71610),o.e(5038),o.e(26464),o.e(14930),o.e(90993),o.e(48801),o.e(58932),o.e(59727)]).then(o.bind(o,10734)).then((({initVideoUpload:e,VideoUpload:t,VideoUploadSubtitles:o,VideoInlineUpload:i})=>{!window.VideoUpload&&t&&(window.VideoUpload=t),!window.VideoUploadSubtitles&&o&&(window.VideoUploadSubtitles=o),!window.VideoInlineUpload&&i&&(window.VideoInlineUpload=i),e()})):window.stManager.add([window.jsc("web/video_upload.js")])}function r(){return window.stManager.add([window.jsc("web/video_showcase.js")])}function l(){return window.stManager.add([window.jsc("web/indexer.js")])}function s(){return window.stManager.add([window.jsc("web/grid_sorter.js")])}},269526:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 12 12"><path fill-rule="evenodd" d="M4.22 2.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06-1.06L6.69 6 4.22 3.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/></svg>',name:"chevron_12"}}o.d(t,{getIcon12Chevron:()=>i})},328096:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm.9-11.5a.9.9 0 1 0-1.8 0V8a.9.9 0 0 0 .26.64l2.1 2.1a.9.9 0 1 0 1.28-1.28L8.9 7.63V4.5Z" clip-rule="evenodd"/></svg>',name:"clock_16"}}o.d(t,{getIcon16Clock:()=>i})},630793:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8.5 4.75a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 .47.7l2.5 1a.75.75 0 0 0 .56-1.4l-2.03-.8v-3.5ZM8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1ZM2.5 8a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z"/></svg>',name:"clock_outline_16"}}o.d(t,{getIcon16ClockOutline:()=>i})},725175:(e,t,o)=>{function i(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M10.25 6.5a.75.75 0 0 0-1.5 0v4c0 .32.2.61.52.71l3.5 1.15a.75.75 0 1 0 .46-1.42l-2.98-.98z"/><path clip-rule="evenodd" d="M18.5 10a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0zM3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0z" fill-rule="evenodd"/></g></svg>',name:"clock_outline_20"}}o.d(t,{getIcon20ClockOutline:()=>i})},800325:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}o.d(t,{getIcon24CheckCircleOutline:()=>i})},417873:(e,t,o)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}o.d(t,{getIcon24ErrorCircleOutline:()=>i})},228042:(e,t,o)=>{function i(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}o.d(t,{getIcon24WarningTriangleOutline:()=>i})},773693:(e,t,o)=>{function i(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}o.d(t,{getIcon28CheckCircleOutline:()=>i})},667465:(e,t,o)=>{function i(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}o.d(t,{getIcon28LoudspeakerSlashOutline:()=>i})},20815:(e,t,o)=>{o.d(t,{buildCommunityEl:()=>p,buildDateSeparatorEl:()=>h,buildPlaylistAsideItem:()=>v,buildPlaylistEl:()=>u,buildPlaylistShowAllEl:()=>w,buildVideoEl:()=>_,updateThumbsInView:()=>g});var i=o(75272),n=o(82161),a=o(221780),r=o(438221),l=o(795558),s=o(362246),d=o(659397),c=o(269526);function _(e,t=!1){const o=(0,n.trim)(t?cur.videoItemTemplate:cur.videoItemTpl),i=(e=(0,n.clone)(e))[VideoConstants.VIDEO_ITEM_INDEX_MUSIC_VIDEO_META];if(i){const t=i.subtitle?' <span class="mv_subtitle">'+i.subtitle+"</span>":"";e[VideoConstants.VIDEO_ITEM_INDEX_TITLE]=i.title+t,e[VideoConstants.VIDEO_ITEM_INDEX_OWNER]=i.main+i.featured,e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]=i.release_date,e[VideoConstants.VIDEO_ITEM_INDEX_DATE]=i.genre}else t&&e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]>999?e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]=(0,s.getFormattedBigViewsToShortCase)(e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]):e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS]=(0,a.langNumeric)(e[VideoConstants.VIDEO_ITEM_INDEX_VIEWS],a.curLang("video_N_views_list"),!0),e[VideoConstants.VIDEO_ITEM_INDEX_DATE]=(0,s.getFormattedUpdatedTime)(e[VideoConstants.VIDEO_ITEM_INDEX_DATE],t),e[VideoConstants.VIDEO_ITEM_INDEX_FLAGS]&VideoConstants.VIDEO_ITEM_FLAG_ACTIVE_LIVE&&(e[VideoConstants.VIDEO_ITEM_INDEX_DURATION]='<span class="video_thumb_label_live_icon"></span>');const r=t&&!!e[VideoConstants.VIDEO_ITEM_INDEX_RECOMMENDATION_USERS];r&&(e[VideoConstants.VIDEO_ITEM_INDEX_RECOMMENDATION_USERS]=(0,d.decodeHTMLEntities)(e[VideoConstants.VIDEO_ITEM_INDEX_RECOMMENDATION_USERS]));const c=e[VideoConstants.VIDEO_ITEM_INDEX_FLAGS]&VideoConstants.VIDEO_ITEM_FLAG_SCHEDULED;var _;if(e[VideoConstants.VIDEO_ITEM_INDEX_SUBTITLE_PLACE]=(0,l.rs)(function(e=!1,t=!1){var o,i,n,a;return(null==(o=cur)?void 0:o.videoItemSubTitleTemplate)?t?(null==(n=cur.videoItemSubTitleTemplate)?void 0:n[VideoConstants.VIDEO_TEMPLATE_INDEX_SUBTITLE_SCHEDULED])||"":e?(null==(i=cur.videoItemSubTitleTemplate)?void 0:i[VideoConstants.VIDEO_TEMPLATE_INDEX_SUBTITLE_LABEL])||"":(null==(a=cur.videoItemSubTitleTemplate)?void 0:a[VideoConstants.VIDEO_TEMPLATE_INDEX_SUBTITLE_DURATION_WITH_VIEWS])||"":""}(r,c),e),e[VideoConstants.VIDEO_ITEM_INDEX_DESCRIPTON]&&(e[VideoConstants.VIDEO_ITEM_INDEX_DESCRIPTON]=(0,l.rs)((null==(_=cur)?void 0:_.videoItemDescriptionTemplate)||"",e)),e[VideoConstants.VIDEO_ITEM_INDEX_AVATAR_IMAGE]){const t=function(e=!1){var t,o,i;return(null==(t=cur)?void 0:t.videoItemBaseAvatarTemplate)?e?(null==(o=cur.videoItemBaseAvatarTemplate)?void 0:o[1])||"":(null==(i=cur.videoItemBaseAvatarTemplate)?void 0:i[0])||"":""}(e[VideoConstants.VIDEO_ITEM_INDEX_FLAGS]&VideoConstants.VIDEO_ITEM_FLAG_NFT_AVATAR);e[VideoConstants.VIDEO_ITEM_INDEX_AVATAR_PLACE]=(0,l.rs)(t,e)}c?(e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]=(0,s.getFormattedPostponePublishDateTime)(e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]),e[VideoConstants.VIDEO_ITEM_INDEX_CARD_PRIVACY_ICONS]="",e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]=(0,l.rs)(function(){var e;return(null==(e=cur)?void 0:e.videoItemPostponePublishTemplate)||""}(),e)):e[VideoConstants.VIDEO_ITEM_PUBLISH_DATE]="";const u=Video.prepareVideoItemAttrs(e);let v=(0,l.rs)(o,e);return v=v.replace("%classes%",u[0]).replace("%attrs%",u[1]),v=(0,l.se)(v),v}function u(e,t=!1){const o=(0,n.trim)(t?cur.playlistItemTemplate:cur.albumItemTpl);return(0,l.se)((0,l.rs)(o,e))}function v(e){const t=(0,n.trim)(cur.newPlaylistAsideItemTemplate);return(0,i.createElementFromHTML)((0,l.rs)(t,e))}function w(e){const t=document.createElement("span");t.innerHTML=a.getLang("video_show_all_short");const o=document.createElement("span");o.className="PlaylistPanel__headerLinkIcon",o.innerHTML=(0,c.getIcon12Chevron)().icon;const i=document.createElement("a");return i.className="PlaylistPanel__headerLink",i.href=e,i.appendChild(t),i.appendChild(o),i}function h(e){const t=langDate(e,"{day} {month}",0,a.getLang("months_of","raw")),o=(0,l.ce)("div",{className:"VideoGrid__separator",innerHTML:t});return o.setAttribute("data-date",e),o}function p(e){const t=(0,n.trim)(cur.communityItemTemplate);return(0,l.sech)((0,l.rs)(t,e))}let m=0;function g(){clearTimeout(m),m=setTimeout((()=>{let e=null;const t=(0,l.clientHeight)(),o="im"===cur.module?0:(0,r.scrollGetY)();(0,n.each)((0,l.geByClass)("js-video-item-thumb"),((i,n)=>{if(!(0,l.domData)(n,"thumb"))return;const a=(0,l.getXY)(n,"im"===cur.module)[1];if(e=e||(0,l.getSize)(n),a>o-e[1]-800&&a<o+t+800){const e=(0,l.domData)(n,"thumb");(0,l.domData)(n,"thumb",null),"IMG"===n.tagName?n.src=e:(0,l.setStyle)(n,"background-image",`url(${e})`)}}))}),50)}},397501:(e,t,o)=>{o.d(t,{default:()=>u,lazyLoadPlayer:()=>v});var i=o(664988),n=o(643897),a=o(121164),r=o(795558),l=o(362246),s=o(839470),d=o(809053);const c={queue:[],timeout:null,sig:""};function _(e,t){var o,i,n,a,r,l,s;if(!t.send_debug)return;c.sig=[t.action_hash,t.oid,t.vid,t.viewer_id].join("_");const d={ts:Math.round(Date.now()/1e3),video_id:[t.oid,t.vid].join("_"),e:"video_event",event:"debug",value:e,ov_id:t.ov_id,ad_data:t.ad_data,autoplay:t.autoplay,track_code:t.track_code,player_type:null!=(r=null==(i=window.Videoview)||null==(o=i.getLayoutType)?void 0:o.call(i))?r:"",ref:null!=(s=null!=(l=t.module)?l:null==(a=window.Videoview)||null==(n=a.getVideoModule)?void 0:n.call(a))?s:""};var _;c.queue.push(d),c.timeout=null!=(_=c.timeout)?_:window.setTimeout((()=>{ajax.post("al_video.php?act=track_player_events",{events:JSON.stringify(c.queue),sig:c.sig}),c.queue=[],c.timeout=null}),1e3)}const u={initPlayer(e,t,o){(0,r.hide)((0,r.domByClass)(e,"video_box_msg")),VideoInitializer[t].apply(VideoInitializer,[e].concat(o)),window.stManager.add(window.jsc("web/notifier.js"),(function(){const e=Videoview.togglePlay.pbind(!1);Notifier.addRecvClbk("audio_start","video",e),Notifier.addRecvClbk("video_start","video",e),Notifier.addRecvClbk("videocall_start","video",e)}))},vk(e,t){const o=t.oid+"_"+t.vid;if(t.vsegs)ls.remove("vsegs"+vk.id+"_"+o);else{const e=ls.get("vsegs"+vk.id+"_"+o);e&&e.ts&&e.segments&&Date.now()-e.ts<864e5&&(t.vsegs=e.segments.replace(/[^0-9\,\|]/gi,""))}if(e&&e instanceof HTMLElement){const o=(0,d.getTrackCodeFromPost)(e);o&&(t.feed_track_code=o)}window.onLoaded((function(){VideoInitializer.unionPlayer(e,t)}))},unionPlayer(e,t){_("requested",t);const n=window.mvLayer&&window.mvLayer.contains(e);(0,r.val)(e,""),window.stManager.add(["videoplayer.css"]),Promise.all([o.e(95413),o.e(52974)]).then(o.bind(o,572556)).then((({Player:o})=>{if(!document.body.contains(e))return void _("domabort",t);let a;_("imported",t);try{a=new o(t,e)}catch(e){throw _("constructor_failed",t),e}n?(mvcur.player&&mvcur.player.destroy(),mvcur.sdkPlayer=a,mvcur.player=mvcur.sdkPlayer):t.is_embed?cur.player=a:cur.videoInlinePlayer=a;const l=(0,r.ce)("div",{id:"video_player"});(0,r.attr)(l,"preventhide",1),l.appendChild(a.el),e.appendChild(l),(0,i.isFunction)(t.onPlayerLoaded)&&t.onPlayerLoaded(a)}),(e=>{throw _("import_failed",t),e}))},youtube(e,t){const o=t.oid,i=t.vid,l=t.report_error_hash;t.restriction||(document.pictureInPictureEnabled&&document.pictureInPictureElement&&document.exitPictureInPicture(),window.onYouTubeIframeAPIReady=function(){const a=(0,r.domByClass)(e,"video_yt_player"),s=new window.YT.Player(a,{events:{onError:function(e){e.data&&[100,101,150].includes(e.data)&&ajax.post("al_video.php?act=reparseDeletedYoutube",{vid:i,oid:o}),(0,n.debugLog)("YT player error",arguments),ajax.post("al_video.php?act=external_error",{oid:o,vid:i,hash:l})},onStateChange:function(e){switch(e.data){case window.YT.PlayerState.ENDED:window.stManager.add([window.jsc("web/videoview.js"),"videoview.css",window.jsc("web/external_video.js")],(function(){var e;const t=document.getElementById("video_yt");null==(e=window.ExternalVideo)||e.onExternalVideoEnded(t)}));break;case window.YT.PlayerState.PLAYING:const e=window.ap;e&&e.isPlaying()&&e.pause();break;default:var t;if(document.getElementById("mv_external_finish"))null==(t=window.ExternalVideo)||t.removeExternalVideoFinishBlock()}}}});window.stManager.add([window.jsc("web/video_youtube.js")],(function(){VideoYoutube.initStatOnly(s,t)}))},window.YT?window.onYouTubeIframeAPIReady():(0,a.loadScript)("https://www.youtube.com/iframe_api",{attributes:{async:!0,fetchPriority:"high"}}))},iframeOrFlash(e,t,o,i,n,a){(0,r.val)(e,'<iframe class="extra_player" type="text/html" width="100%" height="100%" src="'+encodeURI(i)+'" frameborder="0" '+n+"></iframe>"),a&&setTimeout((()=>{cur&&cur.incViews&&cur.incViews()}),100)}},v=(e="vk")=>{if((0,s.partConfigEnabled)("video_lazy_load_player"))try{(0,l.idlizeCall)((()=>window.setTimeout((()=>(0,l.idlizeCall)((()=>(e=>{switch(e){case"vk":window.stManager.add(["videoplayer.css"]),Promise.all([o.e(95413),o.e(52974)]).then(o.bind(o,572556));break;case"youtube":const e="https://www.youtube.com/iframe_api";(window.YT||document.head.querySelector(`script[src="${e}"]`))&&(0,a.loadScript)(e,{attributes:{defer:!0,fetchPriority:"low"}})}})(e)))),300)))}catch(e){console.error(e)}}},850343:(e,t,o)=>{var i;o.d(t,{AvailableHelpHints:()=>i}),function(e){e.ACCOUNT_HINT_NARRATIVES_ADD_TOOLTIP="narratives:add_tooltip",e.ACCOUNT_HINT_MVK_STORIES_ARCHIVE_ACTIONS_HINT="mvk:stories_archive:actions_hint",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE="mini_apps:button_mvk_profile",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_APP_MENU="mini_apps:button_mvk_app_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU="mini_apps:counter_toggle_in_action_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO="mini_apps:counter_toggle_in_action_menu_intro",e.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES="mini_apps:open_catalog_with_badges",e.ACCOUNT_HINT_MINI_APPS_CATALOG_SECTION_WITH_BADGES="mini_apps:catalog_section_with_badges",e.ACCOUNT_HINT_SUPERAPP_RECOMMEND_ACTION_IN_MENU="superapp:recommend_action_in_menu",e.ACCOUNT_HINT_SUPERAPP_SHOW_RECOMMEND_ACTION="superapp:show_recommend_action",e.ACCOUNT_HINT_MINI_APPS_NAV_BUTTONS_THIRD_PARTY_BUTTONS="mini_apps:nav_buttons_third_party_buttons",e.ACCOUNT_HINT_POSTING_EDITOR_ORD_AD="posting:editor_ord_ad",e.ACCOUNT_HINT_PROFILE_REDESIGN_ONBOARDING_BANNER="profile:redesign_onboarding_banner",e.ACCOUNT_HINT_PROFILE_REDESIGN_ONBOARDING_BOTTOMSHEET="profile:redesign_onboarding_bottomsheet",e.ACCOUNT_HINT_PROFILE_SERVICES_MENU_BANNER="profile:services_menu_banner",e.ACCOUNT_HINT_PROFILE_SERVICES_ONBOARDING="profile:services_onboarding",e.ACCOUNT_HINT_MVK_PWA_TABBAR="mvk:pwa_tabbar",e.ACCOUNT_HINT_STORIES_EDITOR_ORD_AD="stories:editor_ord_ad",e.ACCOUNT_HINT_SUPERAPP_MVK_SHOWCASE="superapp:mvk_showcase",e.IM_INTEGRATION_APPS_TOOLTIP_ON_PICKER="superapp:im_integration_apps_tooltip_on_picker",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_APPS_BANNER="superapp:im_integration_picker_apps_banner",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_GAMES_BANNER="superapp:im_integration_picker_games_banner",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_FORCIBLY_ENABLED_ONBOARDING="friends:followers_mode_forcibly_enabled_onboarding",e.ACCOUNT_HINT_FOLLOWERS_MODE_CAN_BE_ENABLED_ONBOARDING="friends:followers_mode_can_be_enabled_onboarding",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_ABOUT_MODAL_IMAGES="friends:followers_mode_about_modal_images",e.ACCOUNT_HINT_IM_INTEGRATION_CATALOG_ONBOARDING="superapp:im_integration_catalog_onboarding",e.ACCOUNT_HINT_ONEPASS_ONBOARDING="profile:passkey_onboarding_web",e.ACCOUNT_HINT_MVK_TABBAR_LIKE_NATIVE_ONBOARDING="mvk:tabbar_like_native_onboarding",e.ACCOUNT_HINT_VIDEO_INTERACTIVE_VIDEO_ONBOARDING="video:interactive_video_onboarding",e.AUTHOR_LIKE_ONBOARDING_HINT="feed:author_like_onboarding",e.GROUP_LIKE_ONBOARDING_HINT="feed:group_like_onboarding",e.ACCOUNT_HINT_COMMUNITY_REVIEW_TOOLTIP_MVK="community:review:tooltip_mvk",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_BUTTON="video:watch_later_button",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION="video:watch_later_action",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU="video:watch_later_menu"}(i||(i={}))}}]);try{stManager.done("dist/web/chunks/e29ff5a1.4a3a2b12.js")}catch(e){}