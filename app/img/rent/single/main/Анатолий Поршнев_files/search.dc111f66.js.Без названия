/*! For license information please see search.dc111f66.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={360646:(e,t,r)=>{r.d(t,{Icon16HistoryBackwardOutline:()=>o});var o=(0,r(28178).makeIcon)("Icon16HistoryBackwardOutline","history_backward_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="history_backward_outline_16"><path d="M9.828 2.812a5.496 5.496 0 0 0-5.313.935h.735a.75.75 0 1 1 0 1.5H3.137c-.058 0-.139 0-.212-.006a1.003 1.003 0 0 1-.379-.103 1 1 0 0 1-.437-.437 1.003 1.003 0 0 1-.103-.378C2 4.248 2 4.167 2 4.11V2a.75.75 0 0 1 1.5 0v.64a6.997 6.997 0 0 1 10.255 9.345 6.998 6.998 0 0 1-7.553 2.78 7.07 7.07 0 0 1-2.96-1.615.75.75 0 1 1 1.016-1.103 5.571 5.571 0 0 0 2.33 1.268A5.496 5.496 0 0 0 13.5 7.962a5.5 5.5 0 0 0-3.672-5.15M7.75 5a.75.75 0 0 1 .75.75v2.473l1.32 1.539a.75.75 0 0 1-1.14.976l-1.5-1.75A.75.75 0 0 1 7 8.5V5.75A.75.75 0 0 1 7.75 5" /></symbol>',16,16,!1,void 0)},810785:(e,t,r)=>{r.d(t,{Icon20DeleteClockOutline:()=>o});var o=(0,r(28178).makeIcon)("Icon20DeleteClockOutline","delete_clock_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="delete_clock_outline_20"><path fill-rule="evenodd" d="M8.418 4a1.75 1.75 0 0 1 3.164 0zm-1.58 0a3.25 3.25 0 0 1 6.325 0h4.087a.75.75 0 0 1 0 1.5h-.545l-.155 1.573a.75.75 0 0 1-1.493-.146l.14-1.427H4.803l.896 9.14c.051.527.087.882.134 1.156.046.265.095.4.147.492a1.4 1.4 0 0 0 .654.593c.177.078.431.113 1.172.118a.75.75 0 0 1-.01 1.5c-.69-.005-1.261-.022-1.768-.246a2.9 2.9 0 0 1-1.354-1.228c-.17-.302-.259-.624-.319-.973a18.061 18.061 0 0 1-.146-1.238L3.295 5.5H2.75a.75.75 0 0 1 0-1.5h4.087ZM14 19c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8a.75.75 0 0 1 .75.75v1.849l.913.608a.75.75 0 1 1-.832 1.248l-1.247-.831A.75.75 0 0 1 13.25 14v-2.25A.75.75 0 0 1 14 11" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},688999:(e,t,r)=>{r.d(t,{Icon56ReportOutline:()=>o});var o=(0,r(28178).makeIcon)("Icon56ReportOutline","report_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="report_outline_56"><g fill="currentColor"><path fill-rule="evenodd" d="M17.06 5.318A4.5 4.5 0 0 1 20.244 4h15.514a4.5 4.5 0 0 1 3.182 1.318l11.743 11.743A4.5 4.5 0 0 1 52 20.243v15.514a4.5 4.5 0 0 1-1.318 3.182L38.939 50.682A4.5 4.5 0 0 1 35.757 52H20.243a4.5 4.5 0 0 1-3.182-1.318L5.318 38.939A4.5 4.5 0 0 1 4 35.757V20.243a4.5 4.5 0 0 1 1.318-3.182zM20.244 7a1.5 1.5 0 0 0-1.061.44L7.439 19.181A1.5 1.5 0 0 0 7 20.242v15.515c0 .398.158.78.44 1.061l11.742 11.743a1.5 1.5 0 0 0 1.06.439h15.515a1.5 1.5 0 0 0 1.061-.44l11.743-11.742a1.5 1.5 0 0 0 .44-1.06V20.242a1.5 1.5 0 0 0-.44-1.061L36.818 7.439A1.5 1.5 0 0 0 35.758 7z" clip-rule="evenodd" /><path d="M30 36a2 2 0 1 0-4 0 2 2 0 0 0 4 0M29.5 18a1.5 1.5 0 0 0-2.993-.145L26.5 18v11a1.5 1.5 0 0 0 2.993.145L29.5 29z" /></g></symbol>',56,56,!1,void 0)},108679:(e,t,r)=>{var o=r(659864),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function i(e){return o.isMemo(e)?n:l[e.$$typeof]||a}l[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[o.Memo]=n;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,o){if("string"!=typeof r){if(p){var a=_(r);a&&a!==p&&e(t,a,o)}var n=u(r);d&&(n=n.concat(d(r)));for(var l=i(t),S=i(r),v=0;v<n.length;++v){var h=n[v];if(!(s[h]||o&&o[h]||S&&S[h]||l&&l[h])){var E=g(r,h);try{c(t,h,E)}catch(e){}}}}return t}},441143:e=>{e.exports=function(e,t,r,o,a,s,n,l){if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,a,s,n,l],u=0;(i=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}},725602:(e,t,r)=>{r.d(t,{default:()=>o});const o={wrapper:"SearchInput-module__wrapper--HBTTP",inputWrap:"SearchInput-module__inputWrap--RwZpW",input:"SearchInput-module__input--OoBio",clearButton:"SearchInput-module__clearButton--DLioq",button:"SearchInput-module__button--iOQ0A"}},837960:()=>{},144311:(e,t,r)=>{r.d(t,{default:()=>o});const o={app:"App-module__app--sMbxh",search:"App-module__search--_fJCB"}},287063:(e,t,r)=>{r.d(t,{default:()=>o});const o={root:"SearchResults-module__root--mnxjb",scroll:"SearchResults-module__scroll--P7w2c"}},642419:(e,t,r)=>{r.d(t,{default:()=>o});const o={spinner:"Spinner-module__spinner--pJOJK"}},869921:(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,n=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,i=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,g=r?Symbol.for("react.forward_ref"):60112,_=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,S=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,h=r?Symbol.for("react.block"):60121,E=r?Symbol.for("react.fundamental"):60117,f=r?Symbol.for("react.responder"):60118,m=r?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case d:case s:case l:case n:case _:return e;default:switch(e=e&&e.$$typeof){case c:case g:case v:case S:case i:return e;default:return t}}case a:return t}}}function C(e){return y(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=i,t.Element=o,t.ForwardRef=g,t.Fragment=s,t.Lazy=v,t.Memo=S,t.Portal=a,t.Profiler=l,t.StrictMode=n,t.Suspense=_,t.isAsyncMode=function(e){return C(e)||y(e)===u},t.isConcurrentMode=C,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===i},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===g},t.isFragment=function(e){return y(e)===s},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===S},t.isPortal=function(e){return y(e)===a},t.isProfiler=function(e){return y(e)===l},t.isStrictMode=function(e){return y(e)===n},t.isSuspense=function(e){return y(e)===_},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===l||e===n||e===_||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===S||e.$$typeof===i||e.$$typeof===c||e.$$typeof===g||e.$$typeof===E||e.$$typeof===f||e.$$typeof===m||e.$$typeof===h)},t.typeOf=y},659864:(e,t,r)=>{e.exports=r(869921)},929804:(e,t,r)=>{var o=r(14890).compose;t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?o:o.apply(null,arguments)}},946742:(e,t,r)=>{r.d(t,{apiAudioToAudioTuple:()=>l});var o=r(664988),a=r(659397),s=r(312523),n=r(552248);const l=e=>{var t,r,l,i,c,u,d,g,_,p,S,v;return e?[e.id,e.owner_id,e.url||"",(0,o.clean)(e.title),(0,o.clean)(e.artist||e.performer||""),e.duration,e.album_id||0,0,"",e.lyrics_id||0,0,"","[]",(0,s.getAudioHashesString)({addHash:e.access_key,editHash:e.access_key,actionHash:e.access_key,deleteHash:e.access_key,replaceHash:e.access_key,urlHash:e.access_key,restoreHash:e.access_key}),(null==(r=e.album)||null==(t=r.thumb)?void 0:t.sizes)?(null==(l=(0,a.getPhotoSize)((null==(c=e.album)||null==(i=c.thumb)?void 0:i.sizes)||[],(0,n.getImageMinWidth)(200)))?void 0:l.url)||"":`${null==(d=e.album)||null==(u=d.thumb)?void 0:u.photo_300},${null==(_=e.album)||null==(g=_.thumb)?void 0:g.photo_135}`||"",e.ads||{},(0,o.clean)(e.subtitle||""),e.main_artists||"",e.featured_artists||"",!!e.album&&[null==(p=e.album)?void 0:p.owner_id,null==(S=e.album)?void 0:S.id,null==(v=e.album)?void 0:v.access_key],e.track_code||"",e.content_restricted||0,e.album_part_number||0,!0,e.access_key||"",e.audio_chart_info||!1,""]:null}},13755:(e,t,r)=>{r.d(t,{audioTupleToApiAudio:()=>s});var o=r(664988),a=r(680698);const s=e=>{if(!e)return null;const[t,r,s,n,l,i,c,,,,,,,u,,d,g,_,p,S,v,h,E,,f,m]=e,{urlHash:y}=(0,a.getAudioHashesFromString)(u);return{access_key:f||y||"",ads:d,artist:(0,o.unclean)(l||""),id:t,owner_id:r,url:s,title:(0,o.unclean)(n),performer:(0,o.unclean)(l),duration:i,album_id:c,subtitle:(0,o.unclean)(g),main_artists:_||void 0,featured_artists:p||void 0,album:S?{owner_id:S[0],id:S[1],access_key:S[2],title:""}:void 0,track_code:v,content_restricted:h,album_part_number:E,audio_chart_info:m||void 0}}},129834:(e,t,r)=>{r.d(t,{AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR:()=>o});const o="/"},680698:(e,t,r)=>{r.d(t,{getAudioHashesFromString:()=>a});var o=r(129834);const a=e=>{var t;if(!e)return{};const[r,a,s,n,l,i,c]=null==(t=e)?void 0:t.split(o.AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR);return{addHash:r,editHash:a,actionHash:s,deleteHash:n,replaceHash:l,urlHash:i,restoreHash:c}}},312523:(e,t,r)=>{r.d(t,{getAudioHashesString:()=>a});var o=r(129834);const a=({addHash:e,editHash:t,actionHash:r,deleteHash:a,replaceHash:s,urlHash:n,restoreHash:l})=>[e||"",t||"",r||"",a||"",s||"",n||"",l||""].join(o.AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR)},898194:(e,t,r)=>{var o;r.d(t,{AudioPlayerAdapterPlaylistType:()=>o}),function(e){e.CURRENT="current",e.PLAYLIST="playlist",e.MY="my",e.ALBUM="album",e.TEMP="temp",e.RECOM="recoms",e.SEARCH="search",e.FEED="feed",e.LIVE="live",e.WALL="wall",e.RECENT="recent"}(o||(o={}))},699847:(e,t,r)=>{r.d(t,{AudioPlayerProvider:()=>u});var o=r(785893),a=r(506282),s=r(790622),n=r(667294),l=r(866310),i=r(662273);const c=e=>{var t;return e?`module:${null==(t=e)?void 0:t.id}`:""},u=e=>{var t;const{children:r,platformAudioPlayer:u,owner:d}=e,[g,_]=(0,n.useState)(s.AudioPlayerStatus.NO),[p,S]=(0,n.useState)(null),[v,h]=(0,n.useState)(null),[E,f]=(0,n.useState)(0),[m,y]=(0,n.useState)(0),[C,b]=(0,n.useState)(c(d)),A=()=>{var e,t,r,o;S((null==(e=u)?void 0:e.getCurrentAudio())||null),h((null==(t=u)?void 0:t.getCurrentPlaylist())||null),f((null==(r=u)?void 0:r.getCurrentAudioProgress())||0),y((null==(o=u)?void 0:o.getCurrentAudioVolume())||0)},w=()=>{_(s.AudioPlayerStatus.INIT),A()},k=()=>{A()},T=()=>{_(s.AudioPlayerStatus.LOADING),A()},I=()=>{_(s.AudioPlayerStatus.PLAYING),A()},R=()=>{_(s.AudioPlayerStatus.PAUSED),A()},P=()=>{A()},O=(0,i.throttle)((()=>{var e;f((null==(e=u)?void 0:e.getCurrentAudioProgress())||0)}),1e3),D=()=>{_(s.AudioPlayerStatus.STOPPED),A()},L=()=>{_(s.AudioPlayerStatus.ENDED),A()},x=()=>{var e,t,r,o,a,s,n,i,c;null==(e=u)||e.unsubscribe(l.events.INIT,w,C),null==(t=u)||t.unsubscribe(l.events.VOLUME,k,C),null==(r=u)||r.unsubscribe(l.events.PLAY_REQUESTED,T,C),null==(o=u)||o.unsubscribe(l.events.PLAY,I,C),null==(a=u)||a.unsubscribe(l.events.PAUSE,R,C),null==(s=u)||s.unsubscribe(l.events.PLAYLIST_CHANGED,P,C),null==(n=u)||n.unsubscribe(l.events.PROGRESS,O,C),null==(i=u)||i.unsubscribe(l.events.STOP,D,C),null==(c=u)||c.unsubscribe(l.events.ENDED,L,C)};(0,n.useEffect)((()=>{b(c(d))}),[null==(t=d)?void 0:t.id]),(0,n.useEffect)((()=>{var e,t,r,o,a,s,n,i,c;return null==(e=u)||e.subscribe(l.events.INIT,w,C),null==(t=u)||t.subscribe(l.events.VOLUME,k,C),null==(r=u)||r.subscribe(l.events.PLAY_REQUESTED,T,C),null==(o=u)||o.subscribe(l.events.PLAY,I,C),null==(a=u)||a.subscribe(l.events.PAUSE,R,C),null==(s=u)||s.subscribe(l.events.PLAYLIST_CHANGED,P,C),null==(n=u)||n.subscribe(l.events.PROGRESS,O,C),null==(i=u)||i.subscribe(l.events.STOP,D,C),null==(c=u)||c.subscribe(l.events.ENDED,L,C),x}),[u,C]),(0,n.useEffect)((()=>{u&&(u.isPlaying()?_(s.AudioPlayerStatus.PLAYING):u.getCurrentAudio()?_(s.AudioPlayerStatus.PAUSED):_(s.AudioPlayerStatus.NO)),A()}),[]);const V={platformAudioPlayer:u,status:g,currentAudio:p,currentPlaylist:v,currentAudioProgress:E,currentAudioVolume:m,audioPlayerContext:C};return(0,o.jsx)(a.AudioPlayerContext.Provider,{value:V,children:r})}},669981:(e,t,r)=>{r.d(t,{audioLayoutResolver:()=>s});var o=r(539791),a=r(479978);const s=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return a.IslandSeparator;case o.CatalogBlockLayoutName.HEADER:case o.CatalogBlockLayoutName.HEADER_COMPACT:case o.CatalogBlockLayoutName.HEADER_EXTENDED:return a.Header;case o.CatalogBlockLayoutName.SLIDER:case o.CatalogBlockLayoutName.LARGE_SLIDER:return a.Slider;case o.CatalogBlockLayoutName.TRIPLE_STACKED_SLIDER:return a.TripleStackedSlider;case o.CatalogBlockLayoutName.LIST:case o.CatalogBlockLayoutName.LARGE_LIST:return a.List;default:return()=>null}}},180833:(e,t,r)=>{var o=r(798116),a=r(774462);a.$selectedIndex.reset(a.fireResetSelectionIndex),a.$itemsIndex.reset(a.fireResetItemsIndex),(0,o.sample)({clock:[a.fireUpSelectionIndex,a.fireDownSelectionIndex],fn:()=>!1,target:a.$isMouseActive}),(0,o.sample)({clock:a.fireSetSelectionIndexByItem,fn:()=>!0,target:a.$isMouseActive}),(0,o.sample)({clock:a.fireSetSelectionIndexByItem,source:a.$itemsIndex,fn:(e,t)=>e.findIndex((e=>e.id===t))||-1,target:a.$selectedIndex}),(0,o.sample)({clock:a.fireDownSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:({itemsIndex:e,selectedIndex:t})=>e.length?(t+1)%e.length:-1,target:a.$selectedIndex}),(0,o.sample)({clock:a.fireUpSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:({itemsIndex:e,selectedIndex:t})=>e.length?t-1<0?e.length-1:t-1:-1,target:a.$selectedIndex}),(0,o.sample)({clock:a.fireSetItemIndex,source:a.$itemsIndex,fn:(e,t)=>{if(null===t)return[];const r=[...e],o=r.findIndex((e=>e.id===t.id));return-1!==o&&(r[o]=t),r.push(t),r},target:a.$itemsIndex}),(0,o.sample)({clock:a.$selectedIndex,source:{selectedItemIndex:a.$selectedItemIndex,itemsIndex:a.$itemsIndex},filter:({selectedItemIndex:e,itemsIndex:t},r)=>{var o,a,s,n;return(null==(o=t[r]||0===(null==(s=t)||null==(a=s[r])?void 0:a.id)?t[r]:null)?void 0:o.id)!==(null==(n=e)?void 0:n.id)},fn:({itemsIndex:e},t)=>{var r,o;return e[t]||0===(null==(o=e)||null==(r=o[t])?void 0:r.id)?e[t]:null},target:a.$selectedItemIndex})},237421:(e,t,r)=>{var o,a,s,n=r(434788),l=r(785893),i=r(973935),c=r(54413),u=r(421553),d=r(293579),g=r(426848),_=r(824346),p=r(192220),S=r(714562),v=r(127822),h=r(321850);(null==(a=window.vk)||null==(o=a.pe)?void 0:o.static_manager_dynamic_imports)&&(null==(s=window.vk)?void 0:s.stDomain)&&(r.p=window.vk.stDomain+"/dist/"),window.searcher=c.searcher,window.iSearch=c.iSearch,window.searchActions=u.searchActions,window.slideShow=u.slideShow,window.slideHide=u.slideHide,(0,d.registerReactApplication)("SearchCatalogSuggester",(e=>{const t=e?(0,n._)({},e):null;t&&!t.triggers&&(t.triggers=(0,v.getTriggersMap)(t.type));const r=(0,d.getReactRootEl)("SearchCatalogSuggester");r&&i.render((0,l.jsx)(g.SearchCatalogSuggesterRoot,{initOptions:t}),r)})),(0,d.registerReactApplication)("SearchVideoCatalog",(()=>{const e=(0,d.getReactRootEl)("SearchVideoCatalog");e&&i.render((0,l.jsx)(_.SearchVideoCatalog,{}),e),(0,h.pushNavDestroy)((()=>{e&&i.unmountComponentAtNode(e)}))})),(0,d.registerReactApplication)("TopSearch",(()=>{const e=(0,d.getReactRootEl)("TopSearch");e&&i.render((0,l.jsx)(p.SearchTopRoot,{}),e)})),(0,d.registerReactApplication)("SearchAudioCatalog",(()=>{const e=(0,d.getReactRootEl)("SearchAudioCatalog");e&&i.render((0,l.jsx)(S.SearchAudioCatalogRoot,{}),e)}));try{window.stManager.done(window.jsc("web/search.js"))}catch(e){}},69438:(e,t,r)=>{r.d(t,{CatalogVideo:()=>v});var o=r(785893),a=r(768620),s=r(539791),n=r(40221),l=r(839470),i=r(327038),c=r(29271),u=r(810785),d=r(982555),g=r(243031),_=r(193452),p=r(508249),S=r(538310);const v=({catalog:e,extendedData:t,sections:r,onGetSection:v,blockLayoutResolver:h,search:E})=>{const f={pageId:"SearchVideo",catalogType:s.CatalogType.VIDEO},m={pageVerifiedTip:p.pageVerifiedTip,navGo:S.navGo,userId:window.vk.id};return(0,o.jsx)(a.CatalogSearchProvider,{showVideo:n.showVideo,getVideoCardWrapper:({video:e,handleFavToggle:t,owner:r,handleClickShowVideo:a})=>{if((0,l.partConfigEnabled)("video_showcase_search_vkcomkit_videocards")){const s=[],n=(0,l.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");if(e.can_add_to_faves){const r=n?{onClick:t,children:e.is_favorite?c.getLang("video_remove_from_watch_later"):c.getLang("video_catalog_showcase_section_my_watch_later_title"),before:e.is_favorite?(0,o.jsx)(u.Icon20DeleteClockOutline,{}):(0,o.jsx)(d.Icon20ClockOutline,{})}:{onClick:t,children:e.is_favorite?c.getLang("global_remove_from_bookmarks"):c.getLang("global_add_to_bookmarks"),before:(0,o.jsx)(g.Icon20FavoriteOutline,{})};s.push(r)}const p=[];return(0,o.jsx)(i.VideoCardWrapper,{video:e,owner:r,controls:p,actions:s,onVideoOpen:a,collectClick:_.searchStatsCollector.logEvent})}return null},showVideoMenu:(e,t)=>{var r;null==(r=window.VideoShowcase)||r.showVideoMenu(e,t)},search:E,children:(0,o.jsx)(s.Catalog,{collectClick:_.searchStatsCollector.logEvent,collectView:_.searchViewStatCollector.logEvent,catalog:e,extendedData:t,nextFromSections:r,onGetSection:v,catalogVars:f,platformVars:m,blockLayoutResolver:h})})}},552311:(e,t,r)=>{r.d(t,{SearchInput:()=>c});var o=r(785893),a=r(667294),s=r(29271),n=r(315954),l=r(195192),i=r(725602);const c=({onClick:e,onSubmit:t,onFocus:r,onBlur:c,onInput:u,onKeyDown:d,searchQuery:g="",placeholder:_,focusTrigger:p})=>{const S=(0,a.useRef)(null),[v,h]=(0,a.useState)("");return(0,a.useEffect)((()=>{h(g)}),[g]),(0,a.useEffect)((()=>{var e,t;null==(t=S)||null==(e=t.current)||e.focus()}),[p]),(0,o.jsxs)("div",{className:i.default.wrapper,children:[(0,o.jsxs)("div",{className:i.default.inputWrap,children:[(0,o.jsx)("input",{className:i.default.input,type:"search",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",autoComplete:"off",placeholder:_||s.getLang("global_search"),onClick:t=>{var r;null==(r=e)||r(t)},onFocus:e=>{var t;null==(t=r)||t(e)},onBlur:e=>{var t;null==(t=c)||t(e)},onInput:e=>{var t;const r=e.currentTarget.value||"";h(r),null==(t=u)||t(e)},onKeyDown:e=>{var t;null==(t=d)||t(e)},ref:S,value:v,id:"search_query"}),v&&(0,o.jsx)("button",{className:i.default.clearButton,onClick:()=>{var e,r,o;h(""),null==(r=S)||null==(e=r.current)||e.focus(),null==(o=t)||o("")},children:(0,o.jsx)(n.Icon24Cancel,{})})]}),(0,o.jsx)("button",{className:i.default.button,onClick:()=>{var e;null==(e=t)||e(v)},children:(0,o.jsx)(l.Icon16SearchOutline,{})})]})}},690743:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(552311)},714562:(e,t,r)=>{r.d(t,{SearchAudioCatalogRoot:()=>v});var o=r(785893),a=r(664296),s=r(916207),n=r(667294),l=r(699847),i=r(539791),c=r(155304),u=r(190147),d=r(772558),g=r(743711),_=r(869048),p=r(95432),S=r(426131);const v=()=>{const e=(0,n.useMemo)((()=>new c.WebAudioPlayerAdapter((0,p.getAudioPlayer)())),[]);return(0,o.jsxs)(_.AppRootProvider,{children:[(0,o.jsx)(d.SearchInput,{}),(0,o.jsx)(l.AudioPlayerProvider,{platformAudioPlayer:e,owner:{id:window.vk.id},children:(0,o.jsx)(i.CatalogDesktopVideoProvider,{onVideoToggleFave:a.toggleFav,onVideoSendReport:a.sendReport,getVerifiedBadge:s.getVerifiedBadge,addToPlaylistControl:S.AddToPlaylistControl,listGridProps:{columnsQueries:{},columnsDefault:1},onVideoOpen:a.openVideo,onPlaylistCopyUrl:()=>{},onPlaylistDelete:()=>{},onPlaylistEdit:()=>{},onPlaylistOpen:()=>{},onPlaylistToggleSubscribe:()=>{},onPlaylistUpload:()=>{},onVideoDownload:()=>{},onVideoEdit:()=>{},onVideoTogglePin:()=>{},children:(0,o.jsx)(i.CatalogSearchProvider,{showAudioPlaylist:g.showAudioPlaylist,children:(0,o.jsx)(u.SearchAudioCatalog,{})})})})]})}},411688:(e,t,r)=>{r.d(t,{SearchAudioCatalog:()=>g});var o=r(785893),a=r(667294),s=r(504190),n=r(669981),l=r(898194),i=r(193452),c=r(539791),u=r(538310),d=r(648766);const g=()=>{var e,t;const r=(0,s.useStore)(d.searchAudioService.$audioSearchCatalog),g=(0,s.useStore)(d.extendedService.$data),_=(0,s.useStore)(d.searchAudioService.$isCatalogAudioSearchVisible),p=(0,s.useStore)(d.searchAudioService.$query),S=null==(e=r)?void 0:e.sections,v=(0,s.useEvent)(d.searchAudioService.setCatalogAudioSearchVisibleEvent),h=(0,s.useEvent)(d.catalogGetAudioSearchService.catalogSearchAudioEvent);if((0,a.useEffect)((()=>{_&&window.AudioPage.setVisibilitySectionsContent(!1)}),[_]),(0,a.useEffect)((()=>{if(!p)return window.AudioPage.setVisibilitySectionsContent(!0),void v(!1);h({query:p,need_blocks:1})}),[p]),(null==(t=S)?void 0:t.length)&&_){const e={navGo:u.navGo,userId:window.vk.id,musicPlayer:{playlistType:l.AudioPlayerAdapterPlaylistType.SEARCH}},t={catalogType:c.CatalogType.SEARCH,pageId:"SearchAudioCatalog"};return(0,o.jsx)(c.Catalog,{collectClick:i.searchStatsCollector.logEvent,collectView:i.searchViewStatCollector.logEvent,catalog:r,extendedData:g,nextFromSections:S,catalogVars:t,platformVars:e,blockLayoutResolver:n.audioLayoutResolver})}return(0,o.jsx)(o.Fragment,{})}},190147:(e,t,r)=>{r.d(t,{SearchAudioCatalog:()=>o.SearchAudioCatalog});var o=r(411688)},932992:(e,t,r)=>{r.d(t,{SearchInput:()=>u});var o=r(785893),a=r(667294),s=r(690743),n=r(504190),l=r(648766),i=r(600112),c=r(29271);const u=()=>{const e=(0,a.useRef)(),[t,r]=(0,a.useState)((()=>new URLSearchParams(window.location.search).get("q")||"")),u=(0,n.useEvent)(l.searchAudioService.setQueryEvent),d=(0,n.useStore)(l.searchAudioService.$query);(0,a.useEffect)((()=>{u(t)}),[]),(0,a.useEffect)((()=>{r(d)}),[d]);const g=(0,a.useCallback)((t=>{const o=t.currentTarget.value;r(o),clearTimeout(e.current),e.current=setTimeout((()=>{(0,i.search)({q:o})}),220)}),[]),_=(0,a.useCallback)((t=>{clearTimeout(e.current),(0,i.search)({q:t})}),[]);return(0,o.jsx)(s.SearchInput,{placeholder:c.getLang("audio_search_placeholder"),onInput:g,onSubmit:_,searchQuery:t})}},772558:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(932992)},468114:(e,t,r)=>{r.d(t,{createExtendedService:()=>s});var o=r(798116);const a=e=>Object.values(e).filter((e=>Boolean(e))),s=({entitiesGroupsService:e,entitiesUsersService:t,entitiesVideoAlbumsService:r,entitiesVideoService:s,searchAudioService:n})=>{const{$entitiesGroups:l}=e,{$entitiesUsers:i}=t,{$entitiesVideo:c}=s,{$entitiesVideoAlbums:u}=r,{$audios:d,$playlists:g,$links:_}=n,p=l.map(a),S=i.map(a),v=c.map(a),h=u.map(a);return{$data:(0,o.combine)({groups:p,profiles:S,videos:v,albums:h,audios:d,playlists:g,links:_},(({albums:e,groups:t,profiles:r,videos:o,audios:a,playlists:s,links:n})=>({albums:e,groups:t,profiles:r,videos:o,audios:a,playlists:s,links:n})))}}},284956:(e,t,r)=>{r.d(t,{createSearchAudioService:()=>c});var o=r(539791),a=r(538310),s=r(945618),n=r(798116),l=r(453934),i=r(600112);const c=({domain:e,catalogGetAudioSearchService:t})=>{const{catalogGetAudioSearchFx:r,catalogSearchAudioEvent:c}=t,u=(0,s.ensureMyMusicService)(),d=e.createStore([]),g=e.createStore([]),_=e.createStore([]),p=e.createStore(!1),S=e.createStore(""),v=e.createStore({sections:[],default_section:""}),h=e.createEvent(),E=e.createEvent(),f=e.createEffect(i.checkSearchLoc);return(0,a.subscribeNavLocationChange)(f),(0,n.sample)({clock:f.doneData,source:S,filter:(e,t)=>t!==e,fn:(e,t)=>t,target:S}),(0,n.sample)({clock:E,target:S}),(0,n.sample)({clock:[c,h],source:r}).watch((e=>{var t;null==(t=e.controller)||t.abort()})),(0,n.sample)({clock:h,target:p}),(0,n.sample)({clock:r.doneData,fn:()=>!0,target:h}),(0,n.sample)({clock:r.doneData,filter:({catalog:e})=>Boolean(e),fn:({catalog:e={sections:[],default_section:""}})=>e,target:v}),(0,n.sample)({clock:r.doneData,filter:({audios:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({audios:e=[]})=>e,target:d}),(0,n.sample)({clock:r.doneData,filter:({playlists:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({playlists:e=[]})=>e,target:g}),(0,n.sample)({clock:r.doneData,filter:({links:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({links:e=[]})=>e,target:_}),(0,n.sample)({clock:u.addFx.done,source:o.$audioModifiedItems,fn:(e,{params:t,result:r})=>(0,l.produce)(e,(e=>{const{trackedIdentity:o,userId:a}=t,s=o.id;if(r.id){const t={newAudioId:r.id,ownerId:a,isAdded:!0};e[s]=t}})),target:o.$audioModifiedItems}),(0,n.sample)({clock:u.deleteFx.done,source:o.$audioModifiedItems,fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const{identity:r}=t;r.id&&e[r.id].isAdded&&delete e[r.id]})),target:o.$audioModifiedItems}),{$audios:d,$playlists:g,$links:_,$isCatalogAudioSearchVisible:p,$audioSearchCatalog:v,$query:S,setCatalogAudioSearchVisibleEvent:h,setQueryEvent:E}}},648766:(e,t,r)=>{r.d(t,{catalogGetAudioSearchService:()=>E,extendedService:()=>m,searchAudioService:()=>f});var o=r(468114),a=r(284956),s=r(798116),n=r(481954),l=r(330943),i=r(336547),c=r(555888),u=r(796615),d=r(713990);const g=(0,s.createDomain)("search/SearchAudioCatalog"),_=(0,n.createEntitiesCatalogSectionsService)({domain:g}),p=(0,l.createEntitiesGroupsService)({domain:g}),S=(0,i.createEntitiesUsersService)({domain:g}),v=(0,c.createEntitiesVideoAlbumService)({domain:g}),h=(0,u.createEntitiesVideoService)({domain:g,entitiesGroupsService:p,entitiesUsersService:S}),E=(0,d.createCatalogGetAudioSearchService)({domain:g,entitiesCatalogSections:_,entitiesUsersService:S,entitiesGroupsService:p,entitiesVideoService:h,entitiesVideoAlbumsService:v}),f=(0,a.createSearchAudioService)({domain:g,catalogGetAudioSearchService:E}),m=(0,o.createExtendedService)({entitiesGroupsService:p,entitiesUsersService:S,entitiesVideoAlbumsService:v,entitiesVideoService:h,searchAudioService:f})},600112:(e,t,r)=>{r.d(t,{checkSearchLoc:()=>n,search:()=>l});var o=r(106898),a=r(538310);const s=/audios\d+\?(.+)/,n=e=>{const t=e.match(s);if(t){const e=t[1];var r;return null!=(r=new URLSearchParams(e).get("q"))?r:""}return""},l=e=>{const t=new URLSearchParams(window.location.search);t.set("q",e.q),e.additionalParams&&(t.set("suggest_trackcode",e.additionalParams.suggestTrackCode),t.set("no_spellcheck",String(e.additionalParams.noSpellcheck)));const r=(0,o.encodeUrlSearchParams)(Object.fromEntries(t.entries()),"?");(0,a.navGo)(`${window.location.pathname}${r}`,null)}},426848:(e,t,r)=>{r.d(t,{SearchCatalogSuggesterRoot:()=>l});var o=r(785893),a=r(50533),s=r(281858),n=r(391345);const l=({initOptions:e})=>(0,o.jsx)(a.Provider,{store:s.suggesterStore,children:(0,o.jsx)(n.SearchForm,{options:e})})},356571:(e,t,r)=>{r.d(t,{Catalog:()=>l});var o=r(434788),a=r(785893),s=r(667294),n=r(166455);const l=({catalog:e})=>{var t,r;const l=null==(r=e)||null==(t=r.sections)?void 0:t.find((({id:t})=>{var r;return t===(null==(r=e)?void 0:r.default_section)})),i=(0,n.extractBlocks)(l);return(0,a.jsx)(a.Fragment,{children:i.map((e=>{const t=(0,n.getBlockByLayout)(e);return(0,s.createElement)(t,(0,o._)({},e,{key:e.id}))}))})}},912826:(e,t,r)=>{r.d(t,{HeaderCompact:()=>a});var o=r(785893);const a=e=>(0,o.jsx)("div",{children:(0,o.jsx)("h3",{className:"SuggestionItemsTitle",children:e.layout.title})},e.id)},912562:(e,t,r)=>{r.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=r(912826)},721600:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>l});var o=r(785893),a=r(667294),s=r(596535),n=r(652427);const l=e=>{const{searchQuery:t,recentSuggestions:r,otherSuggestions:l,selectedSuggestion:i,triggerSearch:c,lastQuery:u}=(0,s.useTypedSelector)((e=>{var t;return{searchQuery:e.searchInput.query,catalog:e.catalog.catalog,recentSuggestions:e.suggester.recentSuggests,otherSuggestions:e.suggester.otherSuggests,selectedSuggestion:e.suggester.selectedSuggest,helpSuggest:e.suggester.helpSuggest,triggerSearch:null==(t=e.initOptions.triggers)?void 0:t.triggerSearch,lastQuery:e.catalog.lastQuery}})),d=(0,a.useMemo)((()=>{let t=[...r,...l];return e.suggestions_ids&&(t=t.filter((({id:t=""})=>{var r,o;return null==(o=e)||null==(r=o.suggestions_ids)?void 0:r.includes(t)}))),e.search_suggestions_ids&&(t=t.filter((({id:t=""})=>{var r,o;return null==(o=e)||null==(r=o.search_suggestions_ids)?void 0:r.includes(t)}))),t}),[r,l,t,u,i]);return(0,o.jsx)("div",{className:"SuggesterBlock",children:(0,o.jsx)(n.SuggestionItems,{suggestions:d,selectedId:i,triggerSearch:c})})}},652427:(e,t,r)=>{r.d(t,{SuggestionItems:()=>_});var o=r(785893),a=r(667294),s=r(360646),n=r(195192),l=r(29271),i=r(254362),c=r(331251),u=r(659397),d=r(193452),g=r(957973);const _=({suggestions:e,selectedId:t,triggerSearch:r})=>{const{setSearchQuery:_,hideSuggest:p,deleteRecent:S,search:v,deleteRecentBlock:h}=(0,i.useAction)(),E=(0,a.useCallback)(((e,t="")=>{const o=(0,c.getMainInput)(),a=window.uiSearch.getWrapEl(o);_(t),v(o,a,t,r,e),p(a),d.searchStatsCollector.logEvent({action:g.SearchClickActionMap.TAP,track_code:e,type:g.EventItemType.SEARCH_SUGGESTION})}),[]),f=(0,a.useCallback)(((t,r,o)=>{t.stopPropagation(),S(o||""),d.searchStatsCollector.logEvent({action:g.SearchClickActionMap.REMOVE_RECENT,track_code:r,type:g.EventItemType.SEARCH_SUGGESTION});1===e.length&&h()}),[e]);return(0,o.jsx)(o.Fragment,{children:e.map((e=>(0,o.jsxs)("div",{className:(0,u.classNames)("SuggestionItemsItem",{"SuggestionItemsItem--selected":t===e.id}),onClick:()=>{var t;return E((null==(t=e)?void 0:t.track_code)||"",e.title)},children:[(0,o.jsx)("div",{className:"SuggestionItemsItemIcon",children:"recent"===e.type?(0,o.jsx)(s.Icon16HistoryBackwardOutline,{}):(0,o.jsx)(n.Icon16SearchOutline,{})}),(0,o.jsx)("p",{className:"SuggestionItemsText",children:e.title}),"recent"===e.type?(0,o.jsx)("button",{className:"SuggestionItemsDelete",onClick:t=>{var r;return f(t,(null==(r=e)?void 0:r.track_code)||"",e.id)},children:l.getLang("search_web_video_suggester_delete_action")}):null]},e.id)))})}},670446:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>o.SuggesterBlock});var o=r(721600)},118330:(e,t,r)=>{r.d(t,{HeaderCompact:()=>a.HeaderCompact,SuggesterBlock:()=>o.SuggesterBlock});var o=r(670446),a=r(912562)},491434:(e,t,r)=>{r.d(t,{Catalog:()=>o.Catalog,HeaderCompact:()=>a.HeaderCompact,SuggesterBlock:()=>a.SuggesterBlock});var o=r(356571),a=r(118330)},166455:(e,t,r)=>{r.d(t,{extractBlocks:()=>s,getBlockByLayout:()=>n});var o=r(906019),a=r(732292);const s=e=>{var t,r;return(null==(r=e)||null==(t=r.blocks)?void 0:t.length)?e.blocks:[]},n=e=>{const t=e.layout.name,r=e.data_type;switch(t){case o.ESearchCatalogBlockLayoutName.LIST:return r===o.ESearchCatalogBlockDataType.CATALOG_SEARCH_SUGGESTION||r===o.ESearchCatalogBlockDataType.SEARCH_SUGGESTION?a.SuggesterBlock:()=>null;case o.ESearchCatalogBlockLayoutName.HEADER_COMPACT:return a.HeaderCompact;default:return()=>null}}},49593:(e,t,r)=>{r.d(t,{InputHelpSuggest:()=>n});var o=r(785893),a=r(973935),s=r(906019);const n=({helpSuggestStart:e="",helpSuggestEnd:t=""})=>{var r;const n=null==(r=document.querySelector(s.SEARCH_INPUT_ELEMENT_ID))?void 0:r.parentElement;return a.createPortal((0,o.jsxs)("div",{className:"InputHelpSuggest",children:[(0,o.jsx)("span",{className:"InputHelpSuggest__hidden",children:e}),t]}),n)}},947139:(e,t,r)=>{r.d(t,{SearchInput:()=>_});var o=r(785893),a=r(667294),s=r(331251),n=r(254362),l=r(82161),i=r(953908),c=r(906019),u=r(596535),d=r(49593),g=r(858431);const _=({options:e})=>{const{query:t,isWaitingForShow:r,allSuggests:_,selectedSuggestId:p,helpSuggest:S,helpSuggestStart:v,helpSuggestEnd:h,helpTrigger:E,shouldBeClosed:f}=(0,u.useTypedSelector)((e=>({query:e.searchInput.query,isWaitingForShow:e.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,selectedSuggestId:e.suggester.selectedSuggest,helpSuggestStart:e.suggester.helpSuggestStart,helpSuggestEnd:e.suggester.helpSuggestEnd,helpSuggest:e.suggester.helpSuggest,helpTrigger:e.suggester.helpTrigger,shouldBeClosed:e.suggester.shouldBeClosed}))),{initOptions:m,setSearchQuery:y,startShowingSuggest:C,showSuggest:b,hideSuggest:A,chooseAbove:w,chooseBelow:k,search:T,resetSelectedSuggest:I,resetHelpSuggest:R,triggerHelpSuggest:P,resetTempSuggesterData:O,resetClosedSuggesterStatus:D}=(0,n.useAction)(),[L,x]=(0,a.useState)((0,s.getQueryFromNav)()),V=(0,g.useDebounce)(L,c.DEBOUNCE_TIME);(0,a.useEffect)((()=>{I(),y(V)}),[V]);const H=(0,a.useCallback)((t=>{var r;const o=t.target,a=window.uiSearch.getWrapEl(o),s=(0,l.trim)(o.value)?o.value:"";var n,c,u;s||((null==(n=e)?void 0:n.allowFiltersForEmpty)||window.uiSearch.removeAllFilters(o),window.uiSearch.hideProgress(o));if(null==(r=e)?void 0:r.useInstantSearch)return O(),void T(o,a,s,null==(u=e)||null==(c=u.triggers)?void 0:c.triggerSearch);const d=t;[i.KEY.UP,i.KEY.DOWN,i.KEY.RIGHT,i.KEY.LEFT,i.KEY.SPACE].includes(d.keyCode)||x(s)}),[t,S,e]),M=(0,a.useCallback)((t=>{const r=(0,s.getMainInput)(),o=window.uiSearch.getWrapEl(r),a=(0,l.trim)(r.value)?r.value:"";switch(t.keyCode){case i.KEY.ENTER:var n,c;T(r,o,a,null==(c=e)||null==(n=c.triggers)?void 0:n.triggerSearch),A(o),O();break;case i.KEY.ESC:r.blur(),A(o),O();break;case i.KEY.UP:w(),r.setSelectionRange(r.value.length,r.value.length);break;case i.KEY.DOWN:k();break;case i.KEY.RIGHT:P();break;case i.KEY.TAB:case i.KEY.SHIFT:case i.KEY.CTRL:case i.KEY.ALT:case i.KEY.META_LEFT:case i.KEY.META_RIGHT:break;default:R()}}),[]),N=(0,a.useCallback)((()=>{var t,r;const o=document.querySelector(c.SEARCH_INPUT_ELEMENT_ID),a=window.uiSearch.getWrapEl(o),s=(0,l.trim)(o.value)?(0,l.trim)(o.value):"";O(),T(o,a,s,null==(r=e)||null==(t=r.triggers)?void 0:t.triggerSearch),A(a)}),[t]),q=(0,a.useCallback)((e=>{var t,r;const o=e.target,a=window.uiSearch.getWrapEl(document.querySelector(c.SEARCH_INPUT_ELEMENT_ID));(null==(r=a)||null==(t=r.classList)?void 0:t.contains(c.SEARCH_SUGGESTER_OPEN_CLASS))&&(o.closest(c.SEARCH_INPUT_ELEMENT_ID)||o.closest(".SearchCatalogSuggester")||o.closest(".ui_search_reset_button")||(O(),A(a)))}),[]),F=(0,a.useCallback)((e=>{var t,r,o;const a=e,s=(null==(t=a)?void 0:t.ctrlKey)||(null==(r=a)?void 0:r.metaKey);if([i.KEY.ENTER,i.KEY.ESC].includes(a.keyCode)||s)return;switch(a.keyCode){case i.KEY.TAB:case i.KEY.SHIFT:case i.KEY.CTRL:case i.KEY.ALT:case i.KEY.META_LEFT:case i.KEY.META_RIGHT:return}const n=e.target,l=window.uiSearch.getWrapEl(n);!f||_.length||(null==(o=n)?void 0:o.value)?(D(),b(l)):C()}),[f,_]),j=(0,a.useCallback)((()=>{S&&y(S)}),[S]),G=(0,a.useCallback)((e=>{var t;O();const r=e.target,o=window.uiSearch.getWrapEl(r);!f||_.length||(null==(t=r)?void 0:t.value)?(D(),b(o)):C(),y(""),C()}),[e,f,_]),$=(0,a.useCallback)((()=>{O(),y("")}),[]);return(0,a.useEffect)((()=>{var t,r;e&&m(e);const o=(0,s.getMainInput)(),a=window.uiSearch.getWrapEl(o).querySelector(".ui_search_button_search"),n=[...document.querySelectorAll(".MenuList__item")];return(null==(t=o)?void 0:t.value)&&y(o.value),(0,i.addEvent)(o,"input change keyup valueChanged refresh",H),(0,i.addEvent)(o,"keydown",M),(0,i.addEvent)(a,"click",N),(0,i.addEvent)(window,"mousedown",q),(null==(r=n)?void 0:r.length)&&n.map((e=>(0,i.addEvent)(e,"click",$))),()=>{var e;(0,i.removeEvent)(o,"input change keyup valueChanged refresh",H),(0,i.removeEvent)(o,"keydown",M),(0,i.removeEvent)(a,"click",N),(0,i.removeEvent)(window,"mousedown",q),(null==(e=n)?void 0:e.length)&&n.map((e=>(0,i.removeEvent)(e,"click",$)))}}),[]),(0,a.useEffect)((()=>{var t;e&&m(e);const r=(0,s.getMainInput)(),o=window.uiSearch.getWrapEl(r).querySelector(".ui_search_reset_button");return(null==(t=r)?void 0:t.value)&&y(r.value),(0,i.addEvent)(r,"click keyup keydown",F),(0,i.addEvent)(o,"click",G),()=>{(0,i.removeEvent)(r,"click keyup keydown",F),(0,i.removeEvent)(o,"click",G)}}),[e,f]),(0,a.useEffect)((()=>{var e;const t=(0,s.getMainInput)(),o=window.uiSearch.getWrapEl(t);r&&(_.length||(null==(e=t)?void 0:e.value))&&b(o)}),[e,_,t,r]),(0,a.useEffect)((()=>{const e=(0,s.getMainInput)();e&&t!==e.value&&(e.value=t,e.setSelectionRange(e.value.length,e.value.length))}),[t]),(0,a.useEffect)((()=>{var e;const t=_.find((({id:e})=>e===p));(null==(e=t)?void 0:e.title)&&y(t.title)}),[p]),(0,a.useEffect)((()=>{j()}),[E]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.InputHelpSuggest,{helpSuggestStart:v||"",helpSuggestEnd:h||""})})}},174078:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(947139)},133815:(e,t,r)=>{r.d(t,{Suggester:()=>d});var o=r(785893),a=r(667294),s=r(254362),n=r(732292),l=r(596535),i=r(795558),c=r(331251),u=r(906019);const d=({options:e})=>{var t,r;const{catalog:d,searchQuery:g,isOpen:_,canFetch:p,allSuggests:S,lastQuery:v,shouldBeClosed:h,isWaitingForShow:E}=(0,l.useTypedSelector)((e=>{var t,r,o,a;return{catalog:null==(t=e)?void 0:t.catalog.catalog,searchQuery:null==(r=e)?void 0:r.searchInput.query,isOpen:null==(o=e)?void 0:o.suggester.isOpen,isWaitingForShow:null==(a=e)?void 0:a.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,canFetch:!e.suggester.selectedSuggest,lastQuery:e.catalog.lastQuery,shouldBeClosed:e.suggester.shouldBeClosed}})),{fetchCatalog:f,setSuggestions:m,setHelpSuggest:y,resetDeletedSuggest:C,hideSuggest:b}=(0,s.useAction)();return(0,a.useEffect)((()=>{d&&m(d)}),[d]),(0,a.useEffect)((()=>{p&&(_||E)&&g!==v&&(C(),f({q:g}))}),[e,g,_,E,v,p]),(0,a.useEffect)((()=>{y(g)}),[g,S]),(0,a.useEffect)((()=>{if(g){const e=(0,c.getMainInput)(),t=window.uiSearch.getWrapEl(e);(0,i.toggleClass)(t,u.SEARCH_EMPTY_FIELD_CLASS,!g)}}),[]),(0,a.useEffect)((()=>{if(h){var e;const t=(0,c.getMainInput)(),r=window.uiSearch.getWrapEl(t);(null==(e=t)?void 0:e.value)||b(r)}}),[e,h]),_&&(null==(t=d)?void 0:t.catalog)?(0,o.jsx)("div",{className:"SearchCatalogSuggester",children:(0,o.jsx)(n.Catalog,{catalog:null==(r=d)?void 0:r.catalog})}):null}},485211:(e,t,r)=>{r.d(t,{Suggester:()=>o.Suggester});var o=r(133815)},732292:(e,t,r)=>{r.d(t,{Catalog:()=>a.Catalog,HeaderCompact:()=>a.HeaderCompact,SearchInput:()=>s.SearchInput,Suggester:()=>o.Suggester,SuggesterBlock:()=>a.SuggesterBlock});var o=r(485211),a=r(491434),s=r(174078)},906019:(e,t,r)=>{r.d(t,{API_GET_VIDEO_SEARCH:()=>u,API_GET_VIDEO_SEARCH_WEB:()=>d,API_REMOVE_RESENT_QUERY:()=>c,DEBOUNCE_TIME:()=>i,ESearchCatalogBlockDataType:()=>_,ESearchCatalogBlockLayoutName:()=>g,IMMEDIATELY_TIMER:()=>l,LAT:()=>p,RUS:()=>S,SEARCH_EMPTY_FIELD_CLASS:()=>s,SEARCH_INPUT_ELEMENT_ID:()=>a,SEARCH_SUGGESTER_OPEN_CLASS:()=>n,SEARCH_WRAPPER_ELEMENT_ID:()=>o});const o="video_search_input_wrapper",a="#video_search_input",s="ui_search_field_empty",n="VideoSearchInput__withNewSuggester--open",l=0,i=200,c="search.removeVideoSearchRecentQuery",u="catalog.getVideoSearch",d="catalog.getVideoSearchWeb2";var g,_;!function(e){e.LIST="list",e.HEADER_COMPACT="header_compact"}(g||(g={})),function(e){e.CATALOG_SEARCH_SUGGESTION="catalog_search_suggestion",e.SEARCH_SUGGESTION="search_suggestions"}(_||(_={}));const p="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ ",S="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ "},301789:(e,t,r)=>{r.d(t,{SearchForm:()=>s});var o=r(785893),a=r(732292);const s=({options:e})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.SearchInput,{options:e}),(0,o.jsx)(a.Suggester,{options:e})]})},391345:(e,t,r)=>{r.d(t,{SearchForm:()=>o.SearchForm});var o=r(301789)},254362:(e,t,r)=>{r.d(t,{useAction:()=>n});var o=r(50533),a=r(14890),s=r(302644);const n=()=>{const e=(0,o.useDispatch)();return(0,a.bindActionCreators)(s.ActionCreators,e)}},858431:(e,t,r)=>{r.d(t,{useDebounce:()=>a});var o=r(667294);const a=(e="",t=0)=>{const[r,a]=(0,o.useState)(e);return(0,o.useEffect)((()=>{const r=setTimeout((()=>{a(e)}),t);return()=>{clearTimeout(r)}}),[e]),r}},596535:(e,t,r)=>{r.d(t,{useTypedSelector:()=>o});const o=r(50533).useSelector},596654:(e,t,r)=>{r.r(t),r.d(t,{deleteRecentBlock:()=>u,fetchCatalog:()=>c});var o=r(11010),a=r(434788),s=r(599809),n=r(861928),l=r(906019);let i=null;const c=e=>(0,o._)((function*(t){t({type:n.CatalogActions.START_LOADING,payload:e.q||""}),i&&i.abort(),i=new AbortController;const r=e.q?l.API_GET_VIDEO_SEARCH:l.API_GET_VIDEO_SEARCH_WEB;try{var o;const l=yield(0,s.api)(r,(0,a._)({},e,{need_blocks:1,show_suggests:1}),void 0,{signal:i.signal});(null==(o=l.suggestions)?void 0:o.length)&&l.suggestions[0]&&(window.cur.videoSearchTrackCodeForQID=l.suggestions[0].track_code||""),t({type:n.CatalogActions.FETCH,payload:l}),t({type:n.CatalogActions.STOP_LOADING})}catch(e){var c,u,d;if(e&&"network_error"===(null==(c=e)?void 0:c.type)&&"AbortError"===(null==(d=e)||null==(u=d.error)?void 0:u.name))return null;throw e}})),u=()=>e=>{e({type:n.CatalogActions.REMOVE_RECENT})}},302644:(e,t,r)=>{r.d(t,{ActionCreators:()=>i});var o=r(434788),a=r(217192),s=r(596654),n=r(129324),l=r(366853);const i=(0,o._)({},a,s,n,l)},217192:(e,t,r)=>{r.r(t),r.d(t,{initOptions:()=>a});var o=r(861928);const a=e=>t=>{t({type:o.InitOptionsActionType.INIT,payload:e})}},129324:(e,t,r)=>{r.r(t),r.d(t,{search:()=>l,setSearchQuery:()=>i});var o=r(326646),a=r(82161),s=r(795558),n=r(906019);const l=(e,t,r="",l,i)=>c=>{if(l){var u;const d=(0,a.trim)(r)?(0,a.trim)(r):"";(0,s.toggleClass)(t,n.SEARCH_EMPTY_FIELD_CLASS,!d),null==(u=l)||u.call(e,d,void 0,i),c({type:o.SearchInputActions.SEARCH,payload:d})}},i=e=>t=>{t({type:o.SearchInputActions.SET_QUERY,payload:e})}},366853:(e,t,r)=>{r.r(t),r.d(t,{chooseAbove:()=>g,chooseBelow:()=>_,deleteRecent:()=>d,hideSuggest:()=>i,resetClosedSuggesterStatus:()=>c,resetDeletedSuggest:()=>S,resetHelpSuggest:()=>E,resetSelectedSuggest:()=>p,resetTempSuggesterData:()=>f,setHelpSuggest:()=>v,setSuggestions:()=>u,showSuggest:()=>l,startShowingSuggest:()=>n,triggerHelpSuggest:()=>h});var o=r(861928),a=r(599809),s=r(906019);const n=()=>e=>{e({type:o.SuggesterActions.START_SHOW})},l=e=>t=>{var r;(null==(r=e)?void 0:r.classList.contains(s.SEARCH_SUGGESTER_OPEN_CLASS))||(e.classList.add(s.SEARCH_SUGGESTER_OPEN_CLASS),t({type:o.SuggesterActions.SHOW,payload:e}))},i=e=>t=>{var r,a;null==(a=e)||null==(r=a.classList)||r.remove(s.SEARCH_SUGGESTER_OPEN_CLASS),t({type:o.SuggesterActions.HIDE})},c=()=>e=>{e({type:o.SuggesterActions.RESET_CLOSED_STATUS})},u=e=>t=>{var r;t({type:o.SuggesterActions.SET_SUGGESTS,payload:{suggests:(null==(r=e)?void 0:r.suggestions)||[]}})},d=e=>t=>{e&&((0,a.api)(s.API_REMOVE_RESENT_QUERY,{query_id:e}),t({type:o.SuggesterActions.DELETE_RECENT,payload:e}))},g=()=>e=>{e({type:o.SuggesterActions.CHOOSE_ABOVE})},_=()=>e=>{e({type:o.SuggesterActions.CHOOSE_BELOW})},p=()=>e=>{e({type:o.SuggesterActions.RESET_SELECTED})},S=()=>e=>{e({type:o.SuggesterActions.RESET_DELETED})},v=(e="")=>t=>{t({type:o.SuggesterActions.SET_HELP_SUGGEST,payload:e})},h=()=>e=>{e({type:o.SuggesterActions.TRIGGER_HELP_SUGGEST})},E=()=>e=>{e({type:o.SuggesterActions.RESET_HELP_SUGGEST})},f=()=>e=>{e({type:o.SuggesterActions.RESET_TEMP_SUGGESTER_DATA})}},281858:(e,t,r)=>{r.d(t,{suggesterStore:()=>l});var o=r(14890),a=r(753894),s=r(213435);const n=r(929804).composeWithDevTools((0,o.applyMiddleware)(a.default)),l=(0,o.createStore)(s.rootReducer,n)},619780:(e,t,r)=>{r.d(t,{catalogReducer:()=>n});var o=r(434788),a=r(861928);const s={catalog:{},lastQuery:null,loading:!1},n=(e=s,t)=>{switch(t.type){case a.CatalogActions.START_LOADING:return(0,o._)({},e,{loading:!0,lastQuery:t.payload});case a.CatalogActions.STOP_LOADING:return(0,o._)({},e,{loading:!1});case a.CatalogActions.FETCH:return(0,o._)({},e,{catalog:t.payload});case a.CatalogActions.REMOVE_RECENT:return(0,o._)({},e,{catalog:{}});default:return e}}},213435:(e,t,r)=>{r.d(t,{rootReducer:()=>i});var o=r(14890),a=r(350158),s=r(619780),n=r(531855),l=r(397195);const i=(0,o.combineReducers)({initOptions:a.initOptionsReducer,catalog:s.catalogReducer,searchInput:n.searchInputReducer,suggester:l.suggesterReducer})},350158:(e,t,r)=>{r.d(t,{initOptionsReducer:()=>n});var o=r(434788),a=r(861928);const s={useInstantSearch:!0,type:"video"},n=(e=s,t)=>t.type===a.InitOptionsActionType.INIT?(0,o._)({},e,t.payload):e},531855:(e,t,r)=>{r.d(t,{searchInputReducer:()=>l});var o=r(434788),a=r(331251),s=r(861928);const n={query:(0,a.getQueryFromNav)(),lastSearchRequest:""},l=(e=n,t)=>{switch(t.type){case s.SearchInputActions.SET_QUERY:return(0,o._)({},e,{query:t.payload});case s.SearchInputActions.SEARCH:return(0,o._)({},e,{lastSearchRequest:t.payload});default:return e}}},397195:(e,t,r)=>{r.d(t,{suggesterReducer:()=>l});var o=r(434788),a=r(861928),s=r(906019);const n={isOpen:!1,isWaitingForShow:!1,shouldBeClosed:!1,suggestsOrderIds:[],allSuggests:[],recentSuggests:[],otherSuggests:[],deletedSuggests:[],selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null,helpTrigger:!1},l=(e=n,t)=>{switch(t.type){case a.SuggesterActions.START_SHOW:var r;return(0,o._)({},e,{isWaitingForShow:!(null==(r=e)?void 0:r.isOpen)});case a.SuggesterActions.SHOW:return(0,o._)({},e,{isOpen:!0,isWaitingForShow:!1});case a.SuggesterActions.HIDE:return(0,o._)({},e,{isOpen:!1});case a.SuggesterActions.RESET_CLOSED_STATUS:return(0,o._)({},e,{shouldBeClosed:!1});case a.SuggesterActions.SET_SUGGESTS:{const r=t.payload.suggests||[],a=r.filter((({id:t="",type:r=""})=>"recent"===r&&!e.deletedSuggests.includes(t))),s=r.filter((e=>{var t;return"recent"!==(null==(t=e)?void 0:t.type)})),n=[...a,...s].map((e=>{var t;return(null==(t=e)?void 0:t.id)||""})),l=[...a,...s];return(0,o._)({},e,{recentSuggests:a,otherSuggests:s,suggestsOrderIds:n,allSuggests:l,shouldBeClosed:!l.length})}case a.SuggesterActions.DELETE_RECENT:{const r=[...e.deletedSuggests,t.payload];return(0,o._)({},e,{deletedSuggests:r,recentSuggests:e.recentSuggests.filter((({id:e=""})=>!r.includes(e))),suggestsOrderIds:e.suggestsOrderIds.filter(((e="")=>!r.includes(e)))})}case a.SuggesterActions.CHOOSE_ABOVE:{if(!e.selectedSuggest)return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[-1],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});const t=e.suggestsOrderIds.findIndex((t=>t===e.selectedSuggest)),r=(t-1==-1?e.suggestsOrderIds.length-1:t-1)%e.suggestsOrderIds.length;return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[r],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case a.SuggesterActions.CHOOSE_BELOW:{if(!e.selectedSuggest)return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[0],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});const t=(e.suggestsOrderIds.findIndex((t=>t===e.selectedSuggest))+1)%e.suggestsOrderIds.length;return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[t],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case a.SuggesterActions.RESET_SELECTED:return(0,o._)({},e,{selectedSuggest:null});case a.SuggesterActions.RESET_DELETED:return(0,o._)({},e,{deletedSuggests:[]});case a.SuggesterActions.SET_HELP_SUGGEST:{if(e.selectedSuggest)return(0,o._)({},e);const r=t.payload.length-1,a=e.allSuggests.length&&e.allSuggests[0].title||"";if(t.payload[r]===a[r]){if(s.RUS.includes(t.payload[r])&&s.RUS.includes(a[r]))return(0,o._)({},e,{helpSuggest:a,helpSuggestStart:t.payload,helpSuggestEnd:a.slice(t.payload.length,a.length)});if(s.LAT.includes(t.payload[r])&&s.LAT.includes(a[r]))return(0,o._)({},e,{helpSuggest:a,helpSuggestStart:t.payload,helpSuggestEnd:a.slice(t.payload.length,a.length)})}return(0,o._)({},e,{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case a.SuggesterActions.TRIGGER_HELP_SUGGEST:return(0,o._)({},e,{helpTrigger:!e.helpTrigger});case a.SuggesterActions.RESET_HELP_SUGGEST:return(0,o._)({},e,{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case a.SuggesterActions.RESET_TEMP_SUGGESTER_DATA:return(0,o._)({},e,{selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});default:return e}}},861928:(e,t,r)=>{r.d(t,{CatalogActions:()=>o.CatalogActions,InitOptionsActionType:()=>o.InitOptionsActionType,SearchInputActions:()=>o.SearchInputActions,SuggesterActions:()=>o.SuggesterActions});var o=r(995090)},575838:(e,t,r)=>{var o;r.d(t,{CatalogActions:()=>o}),function(e){e.FETCH="FETCH",e.START_LOADING="START_LOADING",e.STOP_LOADING="STOP_LOADING",e.REMOVE_RECENT="REMOVE_RECENT"}(o||(o={}))},995090:(e,t,r)=>{r.d(t,{CatalogActions:()=>a.CatalogActions,InitOptionsActionType:()=>o.InitOptionsActionType,SearchInputActions:()=>s.SearchInputActions,SuggesterActions:()=>n.SuggesterActions});var o=r(572797),a=r(575838),s=r(326646),n=r(686501)},572797:(e,t,r)=>{var o;r.d(t,{InitOptionsActionType:()=>o}),function(e){e.INIT="INIT"}(o||(o={}))},326646:(e,t,r)=>{var o;r.d(t,{SearchInputActions:()=>o}),function(e){e.SEARCH="SEARCH",e.SET_QUERY="SET_QUERY"}(o||(o={}))},686501:(e,t,r)=>{var o;r.d(t,{SuggesterActions:()=>o}),function(e){e.SET_SUGGESTS="SET_SUGGESTS",e.CHOOSE_BELOW="CHOOSE_BELOW",e.CHOOSE_ABOVE="CHOOSE_ABOVE",e.DELETE_RECENT="DELETE_RECENT",e.SET_HELP_SUGGEST="SET_HELP_SUGGEST",e.TRIGGER_HELP_SUGGEST="TRIGGER_HELP_SUGGEST",e.RESET_SELECTED="RESET_SELECTED",e.RESET_DELETED="RESET_DELETED",e.RESET_HELP_SUGGEST="RESET_HELP_SUGGEST",e.RESET_TEMP_SUGGESTER_DATA="RESET_TEMP_SUGGESTER_DATA",e.START_SHOW="START_SHOW",e.SHOW="SHOW",e.HIDE="HIDE",e.RESET_CLOSED_STATUS="RESET_CLOSED_STATUS"}(o||(o={}))},331251:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{getMainInput:()=>getMainInput,getQueryFromNav:()=>getQueryFromNav});var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11010),_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(795558),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(643897),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(906019);const getMainInput=()=>{var e;const t=document.getElementById(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_WRAPPER_ELEMENT_ID);if(!t)return null;const r=null==(e=t)?void 0:e.querySelector(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_INPUT_ELEMENT_ID);return r||null},getInitOptionsFromDom=(0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__._)((function*(){return new Promise((resolve=>{setTimeout((()=>{const mainInput=getMainInput(),wrapEl=window.uiSearch.getWrapEl(mainInput),delayedInitOptions=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options");let result=null;if(delayedInitOptions){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options",null);const evalScript=`(function() { return ${delayedInitOptions} })()`;try{result=eval(evalScript)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__.logEvalError)(e,evalScript),resolve(result)}}resolve(result)}),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.IMMEDIATELY_TIMER)}))})),getQueryFromNav=()=>{var e,t,r;return(null==(t=window.nav)||null==(e=t.objLoc)?void 0:e.q)||(null==(r=window.nav)?void 0:r.objLoc["c[q]"])||""}},192220:(e,t,r)=>{r.d(t,{SearchTopRoot:()=>l});var o=r(785893),a=r(338661),s=r(86894),n=r(869048);r(803205),r(837960);const l=()=>(0,o.jsx)(n.AppRootProvider,{sizeX:s.SizeType.REGULAR,sizeY:s.SizeType.COMPACT,viewWidth:s.ViewWidth.DESKTOP,children:(0,o.jsx)(a.App,{})})},896621:(e,t,r)=>{r.d(t,{getSearchTop:()=>s});r(434788);var o=r(599809),a=r(148652);function s(e,t){return(0,o.api)(a.CATALOG_API_METHODS.GET_SEARCH_TOP,e,void 0,t)}},109291:(e,t,r)=>{r.d(t,{App:()=>S});var o=r(785893),a=r(667294),s=r(504190),n=r(32655),l=r(209660),i=r(108824),c=r(953908),u=r(501461),d=r(836245),g=r(538310),_=r(148652),p=(r(180833),r(144311));const S=()=>{const e=(0,s.useStore)(i.$displayResults),t=(0,s.useStore)(i.$currentQuery),r=(0,a.useRef)(null),S=(0,a.useRef)(),v=(0,a.useCallback)((()=>{var t;e||(null==(t=r.current)||t.focus())}),[r,e]),h=(0,a.useCallback)((e=>{(0,i.fireKeyDownEvent)({event:e,blur:()=>{var e;null==(e=r.current)||e.blur()},cancelEvent:()=>{(0,c.cancelEvent)(e.nativeEvent)},clearTimeout:()=>{clearTimeout(S.current)}})}),[r,S]),E=(0,a.useCallback)((e=>{const t=e.currentTarget.value||"";(0,i.fireSetCurrentQuery)(t),clearTimeout(S.current),S.current=setTimeout((()=>{(0,i.fireSearch)({q:t})}),250)}),[S]);return(0,a.useEffect)((()=>{const e=e=>{const t=e.target;t.closest('[data-search-top-target="true"]')||t.closest(`#${_.SEARCH_INPUT_ID}`)||t.closest(".vkuiSearch__icon")||!(0,u.isMainClick)(e)||(0,i.fireSetResultsDisplay)(!1)};return(0,d.topHeaderListener)(),document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,a.useEffect)((()=>()=>clearTimeout(S.current)),[]),(0,a.useEffect)((()=>{const e=(0,g.subscribeModuleEvaluated)((()=>{(0,i.fireSetCatalog)(null),(0,i.fireAbortRequest)(),(0,i.fireSetCurrentQuery)(""),(0,i.fireSetResultsDisplay)(!1)}));return()=>{e()}}),[]),(0,o.jsxs)("div",{className:p.default.app,id:"ts_wrap",children:[(0,o.jsx)("div",{"data-search-top-target":"true",children:(0,o.jsx)(n.SearchInput,{onClick:v,onFocus:()=>{e||(0,i.fireSetResultsDisplay)(!0)},onInput:E,onKeyDown:h,inputRef:r,searchQuery:t,className:p.default.search})}),e&&(0,o.jsx)(l.SearchResults,{})]})}},338661:(e,t,r)=>{r.d(t,{App:()=>o.App});var o=r(109291)},450589:(e,t,r)=>{r.d(t,{Placeholder:()=>n});var o=r(785893),a=r(635928),s=r(29271);const n=()=>(0,o.jsx)(a.Placeholder,{children:s.getLang("search_search_top_has_no_results")})},373838:(e,t,r)=>{r.d(t,{Placeholder:()=>o.Placeholder});var o=r(450589)},797620:(e,t,r)=>{r.d(t,{SearchInput:()=>c});var o=r(434788),a=r(820224),s=r(785893),n=r(667294),l=r(33045),i=r(29271);const c=e=>{var{onClick:t,onFocus:r,onBlur:c,onInput:u,onKeyDown:d,inputRef:g,searchQuery:_="",placeholder:p}=e,S=(0,a._)(e,["onClick","onFocus","onBlur","onInput","onKeyDown","inputRef","searchQuery","placeholder"]);const[v,h]=(0,n.useState)("");return(0,n.useEffect)((()=>{h(_)}),[_]),(0,s.jsx)(l.Search,(0,o._)({placeholder:p||i.getLang("global_search"),onClick:e=>{var r;null==(r=t)||r(e)},onFocus:e=>{var t;null==(t=r)||t(e)},onBlur:e=>{var t;null==(t=c)||t(e)},onInput:e=>{var t;const r=e.currentTarget.value||"";h(r),null==(t=u)||t(e)},onKeyDown:e=>{var t;null==(t=d)||t(e)},getRef:g,value:v},S))}},32655:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(797620)},486072:(e,t,r)=>{r.d(t,{SearchResults:()=>E});var o=r(785893),a=r(667294),s=r(504190),n=r(86894),l=r(539791),i=r(848504),c=r(108824),u=r(373838),d=r(193452),g=r(538310),_=r(508249),p=r(836245),S=r(95432),v=r(287063),h=r(650721);const E=()=>{var e,t;const r=(0,s.useStore)(c.$catalog),E=(0,s.useStore)(c.$extendedData),f=(0,s.useStore)(c.$pending),m=(0,s.useStore)(c.$currentQuery),y=(0,s.useStore)(c.$fetchError),C={pageId:"top_search",cacheId:window.location.href,catalogType:l.CatalogType.SEARCH},b={navGo:g.navGo,userId:null==(t=window)||null==(e=t.vk)?void 0:e.id,pageVerifiedTip:_.pageVerifiedTip,openChat:(e,t)=>{var r,o,a;null==(a=window)||null==(o=a.reforgedME)||null==(r=o.selectPeer)||r.call(o,e,t)}};return(0,a.useEffect)((()=>{r||f||(0,c.fireSearch)({q:""})}),[]),y?(0,o.jsx)("div",{className:v.default.root,children:(0,o.jsx)(u.Placeholder,{})}):(0,o.jsx)("div",{className:v.default.root,"data-search-top-target":"true",children:(0,o.jsx)(n.CustomScrollView,{autoHideScrollbar:!0,className:v.default.scroll,children:f?(0,o.jsx)(i.Spinner,{}):(0,o.jsx)(l.CatalogSearchProvider,{currentQuery:m,search:e=>(0,c.fireSearch)(e),displayTopSearch:c.fireSetResultsDisplay,setCurrentQuery:(e="")=>(0,c.fireSetCurrentQuery)(e),showVideo:p.showVideo,showWiki:S.showWiki,onOpenUrlClick:e=>{"/search?c[section]=auto&c[q]="===e&&((0,h.searchProfilingService)().setProfilingMarkStart(h.PROFILING_COMPONENTS.SEARCH_TOP_TO_SEARCH_ALL_TRANSITION),(0,h.searchProfilingService)().setProfilingMarkStart(h.PROFILING_COMPONENTS.SEARCH_TOP_TO_SEARCH_ALL_OLD_TRANSITION))},children:(0,o.jsx)(l.Catalog,{catalog:r,extendedData:E,nextFromSections:[],onCatalogUpdate:e=>{(0,c.fireSetCatalogCatalog)(e.updatedCatalog)},collectClick:d.searchStatsCollector.logEvent,collectView:d.searchViewStatCollector.logEvent,catalogVars:C,platformVars:b,blockLayoutResolver:l.modalLayoutResolver})})})})}},209660:(e,t,r)=>{r.d(t,{SearchResults:()=>o.SearchResults});var o=r(486072)},212809:(e,t,r)=>{r.d(t,{Spinner:()=>n});var o=r(785893),a=r(86894),s=r(642419);const n=()=>(0,o.jsx)("div",{className:s.default.spinner,children:(0,o.jsx)(a.Spinner,{size:"small"})})},848504:(e,t,r)=>{r.d(t,{Spinner:()=>o.Spinner});var o=r(212809)},148652:(e,t,r)=>{r.d(t,{CATALOG_API_METHODS:()=>o,SEARCH_INPUT_BLUR_TIMEOUT:()=>n,SEARCH_INPUT_ID:()=>a,SEARCH_TOP_MODAL_NON_CLOSING_ATTR:()=>s});const o={GET_SEARCH_TOP:"catalog.getSearchTop",GET_SECTION:"catalog.getSection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",ADD_RECENT:"search.addRecents",CLEAR_RECENT:"search.clearRecents"},a="SearchTopInput",s="data-search-top-target",n=150},447936:(e,t,r)=>{r.d(t,{$currentQuery:()=>g,HandleKeyDownEffectFx:()=>v,appDomain:()=>d,fireClearApp:()=>S,fireKeyDownEvent:()=>p,fireSetCurrentQuery:()=>_});var o=r(798116),a=r(953908),s=r(631859),n=r(839470),l=r(108824),i=r(148652),c=r(538310),u=r(650721);const d=(0,o.createDomain)("SEARCH_TOP/APP"),g=d.createStore("",{name:"currentQuery"}),_=d.createEvent("fire/SetCurrentQuery"),p=d.createEvent("fire/KeyDownEvent"),S=d.createEvent("fire/ClearApp"),v=d.createEffect({name:"HandleKeyDownEffectFx",handler:({event:e,selectedItemIndex:t,cancelEvent:r,currentQuery:o,blur:d,displayResults:g,clearTimeout:p})=>{switch(e.keyCode){case a.KEY.DOWN:r(),(0,s.fireDownSelectionIndex)();break;case a.KEY.UP:r(),(0,s.fireUpSelectionIndex)();break;case a.KEY.ENTER:var S;r(),p();let g="/search?c[section]=auto&c[q]=";var v;return(0,n.partConfigEnabled)("search_search_global_refactor_enabled")&&(g="/search?search_from=top_search&c[q]="),e.ctrlKey||e.metaKey?(null==(v=t)?void 0:v.callback)?void t.callback(void 0,!0):void window.open(`${g}${encodeURIComponent(o)}`):(null==(S=t)?void 0:S.callback)?(t.callback(),(0,l.fireSetCatalog)(null),void(0,l.fireAbortRequest)()):(_(""),(0,l.fireSetResultsDisplay)(!1),(0,l.fireSetCatalog)(null),(0,l.fireAbortRequest)(),setTimeout((()=>{d()}),i.SEARCH_INPUT_BLUR_TIMEOUT),(0,u.searchProfilingService)().setProfilingMarkStart(u.PROFILING_COMPONENTS.SEARCH_TOP_TO_SEARCH_ALL_TRANSITION),(0,u.searchProfilingService)().setProfilingMarkStart(u.PROFILING_COMPONENTS.SEARCH_TOP_TO_SEARCH_ALL_OLD_TRANSITION),void(0,c.navGo)(g+encodeURIComponent(o),null));case a.KEY.TAB:return p(),_(""),void(0,l.fireSetResultsDisplay)(!1)}g||(0,l.fireSetResultsDisplay)(!0)}})},896081:(e,t,r)=>{var o=r(434788),a=r(798116),s=r(108824),n=r(631859);s.appDomain.onCreateStore((e=>{e.reset(s.fireClearApp)})),(0,a.sample)({clock:s.fireSetCurrentQuery,target:s.$currentQuery}),(0,a.sample)({clock:s.fireSendRequest,target:[n.fireResetSelectionIndex,n.fireResetItemsIndex]}),(0,a.sample)({clock:s.fireSetResultsDisplay,target:[n.fireResetSelectionIndex]}),(0,a.sample)({clock:s.fireSendRequest,fn:()=>null,target:s.fireSetCatalog}),(0,a.sample)({clock:s.SearchTopEffectFx.doneData,fn:({request:e})=>e,target:s.fireSetCatalog}),(0,a.sample)({clock:s.fireSetCatalog,fn:e=>{var t;return(null==(t=e)?void 0:t.catalog)||null},target:s.$catalog}),(0,a.sample)({clock:s.fireSetCatalog,fn:e=>{if(!e)return null;const t=(0,o._)({},e);return delete t.catalog,t||null},target:s.$extendedData}),(0,a.sample)({clock:s.fireKeyDownEvent,source:{selectedItemIndex:n.$selectedItemIndex,currentQuery:s.$currentQuery,displayResults:s.$displayResults},fn:(e,t)=>(0,o._)({},t,e),target:s.HandleKeyDownEffectFx})},735753:(e,t,r)=>{r.d(t,{$catalog:()=>n,$extendedData:()=>l,fireSetCatalog:()=>a,fireSetCatalogCatalog:()=>s});const o=r(447936).appDomain.createDomain("SEARCH_TOP/CATALOG"),a=o.createEvent("fire/SetCatalog"),s=o.createEvent("fire/SetCatalog"),n=o.createStore(null,{name:"catalog"}),l=o.createStore(null,{name:"extendedData"})},426675:(e,t,r)=>{var o=r(798116),a=r(108824);(0,o.sample)({clock:a.fireSetCatalogCatalog,target:a.$catalog})},108824:(e,t,r)=>{r.d(t,{$catalog:()=>n.$catalog,$currentQuery:()=>o.$currentQuery,$displayResults:()=>a.$displayResults,$extendedData:()=>n.$extendedData,$fetchError:()=>s.$fetchError,$pending:()=>s.$pending,$requestsQueue:()=>s.$requestsQueue,AbortEffectFx:()=>s.AbortEffectFx,CancelStackFilterFx:()=>a.CancelStackFilterFx,CancelStackPushFx:()=>a.CancelStackPushFx,HandleKeyDownEffectFx:()=>o.HandleKeyDownEffectFx,SearchTopEffectFx:()=>s.SearchTopEffectFx,appDomain:()=>o.appDomain,fireAbortRequest:()=>s.fireAbortRequest,fireCancelStackPush:()=>a.fireCancelStackPush,fireClearApp:()=>o.fireClearApp,fireCreateRequest:()=>s.fireCreateRequest,fireKeyDownEvent:()=>o.fireKeyDownEvent,fireRemoveRequestFromQueue:()=>s.fireRemoveRequestFromQueue,fireSearch:()=>s.fireSearch,fireSendRequest:()=>s.fireSendRequest,fireSetCatalog:()=>n.fireSetCatalog,fireSetCatalogCatalog:()=>n.fireSetCatalogCatalog,fireSetCurrentQuery:()=>o.fireSetCurrentQuery,fireSetRequestToQueue:()=>s.fireSetRequestToQueue,fireSetResultsDisplay:()=>a.fireSetResultsDisplay,fireSetUpRequest:()=>s.fireSetUpRequest});var o=r(447936),a=r(340083),s=r(264299),n=r(735753)},803205:(e,t,r)=>{r(896081),r(666138),r(353199),r(426675)},264299:(e,t,r)=>{r.d(t,{$fetchError:()=>v,$pending:()=>p,$requestsQueue:()=>S,AbortEffectFx:()=>h,SearchTopEffectFx:()=>E,fireAbortRequest:()=>_,fireCreateRequest:()=>i,fireRemoveRequestFromQueue:()=>d,fireSearch:()=>l,fireSendRequest:()=>g,fireSetRequestToQueue:()=>u,fireSetUpRequest:()=>c});var o=r(11010),a=r(447936),s=r(896621);const n=a.appDomain.createDomain("SEARCH_TOP/SEARCH"),l=n.createEvent("fire/Search"),i=n.createEvent("fire/CreateRequest"),c=n.createEvent("fire/SetUpRequest"),u=n.createEvent("fire/SetRequestToQueue"),d=n.createEvent("fire/RemoveRequestToQueue"),g=n.createEvent("fire/SendRequest"),_=n.createEvent("fire/AbortRequest"),p=n.createStore(!1,{name:"pending"}),S=n.createStore([],{name:"requestsQueue"}),v=n.createStore(!1,{name:"fetchError"}),h=n.createEffect({name:"get/AbortEffectFx",handler:(0,o._)((function*(e){e.forEach((e=>{var t,r,o;null==(o=e.fetchOptions)||null==(r=o.controller)||null==(t=r.abort)||t.call(r)}))}))}),E=n.createEffect({name:"get/SearchTopEffectFx",handler:(0,o._)((function*(e){var t,r;const o=null==(r=e.fetchOptions)||null==(t=r.controller)?void 0:t.signal;return{request:yield(0,s.getSearchTop)(e.data,{signal:o}),requestData:e}}))})},353199:(e,t,r)=>{var o=r(434788),a=r(798116),s=r(108824),n=r(836245);(0,a.sample)({clock:s.fireSearch,fn:e=>({id:(0,n.createCacheId)(e),data:e}),target:s.fireCreateRequest}),(0,a.sample)({clock:s.fireAbortRequest,source:s.$requestsQueue,target:s.AbortEffectFx}),(0,a.sample)({clock:s.fireCreateRequest,source:s.$requestsQueue,fn:(e,t)=>{e.forEach((e=>{var t,r,o;null==(o=e.fetchOptions)||null==(r=o.controller)||null==(t=r.abort)||t.call(r)}));const r=new AbortController;return(0,o._)({},t,{fetchOptions:{controller:r}})},target:s.fireSetUpRequest}),(0,a.sample)({clock:s.fireSetUpRequest,target:[s.fireSendRequest,s.fireSetRequestToQueue]}),(0,a.sample)({clock:s.fireSetRequestToQueue,source:s.$requestsQueue,fn:(e,t)=>[...e,t],target:s.$requestsQueue}),(0,a.sample)({clock:s.fireSendRequest,target:s.SearchTopEffectFx}),(0,a.sample)({clock:s.SearchTopEffectFx.pending,target:s.$pending}),(0,a.sample)({clock:s.SearchTopEffectFx.finally,fn:({params:e})=>e,target:s.fireRemoveRequestFromQueue}),(0,a.sample)({clock:s.SearchTopEffectFx.pending,fn:()=>!1,target:s.$fetchError}),(0,a.sample)({clock:s.SearchTopEffectFx.failData,source:s.$pending,filter:e=>!e,fn:()=>!0,target:s.$fetchError})},340083:(e,t,r)=>{r.d(t,{$displayResults:()=>l,CancelStackFilterFx:()=>u,CancelStackPushFx:()=>d,fireCancelStackPush:()=>c,fireSetResultsDisplay:()=>i});var o=r(447936),a=r(196026),s=r(148652);const n=o.appDomain.createDomain("SEARCH_TOP/MODAL"),l=n.createStore(!1,{name:"displayResults"}),i=n.createEvent("fire/SetResultsDisplay"),c=n.createEvent("fire/CancelStackPush"),u=n.createEffect({name:"remove/CancelStackFilter",handler:()=>{(0,a.cancelStackFilter)("top_search",!0)}}),d=n.createEffect({name:"remove/CancelStackFilter",handler:()=>{(0,a.cancelStackPush)("top_search",((e=!0)=>{if(e){var t;const e=document.querySelector(`#${s.SEARCH_INPUT_ID}`);i(!1),null==(t=e)||t.blur()}else c()}),!0)}})},666138:(e,t,r)=>{var o=r(798116),a=r(108824);(0,o.sample)({clock:a.fireSetResultsDisplay,source:a.$displayResults,filter:(e,t)=>e!==t,fn:(e,t)=>t,target:a.$displayResults}),(0,o.sample)({clock:a.$displayResults,filter:e=>e,target:a.CancelStackPushFx}),(0,o.sample)({clock:a.$displayResults,filter:e=>!e,target:a.CancelStackFilterFx}),(0,o.sample)({clock:a.fireCancelStackPush,target:a.CancelStackPushFx})},836245:(e,t,r)=>{r.d(t,{createCacheId:()=>d,showVideo:()=>g,topHeaderListener:()=>u});var o=r(434788),a=r(953908),s=r(795558),n=r(611290),l=r(148652),i=r(539791),c=r(613202);const u=()=>{(0,a.addEvent)(document,"mousedown",(e=>{var t,r;const o=e.target,i=!((0,a.checkKeyboardEvent)(e)||(0,s.domClosest)("top_audio_layer_place",o)||(0,s.domClosest)("_ap_layer__close",o)||(0,s.domClosest)("layer_wrap",o)||(0,s.domClosest)("PortalNavigation",o)||(0,s.domClosest)("PortalNavigationDropdown",o)||(0,s.domClosest)("ObsceneTextAlertBox",o)||(0,s.domClosest)("top_notify_layer_details",o)||(null==(t=o)?void 0:t.closest('[data-search-top-target="true"]'))),c=!(null==(r=o)?void 0:r.closest(`#${l.SEARCH_INPUT_ID}`));i&&(0,n.topHeaderClose)((()=>!1),c)}))},d=e=>((e,t="",r)=>{const o=Object.entries(e).filter((([,e])=>!!e||0===e)).map((([e,t])=>r?`${r}[${encodeURIComponent(e)}]=${encodeURIComponent(t)}`:`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return o?`${t}${o}`:""})(Object.keys(e).sort(((e,t)=>e.localeCompare(t))).reduce(((t,r)=>(0,o._)({},t,{[r]:e[r]})),{})),g=({event:e,id:t,video:r})=>{const o=()=>{if(window.Video.checkClickEvent(e))return!0;if(e.preventDefault(),window.cur.cancelClick)return void(window.cur.cancelClick=!1);if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(e.target,t);let o;!o&&window.Video&&window.Video.isGlobalSearchMode()&&window.Video.shouldShowSearchInPlaylistWithSearch()&&(o=window.Video.VIDEO_SEARCH_TOP_TYPE),window.Video.show(e,t,{autoplay:1,queue:0,playlistId:o,playFrom:r.viewed_duration?(0,i.getPlayFromByDuration)(r.viewed_duration):"",addParams:{track_code:r.track_code}},e.target)};window.Video?o():(0,c.getVideoModule)().then(o)}},824346:(e,t,r)=>{r.d(t,{SearchVideoCatalog:()=>E});var o=r(434788),a=r(785893),s=r(667294),n=r(12052),l=r(688007),i=r(12531),c=r(869048),u=r(635928),d=r(832550),g=r(845847),_=r(539791),p=r(29271),S=r(688999),v=r(106898),h=r(69438);const E=()=>{var e,t,r,E,f,m;const[y,C]=(0,s.useState)(),[b,A]=(0,s.useReducer)((e=>e+1),0),[w,k]=(0,s.useState)(!1),[T,I]=(0,i.useSearchParams)(),R=null==(e=y)?void 0:e.catalog,P=null==(r=R)||null==(t=r.sections)?void 0:t.find((e=>{var t,r;return(null==(t=e)?void 0:t.id)===(null==(r=R)?void 0:r.default_section)})),O=null==(f=R)?void 0:f.sections[(null==(E=R)?void 0:E.sections.length)-1],D=()=>{A()};(0,s.useEffect)((()=>{if(!window.cur.is_section)return;const e=new AbortController;if("upload"!==T.get("section"))return T.has("q")||"upload"===T.get("section")?(n.Video.toggleSearchProgress(!0),(0,l.getVideoSearchBySearchParams)(T,e).then((e=>{C(e),k(!1)})).catch((({type:e,error:t})=>{if("network_error"===e&&"AbortError"===t.name)return null;throw k(!0),t})).finally((()=>{n.Video.setVisibilityShowcaseContent(!1),n.Video.toggleSearchProgress(!1)})),()=>{e.abort()}):(C(void 0),void n.Video.setVisibilityShowcaseContent(!0));C(void 0)}),[T,b]);const L=e=>{if(O&&P&&e&&e){const t=e.data;C((e=>{var r;if((null==(r=e)?void 0:r.catalog)&&t.section){let r;var a,s,n,l,i,c,u,d;return r=P.id===t.section.id?(0,g.getMutatedCatalogSections)(e.catalog.sections,P,t.section):[...e.catalog.sections,t.section],(0,o._)({},e,{catalog:(0,o._)({},e.catalog,{sections:r}),videos:(0,g.filterArrayOfUniqueByKey)([...null!=(a=e.videos)?a:[],...null!=(s=t.videos)?s:[]],"id"),groups:(0,g.filterArrayOfUniqueByKey)([...null!=(n=e.groups)?n:[],...null!=(l=t.groups)?l:[]],"id"),profiles:(0,g.filterArrayOfUniqueByKey)([...null!=(i=e.profiles)?i:[],...null!=(c=t.profiles)?c:[]],"id"),albums:(0,g.filterArrayOfUniqueByKey)([...null!=(u=e.albums)?u:[],...null!=(d=t.albums)?d:[]],"id")})}return e}))}};if(null==(m=R)?void 0:m.sections){var x;const e=y?(0,_.extractExtendedData)(y):{},t=null==(x=R)?void 0:x.sections,r=e=>{const t=new URLSearchParams(window.location.search);t.set("q",e.q),t.set("suggest_trackcode",e.additionalParams.suggestTrackCode),t.set("no_spellcheck",String(e.additionalParams.noSpellcheck));const r=(0,v.encodeUrlSearchParams)(Object.fromEntries(t.entries()),"?");window.nav.go(`${window.location.pathname}${r}`),I(t)};return(0,a.jsx)(c.AppRootProvider,{children:(0,a.jsx)("div",{className:"VideoLayout__contentsWrapper",style:{overflowAnchor:"none"},children:(0,a.jsx)("div",{className:"VideoLayout__search",style:{display:"block"},children:(0,a.jsx)(h.CatalogVideo,{catalog:R,extendedData:e,sections:t,onGetSection:L,blockLayoutResolver:_.videoLayoutResolver,search:r})})})})}return w?(0,a.jsx)(u.Placeholder,{icon:(0,a.jsx)(S.Icon56ReportOutline,{}),header:p.getLang("search_error_videoshowcase_header"),stretched:!0,action:(0,a.jsx)(d.Button,{onClick:D,size:"m",children:p.getLang("search_error_videoshowcase_button")}),children:p.getLang("search_error_videoshowcase_subtitle")}):null}},688007:(e,t,r)=>{r.d(t,{getVideoSearchBySearchParams:()=>i});var o=r(434788),a=r(599809),s=r(964886),n=r(845847);const l=(e,t={})=>(0,a.api)(s.CATALOG_API_METHODS.GET_VIDEO_SEARCH,(0,o._)({},e),void 0,t);function i(e,t=null){let r={};return t&&(r={signal:t.signal}),l((0,n.getParamsForVideoSearchCatalog)(e),r)}},964886:(e,t,r)=>{r.d(t,{CATALOG_API_METHODS:()=>o,LONGER_FILTER_DURATION:()=>s,SHORTER_FILTER_DURATION:()=>a});const o={ADD_VIDEO:"video.add",GET_VIDEO_SEARCH:"catalog.getVideoSearchWeb2",DELETE_VIDEO:"video.delete",ADD_VIDEO_TO_FAVE:"fave.addVideo",REMOVE_VIDEO_FROM_FAVE:"fave.removeVideo",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete"},a=300,s=1200},12531:(e,t,r)=>{r.d(t,{useSearchParams:()=>n});var o=r(667294),a=r(538310);const s=/video\?(.+)/,n=()=>{const[e,t]=(0,o.useState)((()=>new URLSearchParams(document.location.search))),r=(0,o.useRef)();return(0,o.useEffect)((()=>{let e="";return r.current=(0,a.subscribeNavLocationChange)((r=>{const o=r.match(s);if(o&&o[1]){const r=new URLSearchParams(o[1]);r.delete("z");const a=r.toString();a!==e&&(e=a,t(new URLSearchParams(a)))}else t(new URLSearchParams(document.location.search))})),()=>{var e,t;null==(e=(t=r).current)||e.call(t)}}),[]),[e,t]}},845847:(e,t,r)=>{r.d(t,{filterArrayOfUniqueByKey:()=>s,getMutatedCatalogSections:()=>n,getParamsForVideoSearchCatalog:()=>l});var o=r(434788),a=r(964886);function s(e,t){return[...new Map(e.map((e=>[e[t],e]))).values()]}function n(e,t,r){const a=e.findIndex((({id:e})=>e===t.id));if(-1===a||!t.blocks||!r.blocks)return e;const s=(0,o._)({},t,{blocks:[...t.blocks,...r.blocks],next_from:r.next_from});return[...e.slice(0,a-1),s,...e.slice(a+1)]}function l(e){const t={},r={order:"sort",notsafe:"adult"};for(const[s,n]of e)if("len"===s){const e="1"===n?"shorter":"longer";t[e]="shorter"===e?`${a.SHORTER_FILTER_DURATION}`:`${a.LONGER_FILTER_DURATION}`}else{var o;t[null!=(o=r[s])?o:s]=n}return t.screen_ref="search_video_service",t}},194969:(e,t,r)=>{r.d(t,{VideoCardWrapper:()=>_});var o=r(434788),a=r(820224),s=r(785893),n=r(392594),l=r(40565),i=r(412859),c=r(292063),u=r(916207),d=r(957973),g=r(539791);const _=e=>{var t,{controls:r,actions:_,owner:p,video:S,onVideoOpen:v,collectClick:h}=e,E=(0,a._)(e,["controls","actions","owner","video","onVideoOpen","collectClick"]);const f=(0,i.useMenuActions)(S,_),m=(0,i.useControls)({video:S,controls:null!=r?r:[]}),y=(0,g.useRefLogView)(d.EventItemType.VIDEO,null==(t=S)?void 0:t.track_code);var C;return(0,s.jsx)(n.VideoCard,(0,o._)({getRef:y,controlItems:(0,s.jsx)(l.VideoCardControls,{video:S,collectClick:h,controls:null!=m?m:[]}),menuItems:f,video:(0,o._)({},(0,c.mapVideoToVideoCardItem)(S),{owner:(0,o._)({},null!=(C=(0,c.mapArtistToVideoCardOwner)(S))?C:(0,c.mapUserOrGroupToVideoCardOwner)(p),{badge:(0,u.getVerifiedBadge)(p)})}),onVideoOpen:v},E))}},996842:(e,t,r)=>{r.d(t,{VideoCardControls:()=>n});var o=r(785893),a=r(392594),s=r(903806);const n=({video:e,controls:t,collectClick:r})=>{var n;return(null==(n=t)?void 0:n.length)?(0,o.jsx)(o.Fragment,{children:t.map((t=>{if(t.type===s.ControlTypes.ICON){const{text:r,onClick:s,component:n}=t;return(0,o.jsx)(a.VideoCard.IconControl,{tooltipText:r,onClick:t=>s(t,e),icon:n},r)}if(t.type===s.ControlTypes.PLAYLIST_POPOVER){const{component:a}=t;return(0,o.jsx)(a,{video:e,collectClick:r},e.id)}}))}):null}},399588:(e,t,r)=>{r.d(t,{VideoCardControls:()=>o.VideoCardControls});var o=r(996842)},40565:(e,t,r)=>{r.d(t,{VideoCardControls:()=>o.VideoCardControls});var o=r(399588)},60819:(e,t,r)=>{r.d(t,{showEditVideoForm:()=>a});var o=r(514986);const a=({oid:e,vid:t})=>{const r={vid:t,oid:e};(0,o.showBox)("al_video.php?act=edit_box",r,{containerClass:"video_edit"})}},753472:(e,t,r)=>{r.d(t,{reportHandler:()=>o.reportHandler,showEditVideoForm:()=>a.showEditVideoForm});var o=r(590439),a=r(60819)},590439:(e,t,r)=>{r.d(t,{reportHandler:()=>s});var o=r(11010),a=r(29271);const s=(0,o._)((function*(e,t){e&&t&&(window.Videoview||(yield window.stManager.add([window.jsc("web/videoview.js")])),window.Videoview.showReportVideoForm(t,e,(()=>{var r;null==(r=window.VideoShowcase)||r.showCardFeedback(t,e,a.getLang("global_report_spam"))})))}))},412859:(e,t,r)=>{r.d(t,{useControls:()=>o.useControls,useMenuActions:()=>a.useMenuActions});var o=r(157863),a=r(230414)},157863:(e,t,r)=>{r.d(t,{useControls:()=>g});var o=r(667294),a=r(304680),s=r(293079),n=r(29271),l=r(441447),i=r(327038),c=r(903806),u=r(297455),d=r(839470);const g=({video:e,controls:t})=>(0,o.useMemo)((()=>{const{id:r,owner_id:o,can_edit:g,can_download:_,title:p,type:S,can_add:v}=e,h=Array.isArray(t)?t:[],E=(0,d.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");return g&&r&&o&&h.push({component:a.Icon16PenOutline,text:n.getLang("video_edit"),onClick:()=>(0,i.showEditVideoForm)({oid:String(o),vid:String(r)}),type:c.ControlTypes.ICON}),3===_&&r&&o&&p&&S&&h.push({component:s.Icon16DownloadOutline,text:n.getLang("video_download_short"),onClick:()=>(0,l.downloadVideo)({oid:String(o),title:p,type:S,vid:String(r)}),type:c.ControlTypes.ICON}),!E&&v&&h.push({type:c.ControlTypes.PLAYLIST_POPOVER,component:u.AddToPlaylistControl}),h}),[e,t])},230414:(e,t,r)=>{r.d(t,{useMenuActions:()=>i});var o=r(785893),a=r(667294),s=r(17117),n=r(29271),l=r(327038);const i=(e,t)=>(0,a.useMemo)((()=>{const r=Array.isArray(t)?t:[];if(e.owner_id!==window.vk.id&&e.owner_id&&e.id&&r.push({before:(0,o.jsx)(s.Icon20ReportOutline,{}),children:n.getLang("global_report_spam"),onClick:()=>(0,l.reportHandler)(String(e.id),String(e.owner_id))}),r.length)return r}),[e])},327038:(e,t,r)=>{r.d(t,{VideoCardWrapper:()=>o.VideoCardWrapper,reportHandler:()=>a.reportHandler,showEditVideoForm:()=>a.showEditVideoForm});var o=r(194969),a=(r(40565),r(412859),r(753472))},127822:(e,t,r)=>{r.d(t,{getTriggersMap:()=>n});var o,a=r(12052),s=r(899181);!function(e){e.VIDEO="video"}(o||(o={}));const n=e=>"video"===e?{triggerSearch:a.Video.onSearchInputChange,onBlur:a.Video.onSearchInputBlur,onFilterRemoved:a.Video.onFilterRemoved,onFiltersChanged:s.VideoShowcase.onSearchFiltersChanged}:null},743711:(e,t,r)=>{r.d(t,{showAudioPlaylist:()=>a});var o=r(9480);const a=({event:e,audioPlaylist:t,ctx:r})=>{o.AudioUtils.showAudioPlaylist(t.owner_id,t.id,t.access_key,r,e)}},40221:(e,t,r)=>{r.d(t,{showVideo:()=>s});var o=r(539791),a=r(12052);const s=({event:e,id:t,video:r})=>{let s;e.preventDefault(),!s&&window.Video&&window.Video.isGlobalSearchMode()&&window.Video.shouldShowSearchInPlaylistWithSearch()&&(s=window.Video.VIDEO_GLOBAL_SEARCH_TYPE);const n=r.viewed_duration?(0,o.getPlayFromByDuration)(r.viewed_duration):"";a.Video.show(e,t,{autoplay:1,queue:0,playlistId:s,playFrom:n,addParams:{track_code:r.track_code}},e.target)}},426131:(e,t,r)=>{r.d(t,{AddToPlaylistControl:()=>y});var o=r(434788),a=r(820224),s=r(785893),n=r(504190),l=r(667294),i=r(392594),c=r(352755),u=r(84562),d=r(358493),g=r(29271),_=r(292063),p=r(40073),S=r(166915),v=r(916207),h=r(362246),E=r(21677),f=r(957973),m=r(839470);const y=e=>{var t,r,{video:y,collectClick:C}=e,b=(0,a._)(e,["video","collectClick"]);const[A,w]=(0,l.useState)(!1),{owner_id:k=0,id:T=0,added:I}=y,R=(0,S.ensurePlaylistPopoverService)(),P=(0,v.getVideoCardKey)(k,T),O=(0,c.useEntitiesStore)(R.videoCardEntities,P),D=(0,E.usePlaylists)(R.$playlistEntityStore),{$playlistsLoading:L,$ownerId:x,addVideoCardEntity:V,togglePlaylistAddedEvent:H,fetchPlaylistsEvent:M,fetchMorePlaylistsEvent:N,$curVideoAddedToMy:q,clearStoreEvent:F}=(0,n.useUnit)(R),j=(0,m.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),G=(0,m.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later"),$=(null==(t=O)?void 0:t.added)?g.getLang("video_card_added_button_label"):g.getLang("video_card_add_button_label"),U=j&&G?void 0:$;return(0,l.useEffect)((()=>{V({added:Boolean(I),oid:k,vid:T})}),[]),(0,s.jsx)(p.PlaylistPopover,(0,o._)({action:"hover",shown:A,addedToMy:Boolean(q),onToggleVideoAdded:(e,t)=>{var r,o;return null==(o=C)||o({action:e?f.SearchClickActionMap.REMOVE_FROM_ME:f.SearchClickActionMap.ADD_TO_ME,track_code:null==(r=y)?void 0:r.track_code,type:f.EventItemType.VIDEO}),H({key:P,album_id:t,isAdded:e})},onCreateNewPlaylist:e=>{w(!1),F(),(0,h.createPlaylistPopup)(e,x,T,k,h.CreatePlaylistRequestOrigin.VIDEO_PLAYLISTS_MODAL)},addedToMyCheckboxDisabled:L,playlistsLoading:L,playlists:D,width:_.PLAYLIST_POPOVER_WIDTH,maxWidth:_.PLAYLIST_POPOVER_WIDTH,offsetDistance:_.PLAYLIST_POPOVER_VERTICAL_OFFSET,placement:"bottom-end",fetchMorePlaylistEvent:N,onShownChange:e=>{w(e),e&&M(P),e||F()}},b,{children:(0,s.jsx)(i.VideoCard.ExpandingControl,{icon:(null==(r=O)?void 0:r.added)?(0,s.jsx)(u.Icon16CheckOutline,{}):(0,s.jsx)(d.Icon16Add,{}),text:U,expanded:A})}))}},297455:(e,t,r)=>{r.d(t,{AddToPlaylistControl:()=>o.AddToPlaylistControl});var o=r(426131)},40073:(e,t,r)=>{r.d(t,{PlaylistPopover:()=>o.PlaylistPopover});var o=r(81682)},296747:(e,t,r)=>{r.d(t,{downloadVideo:()=>s});var o=r(504867),a=r(108705);const s=({oid:e,vid:t,title:r,type:s})=>{const n=Number(e),l=Number(t);window.ajax.post("al_video.php?act=get_download_url",{video_raw_id:(0,a.joinRawId)({ownerId:n,itemId:l})},{onDone:e=>{((e,t,r)=>{if(!e)return!1;const a=document.createElement("a");a.href=e,a.download=`${t}.mp4`,document.body.appendChild(a),a.click(),document.body.removeChild(a),(0,o.statlogsValueEvent)("video_downloads","",r)})(e,r,s)}})}},441447:(e,t,r)=>{r.d(t,{downloadVideo:()=>o.downloadVideo});var o=r(296747)},276405:(e,t,r)=>{r.d(t,{createPlaylistPopoverService:()=>_});var o=r(434788),a=r(916207),s=r(838740),n=r(555888),l=r(759336),i=r(584117),c=r(798116),u=r(629260),d=r(292063),g=r(830232);const _=(e,t)=>{const r=(0,s.createVideoGetAlbumsByVideoFx)({domain:e}),_=e.createEvent(),p=(0,s.createVideoAddToAlbumFx)({domain:e}),S=(0,s.createVideoRemoveFromAlbumFx)({domain:e}),v=e.createStore({}),h=e.createEffect((({controller:e,isAdded:t,query:r})=>{const o={controller:e,query:r};return t?S(o):p(o)})),E=e.createStore(t),f=e.createStore([]),m=e.createEvent(),y=(0,c.restore)(m,{}),C=e.createEvent(),b=e.createEvent(),A=e.createEvent(),w=(0,n.createEntitiesVideoAlbumService)({domain:e}),k=(0,l.createListsVideosAlbumsService)({domain:e,entitiesVideoAlbumService:w}),{videoCardEntities:T,addEntity:I,updateEntity:R}=(0,g.createVideoCardEntitiesService)({domain:e}),{$entitiesVideoAlbums:P}=w,{resetVideosAlbumsEvent:O}=k;P.reset(_);const D=e.createEvent(),L=e.createEvent(),x=(0,c.restore)(L,null).reset(_),V=e.createEvent(),H=(0,c.restore)(V,null).reset(_);(0,c.sample)({clock:D,target:I});const M=(0,c.combine)(y,x,((e,t)=>!!t||Object.values(e).some((e=>e&&e.containsVideo)))),N=(0,c.combine)(k.fetchVideosAlbumsFx.pending,r.pending,((e,t)=>e||t)),q=(0,u.combineEvents)({events:{albumsByVideo:r.done,albums:k.fetchVideosAlbumsFx.done},reset:_});return(0,c.sample)({clock:q,source:{videoEntities:P,ownerId:E},fn:({videoEntities:e,ownerId:t},{albumsByVideo:r})=>(0,a.mapAlbumsWithInclusionsToPlaylists)({albumsByVideo:r.result,albums:e,ownerId:t||0}),target:m}),(0,c.sample)({clock:q,fn:({albumsByVideo:{result:e}})=>e.includes(d.MY_VIDEO_ALBUM_ID),target:L}),(0,c.sample)({clock:C,source:E,filter:e=>Boolean(e),fn:e=>({query:{owner_id:e||0,extended:1},controller:new AbortController,entityKey:e||0}),target:k.fetchVideosAlbumsFx}),(0,c.sample)({clock:b,source:E,fn:e=>({entityKey:e,count:50}),target:k.fetchMoreVideosAlbumsEvent}),(0,c.sample)({clock:k.fetchVideosAlbumsFx.done,source:{ownerId:E,videoEntities:P,albumsByVideo:f,playlistEntityStore:y},filter:(e,{params:t})=>Boolean(t.query.offset),fn:({ownerId:e,albumsByVideo:t,playlistEntityStore:r},{result:s})=>{const n=(0,i.mapToEntity)({},s.items,(({id:t})=>(0,a.getFullAlbumId)({albumId:t,ownerId:e})));return(0,o._)({},r,(0,a.mapAlbumsWithInclusionsToPlaylists)({albumsByVideo:t,albums:n,ownerId:e||0}))},target:m}),(0,c.sample)({clock:C,source:{videoCardEntities:T,$ownerId:E},filter:({videoCardEntities:e},t)=>!!e[t],fn:({videoCardEntities:e,$ownerId:t},r)=>{const{vid:o,oid:a}=e[r];return{query:{video_id:o,owner_id:a,target_id:t},controller:new AbortController}},target:r}),(0,c.sample)({clock:r.doneData,target:f}),(0,c.sample)({clock:C,target:V}),(0,c.sample)({clock:O,fn:()=>({}),target:y}),(0,c.sample)({clock:A,source:{videoCardEntities:T,$ownerId:E},filter:({videoCardEntities:e},{key:t})=>!!e[t],fn:({videoCardEntities:e,$ownerId:t},{key:r,album_id:o,isAdded:s})=>{const n=(0,a.getFullAlbumId)({albumId:o,ownerId:t}),{vid:l,oid:i}=e[r];return{controller:new AbortController,fullId:n,query:{target_id:t,album_id:o,video_id:l,owner_id:i},isAdded:s}},target:h}),(0,c.sample)({clock:h,source:y,filter:(e,t)=>!(0,a.isMyVideoAlbum)(t.query.album_id),fn:(e,{query:t,isAdded:r})=>{const s=(0,o._)({},e),n=(0,a.getFullAlbumId)({albumId:t.album_id,ownerId:t.target_id}),l=e[n];return l&&(s[n]=(0,o._)({},l,{containsVideo:!r})),s},target:m}),(0,c.sample)({clock:h,filter:({query:{album_id:e}})=>(0,a.isMyVideoAlbum)(e),fn:({isAdded:e})=>!e,target:L}),(0,c.sample)({clock:M,source:H,filter:e=>!!e,fn:(e,t)=>({key:e,updates:{added:t}}),target:R}),(0,c.sample)({clock:h,source:v,fn:(e,{controller:t,fullId:r})=>{var a;return null==(a=e[r])||a.abort(),(0,o._)({},e,{[r]:t})},target:v}),(0,c.sample)({clock:_,source:r,fn:({controller:e})=>{var t;null==(t=e)||t.abort()}}),(0,c.sample)({clock:_,fn:()=>{},target:O}),(0,c.sample)({clock:[h.done,h.fail],source:y,filter:(e,t)=>("error"in t||!t.result)&&!(0,a.isMyVideoAlbum)(t.params.query.album_id),fn:(e,{params:{query:t,isAdded:r}})=>{const s=(0,o._)({},e),n=(0,a.getFullAlbumId)({albumId:t.album_id,ownerId:t.owner_id}),l=e[n];return l&&(s[n]=(0,o._)({},l,{containsVideo:r})),s},target:m}),(0,c.sample)({clock:[h.done,h.fail],filter:e=>("error"in e||!e.result)&&(0,a.isMyVideoAlbum)(e.params.query.album_id),fn:({params:{isAdded:e}})=>e,target:L}),(0,c.sample)({clock:A,source:{playlists:y,ownerId:E},fn:({playlists:e,ownerId:t},{isAdded:r,album_id:o})=>{var s;const n=(0,a.getFullAlbumId)({albumId:o,ownerId:t});(0,a.showPlaylistActionSnackbar)({ownerId:t||0,playlistId:o,playlistTitle:null==(s=e[n])?void 0:s.title,added:!r})}}),{addVideoCardEntity:D,videoCardEntities:T,togglePlaylistAddedEvent:A,fetchPlaylistsEvent:C,fetchMorePlaylistsEvent:b,resetVideosAlbumsEvent:O,$ownerId:E,$playlistsLoading:N,$curVideoAddedToMy:x,clearStoreEvent:_,$playlistEntityStore:y}}},830232:(e,t,r)=>{r.d(t,{createVideoCardEntitiesService:()=>l});var o=r(434788),a=r(798116),s=r(916207),n=r(453934);const l=({domain:e})=>{const t=e.createEvent(),r=(0,a.restore)(t,{}),l=e.createEvent(),i=e.createEvent();return(0,a.sample)({clock:l,source:r,fn:(e,t)=>{const r=(0,s.getVideoCardKey)(t.oid,t.vid);return(0,o._)({},e,{[r]:t})},target:t}),(0,a.sample)({clock:i,source:r,fn:(e,{key:t,updates:r})=>{const a=(0,o._)({},e[t],r);return"object"==typeof(s=a)&&null!==s&&"vid"in s&&"oid"in s&&"added"in s?(0,n.produce)(e,(e=>{e[t]=a})):e;var s},target:t}),{addEntity:l,updateEntity:i,videoCardEntities:r}}},855955:(e,t,r)=>{r.d(t,{ensurePlaylistPopoverService:()=>n});var o=r(276405),a=r(798116);let s;function n(){if(!s){const e=(0,a.createDomain)("global/video/playlists/popover");s=(0,o.createPlaylistPopoverService)(e,window.vk.id)}return s}},166915:(e,t,r)=>{r.d(t,{ensurePlaylistPopoverService:()=>o.ensurePlaylistPopoverService});var o=r(855955);r(276405),r(830232)},662273:(e,t,r)=>{function o(e,t){let r,o,a=!1;return function s(){if(a)return r=arguments,void(o=this);e.apply(this,arguments),a=!0,setTimeout((function(){a=!1,r&&(s.apply(o,r),r=o=null)}),t)}}r.d(t,{throttle:()=>o})},713990:(e,t,r)=>{r.d(t,{createCatalogGetAudioSearchService:()=>s});var o=r(798116),a=r(870918);const s=({domain:e,entitiesCatalogSections:t,entitiesVideoAlbumsService:r,entitiesVideoService:s,entitiesGroupsService:n,entitiesUsersService:l})=>{const i=(0,a.createCatalogGetAudioSearchFx)({domain:e}),c=e.createEvent();return(0,o.sample)({clock:c,fn:({query:e,need_blocks:t})=>({query:{query:e,need_blocks:t},controller:new AbortController}),target:i}),(0,o.sample)({clock:i.doneData,target:t.initCatalog}),(0,o.sample)({clock:i.doneData,filter:({groups:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({groups:e=[]})=>e,target:n.setGroupsEvent}),(0,o.sample)({clock:i.doneData,filter:({albums:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({albums:e=[]})=>e,target:r.setVideoAlbumsEvent}),(0,o.sample)({clock:i.doneData,filter:({profiles:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({profiles:e=[]})=>e,target:l.setUsersEvent}),(0,o.sample)({clock:i.doneData,filter:({videos:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({videos:e=[]})=>e,target:s.setVideosEvent}),{catalogGetAudioSearchFx:i,catalogSearchAudioEvent:c}}},427164:(e,t,r)=>{r.d(t,{default:()=>s});var o,a=r(310396);e=r.hmd(e),o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:e;const s=(0,a.default)(o)},310396:(e,t,r)=>{function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,{default:()=>o})}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,loadStylesheet,installedCssChunks;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,r,o)=>{if(!t){var a=1/0;for(i=0;i<deferred.length;i++){for(var[t,r,o]=deferred[i],s=!0,n=0;n<t.length;n++)(!1&o||a>=o)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[n])))?t.splice(n--,1):(s=!1,o<a&&(a=o));if(s){deferred.splice(i--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var i=deferred.length;i>0&&deferred[i-1][2]>o;i--)deferred[i]=deferred[i-1];deferred[i]=[t,r,o]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var o={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var a=2&t&&e;"object"==typeof a&&!~leafPrototypes.indexOf(a);a=getProto(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,__webpack_require__.d(r,o),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>25394===e?"web/chunks/AudioLongtapModal.5c994570.js":24817===e?"web/chunks/hls.b496ce21.js":75980===e?"web/chunks/menu_settings.ad849031.js":9375===e?"web/chunks/voice_message_player.1c43f503.js":28762===e?"web/chunks/speech.d9867703.js":57468===e?"web/chunks/SilentModeForms.6c78e68c.js":28872===e?"web/chunks/feed-client-nav-skeleton.23b1194f.js":35953===e?"web/chunks/feed-client-nav-async-right-block.6f6f61b6.js":60593===e?"web/chunks/ui_scroll.682e3bbe.js":26464===e?"web/chunks/6fb20e5b.async.cddef5dc.js":14930===e?"web/chunks/d250583b.async.8610a34b.js":90993===e?"web/chunks/ba3a5fe4.async.82a10a3d.js":48801===e?"web/chunks/181f948b.async.41a9e473.js":58932===e?"web/chunks/60e6414a.async.c385477c.js":59727===e?"web/chunks/VideoUpload.3acac7fc.js":96589===e?"web/chunks/8c18ebe1.async.e5af9a0e.js":89658===e?"web/chunks/video_groups_redesign.4d8ef2d8.js":35988===e?"web/chunks/aa108fff.async.f1c21a0e.js":23622===e?"web/chunks/0cc11d23.async.30054455.js":23559===e?"web/chunks/a9f179db.async.7a45b95d.js":54650===e?"web/chunks/video_showcase_horizontal_scroll_block.682e13e6.js":16957===e?"web/chunks/video_showcase_onboarding.1fc13901.js":63161===e?"web/chunks/video_showcase_nps.cb4cc3d3.js":62795===e?"web/chunks/video_tabs.7c045b6a.js":95413===e?"web/chunks/43dc6165.async.8840829e.js":52974===e?"web/chunks/videoplayer_v2.03be8337.js":72229===e?"web/chunks/VideoEditor.acfe1beb.js":30271===e?"web/chunks/VideoUploadModal.b5fe139e.js":31286===e?"web/chunks/VideoExternalUploadModal.479f67a1.js":74212===e?"web/chunks/"+e+".f60e3da7.js":19210===e?"web/chunks/helpHintsService.0edb9374.js":22197===e?"chunks/"+e+".fd9e68c0.js":77950===e?"chunks/"+e+".f03dc111.js":void 0,__webpack_require__.miniCssF=e=>25394===e?"web/chunks/5e3e105f.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/a2979e7d.css":59727===e?"web/chunks/43d06ff5.css":89658===e?"web/chunks/0f03ad5d.css":54650===e?"web/chunks/43f97c51.css":16957===e?"web/chunks/b4893c8d.css":63161===e?"web/chunks/286898ea.css":62795===e?"web/chunks/e844020f.css":72229===e?"web/chunks/8a1e1be6.css":{30271:1,31286:1}[e]?"web/chunks/a6aadac7.css":void 0,__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,r,o)=>{if(inProgress[e])inProgress[e].push(t);else{var a,s;if(void 0!==r)for(var n=document.getElementsByTagName("script"),l=0;l<n.length;l++){var i=n[l];if(i.getAttribute("src")==e||i.getAttribute("data-webpack")=="vk:"+r){a=i;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack","vk:"+r),a.src=e),inProgress[e]=[t];var c=(t,r)=>{a.onerror=a.onload=null,clearTimeout(u);var o=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),s&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",loadStylesheet=e=>new Promise(((t,r)=>{var o=__webpack_require__.miniCssF(e),a=__webpack_require__.p+o;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var a=(n=r[o]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){var n;if((a=(n=s[o]).getAttribute("data-href"))===e||a===t)return n}})(o,a))return t();((e,t,r,o)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=s=>{if(a.onerror=a.onload=null,"load"===s.type)r();else{var n=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=n,i.request=l,a.parentNode.removeChild(a),o(i)}},a.href=t,document.head.appendChild(a)})(e,a,t,r)})),installedCssChunks={45973:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{16957:1,25394:1,30271:1,31286:1,54650:1,57468:1,59727:1,62795:1,63161:1,72229:1,75980:1,89658:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={45973:0};__webpack_require__.f.j=(t,r)=>{var o=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((r,a)=>o=e[t]=[r,a]));r.push(o[2]=a);var s=__webpack_require__.p+__webpack_require__.u(t),n=new Error;__webpack_require__.l(s,(r=>{if(__webpack_require__.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",n.name="ChunkLoadError",n.type=a,n.request=s,o[1](n)}}),"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[s,n,l]=r,i=0;if(s.some((t=>0!==e[t]))){for(o in n)__webpack_require__.o(n,o)&&(__webpack_require__.m[o]=n[o]);if(l)var c=l(__webpack_require__)}for(t&&t(r);i<s.length;i++)a=s[i],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(c)},r=self.webpackChunkvkweb=self.webpackChunkvkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__.O(void 0,[213,2067,83737,57451,71610,5038,84400,36834,95167,1208,12163,56459,22212,99812,21323],(()=>__webpack_require__(237421)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();