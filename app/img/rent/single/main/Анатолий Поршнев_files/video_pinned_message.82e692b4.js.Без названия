(()=>{"use strict";var e,t,n,o={600820:(e,t,n)=>{n.d(t,{Icon12VerifiedAlt:()=>o});var o=(0,n(28178).makeIcon)("Icon12VerifiedAlt","verified_alt_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="verified_alt_12"><path d="M4.5 7.586 2.957 6.043a1 1 0 0 0-1.414 1.414l2.25 2.25a1 1 0 0 0 1.414 0l5.25-5.25a1 1 0 0 0-1.414-1.414z" /></symbol>',12,12,!1,void 0)},742783:(e,t,n)=>{n.d(t,{Icon16Pin:()=>o});var o=(0,n(28178).makeIcon)("Icon16Pin","pin_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="pin_16"><path fill="currentColor" d="m10.235 2.106 3.657 3.663c.225.226.064.633-.263.633h-.523a.895.895 0 0 0-.633.263L10.758 8.38a.896.896 0 0 0-.262.633v2.996c0 .554-.7.858-1.1.456l-2.301-2.3-3.57 3.57a.893.893 0 1 1-1.264-1.263L5.83 8.898l-2.29-2.29c-.391-.392-.109-1.102.456-1.102H6.99a.895.895 0 0 0 .633-.262L9.338 3.53a.896.896 0 0 0 .263-.634V2.37c0-.32.403-.495.634-.263" /></symbol>',16,16,!1,void 0)},797074:(e,t,n)=>{n.d(t,{default:()=>o});const o={wrapper:"PinnedMessage-module__wrapper--qQdRp",container:"PinnedMessage-module__container--sQyXI",comment:"PinnedMessage-module__comment--uoqzs",pinIcon:"PinnedMessage-module__pinIcon--gRU1g",author:"PinnedMessage-module__author--i_tVF",authorWithBackground:"PinnedMessage-module__authorWithBackground--qBz9e",authorWithoutMargin:"PinnedMessage-module__authorWithoutMargin--gMc3J",moreAction:"PinnedMessage-module__moreAction--ynv5l"}},667794:(e,t,n)=>{var o,a,r,i=n(434788),s=n(785893),l=n(786006),d=n(293579),c=n(973935),u=n(640445),m=n(283452),_=n(321850);(null==(a=window.vk)||null==(o=a.pe)?void 0:o.static_manager_dynamic_imports)&&(null==(r=window.vk)?void 0:r.stDomain)&&(n.p=window.vk.stDomain+"/dist/");try{window.stManager.done(window.jsc("web/video_pinned_message.js")),(0,d.registerReactApplication)(u.APP_NAME,(e=>{const t=(0,d.getReactRootEl)(u.APP_NAME);(0,_.pushNavDestroy)((()=>{t&&c.unmountComponentAtNode(t)})),c.render((0,s.jsx)(l.PinnedMessage,(0,i._)({},e)),t)})),(0,m.tq)().setStartupHandler("VideoPinnedMessage/init",(({payload:e})=>{const t={ownerId:e.data.owner_id,commentId:e.data.comment_id,canUnpin:!!e.data.can_unpin,canDelete:!!e.data.can_delete,canReport:!!e.data.can_report,text:e.data.text||"",authorId:e.data.author_id,authorName:e.data.author_name||"",authorVerified:!!e.data.author_verified,authorHref:e.data.author_href||""};u.PinnedMessageComponent.init(t)}))}catch(e){}},786006:(e,t,n)=>{n.d(t,{PinnedMessage:()=>h});var o=n(785893),a=n(667294),r=n(600820),i=n(20403),s=n(742783),l=n(629932),d=n(86894),c=n(797074),u=n(659397),m=n(108705),_=n(82161),p=n(821103);const h=({ownerId:e,commentId:t,text:n,authorId:h,authorName:f,authorHref:g,authorVerified:v=!1,canUnpin:w,canDelete:y,canReport:b})=>{const P=(0,a.useRef)(null),[M,j]=(0,a.useState)(!1),x=(0,u.debounce)((()=>!M&&P.current?j(!0):null),500),I=h===e;if((0,a.useEffect)((()=>{const e=document.querySelector("#mv_chat_messages_wrap .ui_scroll_content");var n;e&&(e.style.paddingTop=t?`${(null==(n=P.current)?void 0:n.offsetHeight)||0}px`:"0")}),[t,P,M]),(0,a.useEffect)((()=>{var e,t;return null==(t=window.VideoChat)||null==(e=t.scroll)||e.scroller.addEventListener("scroll",x),()=>{var e,t;null==(t=window.VideoChat)||null==(e=t.scroll)||e.scroller.removeEventListener("scroll",x)}}),[]),!t)return null;const O=(0,o.jsxs)("a",{href:g,target:"_blank",onClick:e=>e.stopPropagation(),className:(0,u.classNames)(c.default.author,{[c.default.authorWithBackground]:I,[c.default.authorWithoutMargin]:I&&M}),children:[f,v&&(0,o.jsx)(r.Icon12VerifiedAlt,{}),I&&(0,o.jsx)(i.Icon12Favorite,{})]}),k=(0,_.getTemplate)("video_chat_pinned_message_actions_menu",{owner_id:e,comment_id:t,show_delete:!!y,show_report:!!b,show_unpin:!!w,show_hide:!w});return(0,o.jsx)("div",{id:`pinned_message${(0,m.joinFullId)(e,t)}`,className:c.default.wrapper,onClick:()=>{M||j(!0);const n=(0,p.getMsgElement)(e,t);n&&(window.VideoChat.scroll.scrollIntoView(n),n.classList.add("mv_chat_message_selected"),setTimeout((()=>{n.classList.remove("mv_chat_message_selected")}),1e3))},ref:P,children:(0,o.jsxs)("div",{className:c.default.container,children:[(0,o.jsx)(s.Icon16Pin,{className:c.default.pinIcon}),(0,o.jsx)("div",{className:c.default.comment,children:(0,o.jsxs)(d.Footnote,{weight:"2",children:[!M&&O,(0,o.jsxs)(l.TextClamp,{lines:M?1:5,children:[M&&O,(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})]})]})}),(0,o.jsx)("div",{className:c.default.moreAction,dangerouslySetInnerHTML:{__html:k},onClick:e=>e.stopPropagation()})]})})}},640445:(e,t,n)=>{n.d(t,{APP_NAME:()=>o,PinnedMessageComponent:()=>a});const o="PinnedMessage";const a={init:function(e){window.initReactApplication(o,e||{})}}},821103:(e,t,n)=>{n.d(t,{getMsgElement:()=>o});const o=(e,t)=>document.querySelector(`#mv_chat_msg${e}_${t}`)}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e].call(n.exports,n,n.exports,r),n.exports}r.m=o,e=[],r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var a=Object.create(null);r.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,r.d(a,i),a},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.e=()=>Promise.resolve(),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/dist/",(()=>{var e={90169:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,s,l]=n,d=0;if(i.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var c=l(r)}for(t&&t(n);d<i.length;d++)a=i[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self.webpackChunkvkweb=self.webpackChunkvkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[213,2067,83737,95167],(()=>r(667794)));i=r.O(i)})();